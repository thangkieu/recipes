"use strict";(self.webpackChunkudemy_recipe=self.webpackChunkudemy_recipe||[]).push([[787],{787:(Z,_,p)=>{p.r(_),p.d(_,{ShoppingListModule:()=>v});var a=p(6019),r=p(7537),g=p(1002),t=p(3668),d=p(259);function u(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"span",7),t.TgZ(2,"p",8),t._uU(3,"No items"),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",9),t.NdJ("click",function(){return t.CHM(n),t.oxw().addIngredient()}),t._UZ(6,"span",10),t._uU(7," Add item "),t.qZA(),t.qZA(),t.qZA()}}function h(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",17),t.TgZ(2,"input",18),t.NdJ("keydown",function(i){const m=t.CHM(n).index;return t.oxw(2).onKeydown(i,m)})("paste",function(i){return t.CHM(n),t.oxw(2).onPaste(i)})("blur",function(){const c=t.CHM(n).index;return t.oxw(2).onBlur(c)}),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){const c=t.CHM(n).index;return t.oxw(2).remove(c)}),t._UZ(4,"span",20),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=s.index;t.xp6(2),t.Q6J("formControlName",n)}}function f(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"div",12),t.TgZ(2,"form",13),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw().submit()}),t.TgZ(3,"div",14),t.YNc(4,h,5,1,"ng-container",15),t.qZA(),t.TgZ(5,"button",16),t.NdJ("click",function(){return t.CHM(n),t.oxw().addIngredient()}),t._UZ(6,"span",10),t._uU(7," Add item "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("ngForOf",n.items.controls)}}const x=[{path:"",component:(()=>{class e{constructor(n,o){this.shoppingListService=n,this.fb=o,this.ingredients=[{name:"Onion",amount:"2 tr\xe1i"}]}ngOnInit(){this.form=this.fb.group({items:this.fb.array(this.shoppingListService.listArr.map(n=>this.fb.control(n)))})}get items(){return this.form.get("items")}ngOnDestroy(){}addIngredient(n=""){this.items.push(this.fb.control(n)),this.shoppingListService.add([n])}submit(){}onKeydown(n,o){"Enter"===n.key&&(n.preventDefault(),this.onBlur(o),this.addIngredient())}onBlur(n){this.shoppingListService.update(n,this.form.value.items[n])}remove(n){this.shoppingListService.remove(n),this.items.removeAt(n)}onPaste(n){var o;n.preventDefault();const c=((null===(o=n.clipboardData)||void 0===o?void 0:o.getData("text").trim().split("\n"))||[]).map((m,l)=>{const C=m.trim().replace(/^-\s\[[\s|x]\]\s/g,"");return 0!==l&&this.addIngredient(),C});this.items.setValue(c)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d._),t.Y36(r.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shopping-list"]],decls:8,vars:2,consts:[[1,"container","pt-3"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"mb-3"],["class","card text-center p-5",4,"ngIf","ngIfElse"],["hasData",""],[1,"card","text-center","p-5"],[1,"ti-harddrive","empty-icon"],[1,"mt-3","mb-3"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"ti-plus"],[1,"row","card","p-3"],[1,"col-sm-7"],[3,"formGroup","ngSubmit"],["formArrayName","items"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-default","btn-sm",3,"click"],[1,"d-flex","mb-3","gap-3"],["type","text","placeholder","Name",1,"form-control","form-control-sm",3,"formControlName","keydown","paste","blur"],["tabindex","-1",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"ti-trash"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4",3),t._uU(4,"Shopping List"),t.qZA(),t.YNc(5,u,8,0,"div",4),t.YNc(6,f,8,2,"ng-template",null,5,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&n){const i=t.MAs(7);t.xp6(5),t.Q6J("ngIf",!o.items.length)("ngIfElse",i)}},directives:[a.O5,r._Y,r.JL,r.sg,r.CE,a.sg,r.Fj,r.JJ,r.u],styles:["a[_ngcontent-%COMP%]{color:red}.empty-icon[_ngcontent-%COMP%]{font-size:3rem}"]}),e})()}];let v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,r.UX,g.Bz.forChild(x)]]}),e})()}}]);