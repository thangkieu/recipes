var hS=Object.defineProperty,fS=Object.defineProperties,pS=Object.getOwnPropertyDescriptors,sI=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,oI=(Lt,je,N)=>je in Lt?hS(Lt,je,{enumerable:!0,configurable:!0,writable:!0,value:N}):Lt[je]=N,kn=(Lt,je)=>{for(var N in je||(je={}))gS.call(je,N)&&oI(Lt,N,je[N]);if(sI)for(var N of sI(je))mS.call(je,N)&&oI(Lt,N,je[N]);return Lt},js=(Lt,je)=>fS(Lt,pS(je));(self.webpackChunkudemy_recipe=self.webpackChunkudemy_recipe||[]).push([[179],{7798:(Lt,je,N)=>{"use strict";N.d(je,{nm:()=>tt});var f=N(2049),fe=(N(3668),N(3590),N(7713),N(8239)),Ae=N(1572),Ie=N(1177),te=N(4213),Pe=N(3855);const Y=new Map,ie={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function Qe(ke){return Y.get(ke)||ie}function Ke(ke,Ne){Y.set(ke,Ne)}function _t(){return Re}class gt{constructor(Ne,Be,ut,Pt,qt){if(this.operation=Ne,this.retryPolicy=Be,this.getWaitDuration=ut,this.lowerBound=Pt,this.upperBound=qt,this.pending=null,this.nextErrorWaitInterval=Pt,Pt>qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ne){var Be=this;return(0,fe.Z)(function*(){Be.stop();try{Be.pending=new te.BH,yield(ke=Be.getNextRun(Ne),new Promise(Ne=>{setTimeout(Ne,ke)})),Be.pending.resolve(),yield Be.pending.promise,Be.pending=new te.BH,yield Be.operation(),Be.pending.resolve(),yield Be.pending.promise,Be.process(!0).catch(()=>{})}catch(ut){Be.retryPolicy(ut)?Be.process(!1).catch(()=>{}):Be.stop()}var ke})()}getNextRun(Ne){if(Ne)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Be}}}const xe=new te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ee(ke){if(!Qe(ke).activated)throw xe.create("use-before-activation",{appName:ke.name})}function $e(ke,Ne){return pe.apply(this,arguments)}function pe(){return(pe=(0,fe.Z)(function*({url:ke,body:Ne},Be){const ut={"Content-Type":"application/json"},Pt=Be.getImmediate({optional:!0});Pt&&(ut["X-Firebase-Client"]=Pt.getPlatformInfoString());const qt={method:"POST",body:JSON.stringify(Ne),headers:ut};let Nn,fr;try{Nn=yield fetch(ke,qt)}catch(Rr){throw xe.create("fetch-network-error",{originalErrorMessage:Rr.message})}if(200!==Nn.status)throw xe.create("fetch-status-error",{httpStatus:Nn.status});try{fr=yield Nn.json()}catch(Rr){throw xe.create("fetch-parse-error",{originalErrorMessage:Rr.message})}const On=fr.ttl.match(/^([\d.]+)(s)$/);if(!On||!On[2]||isNaN(Number(On[1])))throw xe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fr.ttl}`});const Br=1e3*Number(On[1]),Sr=Date.now();return{token:fr.attestationToken,expireTimeMillis:Sr+Br,issuedAtTimeMillis:Sr}})).apply(this,arguments)}function Bt(ke,Ne){const{projectId:Be,appId:ut,apiKey:Pt}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Be}/apps/${ut}:exchangeDebugToken?key=${Pt}`,body:{debug_token:Ne}}}const $t="firebase-app-check-store";let en=null;function Zt(){return en||(en=new Promise((ke,Ne)=>{try{const Be=indexedDB.open("firebase-app-check-database",1);Be.onsuccess=ut=>{ke(ut.target.result)},Be.onerror=ut=>{var Pt;Ne(xe.create("storage-open",{originalErrorMessage:null===(Pt=ut.target.error)||void 0===Pt?void 0:Pt.message}))},Be.onupgradeneeded=ut=>{0===ut.oldVersion&&ut.target.result.createObjectStore($t,{keyPath:"compositeKey"})}}catch(Be){Ne(xe.create("storage-open",{originalErrorMessage:Be.message}))}}),en)}function Fn(){return(Fn=(0,fe.Z)(function*(ke,Ne){const ut=(yield Zt()).transaction($t,"readwrite"),qt=ut.objectStore($t).put({compositeKey:ke,value:Ne});return new Promise((Nn,fr)=>{qt.onsuccess=On=>{Nn()},ut.onerror=On=>{var Br;fr(xe.create("storage-set",{originalErrorMessage:null===(Br=On.target.error)||void 0===Br?void 0:Br.message}))}})})).apply(this,arguments)}const En=new Pe.Yd("@firebase/app-check");function Ot(ke,Ne){return(0,te.hl)()?function(ke,Ne){return function(ke,Ne){return Fn.apply(this,arguments)}(function(ke){return`${ke.options.appId}-${ke.name}`}(ke),Ne)}(ke,Ne).catch(Be=>{En.warn(`Failed to write token to IndexedDB. Error: ${Be}`)}):Promise.resolve()}function qn(){return _t().enabled}function Ge(){return ue.apply(this,arguments)}function ue(){return(ue=(0,fe.Z)(function*(){const ke=_t();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ve={error:"UNKNOWN_ERROR"};function dt(ke){return te.US.encodeString(JSON.stringify(ke),!1)}function St(ke){return pt.apply(this,arguments)}function pt(){return(pt=(0,fe.Z)(function*(ke,Ne=!1){const Be=ke.app;ee(Be);const ut=Qe(Be);let qt,Pt=ut.token;if(!Pt){const On=yield ut.cachedTokenPromise;On&&pn(On)&&(Pt=On)}if(!Ne&&Pt&&pn(Pt))return{token:Pt.token};let fr,Nn=!1;if(qn()){ut.exchangeTokenPromise||(ut.exchangeTokenPromise=$e(Bt(Be,yield Ge()),ke.platformLoggerProvider).then(Br=>(ut.exchangeTokenPromise=void 0,Br)),Nn=!0);const On=yield ut.exchangeTokenPromise;return yield Ot(Be,On),Ke(Be,Object.assign(Object.assign({},ut),{token:On})),{token:On.token}}try{ut.exchangeTokenPromise||(ut.exchangeTokenPromise=ut.provider.getToken().then(On=>(ut.exchangeTokenPromise=void 0,On)),Nn=!0),Pt=yield ut.exchangeTokenPromise}catch(On){"appCheck/throttled"===On.code?En.warn(On.message):En.error(On),qt=On}return Pt?(fr={token:Pt.token},Ke(Be,Object.assign(Object.assign({},ut),{token:Pt})),yield Ot(Be,Pt)):fr=mn(qt),Nn&&rn(Be,fr),fr})).apply(this,arguments)}function tn(ke,Ne){const Be=Qe(ke),ut=Be.tokenObservers.filter(Pt=>Pt.next!==Ne);0===ut.length&&Be.tokenRefresher&&Be.tokenRefresher.isRunning()&&Be.tokenRefresher.stop(),Ke(ke,Object.assign(Object.assign({},Be),{tokenObservers:ut}))}function Gn(ke){const{app:Ne}=ke,Be=Qe(Ne);let ut=Be.tokenRefresher;ut||(ut=function(ke){const{app:Ne}=ke;return new gt((0,fe.Z)(function*(){let ut;if(ut=Qe(Ne).token?yield St(ke,!0):yield St(ke),ut.error)throw ut.error}),()=>!0,()=>{const Be=Qe(Ne);if(Be.token){let ut=Be.token.issuedAtTimeMillis+.5*(Be.token.expireTimeMillis-Be.token.issuedAtTimeMillis)+3e5;return ut=Math.min(ut,Be.token.expireTimeMillis-3e5),Math.max(0,ut-Date.now())}return 0},3e4,96e4)}(ke),Ke(Ne,Object.assign(Object.assign({},Be),{tokenRefresher:ut}))),!ut.isRunning()&&Be.isTokenAutoRefreshEnabled&&ut.start()}function rn(ke,Ne){const Be=Qe(ke).tokenObservers;for(const ut of Be)try{"EXTERNAL"===ut.type&&null!=Ne.error?ut.error(Ne.error):ut.next(Ne)}catch(Pt){}}function pn(ke){return ke.expireTimeMillis-Date.now()>0}function mn(ke){return{token:dt(Ve),error:ke}}class _e{constructor(Ne,Be){this.app=Ne,this.platformLoggerProvider=Be}_delete(){const{tokenObservers:Ne}=Qe(this.app);for(const Be of Ne)tn(this.app,Be.next);return Promise.resolve()}}const Ir="app-check-internal";(0,Ae._registerComponent)(new Ie.wA("app-check",ke=>function(ke,Ne){return new _e(ke,Ne)}(ke.getProvider("app").getImmediate(),ke.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,Ne,Be)=>{ke.getProvider(Ir).initialize()})),(0,Ae._registerComponent)(new Ie.wA(Ir,ke=>function(ke){return{getToken:Ne=>St(ke,Ne),addTokenListener:Ne=>function(ke,Ne,Be,ut){const{app:Pt}=ke,qt=Qe(Pt),Nn={next:Be,error:ut,type:Ne};if(Ke(Pt,Object.assign(Object.assign({},qt),{tokenObservers:[...qt.tokenObservers,Nn]})),qt.token&&pn(qt.token)){const fr=qt.token;Promise.resolve().then(()=>{Be({token:fr.token}),Gn(ke)}).catch(()=>{})}qt.cachedTokenPromise.then(()=>Gn(ke))}(ke,"INTERNAL",Ne),removeTokenListener:Ne=>tn(ke.app,Ne)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.5.2");class tt{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3590:(Lt,je,N)=>{"use strict";N.d(je,{Ot:()=>he,z6:()=>fe,ZF:()=>oe,hX:()=>Qe});var f=N(7713),_=N(3668),$=N(2049);class he{constructor(gt){return gt}}class fe{constructor(){return(0,f.C6)()}}const te=new _.OlP("angularfire2._apps"),Pe={provide:he,useFactory:function(Le){return Le&&1===Le.length?Le[0]:new he((0,f.Mq)())},deps:[[new _.FiY,te]]},Y={provide:fe,deps:[[new _.FiY,te]]};function ie(Le){return(gt,ze)=>{const vt=gt.runOutsideAngular(()=>Le(ze));return new he(vt)}}let Re=(()=>{class Le{constructor(ze){(0,f.KN)("angularfire",$.q4.full,"core"),(0,f.KN)("angularfire",$.q4.full,"app"),(0,f.KN)("angular",_.q4F.full,ze.toString())}}return Le.\u0275fac=function(ze){return new(ze||Le)(_.LFG(_.Lbi))},Le.\u0275mod=_.oAB({type:Le}),Le.\u0275inj=_.cJS({providers:[Pe,Y]}),Le})();function Qe(Le,...gt){return{ngModule:Re,providers:[{provide:te,useFactory:ie(Le),multi:!0,deps:[_.R0b,_.zs3,$.HU,...gt]}]}}const oe=(0,$.u3)(f.ZF,!0)},7843:(Lt,je,N)=>{"use strict";N.d(je,{zQ:()=>pe,rT:()=>le,f7:()=>Ce,L6:()=>Et,_Q:()=>ee,lh:()=>ae,Qv:()=>xe,nw:()=>$e});var f=N(3668),_=N(273),$=N(2997),he=N(8305),fe=N(5947),Ae=N(3719),Ie=N(1733);class te extends _.x{constructor(Bt=1/0,rt=1/0,Ct=Ie.l){super(),this._bufferSize=Bt,this._windowTime=rt,this._timestampProvider=Ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=rt===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,rt)}next(Bt){const{isStopped:rt,_buffer:Ct,_infiniteTimeWindow:$t,_timestampProvider:Ht,_windowTime:en}=this;rt||(Ct.push(Bt),!$t&&Ct.push(Ht.now()+en)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const rt=this._innerSubscribe(Bt),{_infiniteTimeWindow:Ct,_buffer:$t}=this,Ht=$t.slice();for(let en=0;en<Ht.length&&!Bt.closed;en+=Ct?1:2)Bt.next(Ht[en]);return this._checkFinalizedStatuses(Bt),rt}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:rt,_buffer:Ct,_infiniteTimeWindow:$t}=this,Ht=($t?1:2)*Bt;if(Bt<1/0&&Ht<Ct.length&&Ct.splice(0,Ct.length-Ht),!$t){const en=rt.now();let Zt=0;for(let Vt=1;Vt<Ct.length&&Ct[Vt]<=en;Vt+=2)Zt=Vt;Zt&&Ct.splice(0,Zt+1)}}}var Pe=N(3174);function Y(nt,Bt,rt){var Ct,$t;let Ht,en=!1;return nt&&"object"==typeof nt?(Ht=null!==(Ct=nt.bufferSize)&&void 0!==Ct?Ct:1/0,Bt=null!==($t=nt.windowTime)&&void 0!==$t?$t:1/0,en=!!nt.refCount,rt=nt.scheduler):Ht=null!=nt?nt:1/0,(0,Pe.B)({connector:()=>new te(Ht,Bt,rt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:en})}var ie=N(3067),Re=N(5044);function Qe(nt,Bt){return(0,Re.m)(Bt)?(0,ie.w)(()=>nt,Bt):(0,ie.w)(()=>nt)}var Ke=N(4763),_t=N(4753),yt=N(6047),oe=N(5222),Me=N(461),We=N(2049),qe=N(7905),Le=N(6019),gt=N(7798);N(7892);const xe=new f.OlP("angularfire2.auth.use-emulator"),Et=new f.OlP("angularfire2.auth.settings"),ee=new f.OlP("angularfire2.auth.tenant-id"),le=new f.OlP("angularfire2.auth.langugage-code"),ae=new f.OlP("angularfire2.auth.use-device-language"),Ce=new f.OlP("angularfire.auth.persistence"),$e=(nt,Bt,rt,Ct,$t,Ht,en,Zt)=>(0,qe.cc)(`${nt.name}.auth`,"AngularFireAuth",nt.name,()=>{const Vt=Bt.runOutsideAngular(()=>nt.auth());if(rt&&Vt.useEmulator(...rt),Ct&&(Vt.tenantId=Ct),Vt.languageCode=$t,Ht&&Vt.useDeviceLanguage(),en)for(const[cn,Jt]of Object.entries(en))Vt.settings[cn]=Jt;return Zt&&Vt.setPersistence(Zt),Vt},[rt,Ct,$t,Ht,en,Zt]);let pe=(()=>{class nt{constructor(rt,Ct,$t,Ht,en,Zt,Vt,cn,Jt,vn,Rn,Fn){const Kn=new _.x,Zn=(0,$.of)(void 0).pipe((0,Ke.Q)(en.outsideAngular),(0,ie.w)(()=>Ht.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,2115)))),(0,_t.U)(()=>(0,qe.on)(rt,Ht,Ct)),(0,_t.U)(Un=>$e(Un,Ht,Zt,cn,Jt,vn,Vt,Rn)),Y({bufferSize:1,refCount:!1}));if((0,Le.PM)($t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$.of)(null);else{Zn.pipe((0,yt.P)()).subscribe();const En=Zn.pipe((0,ie.w)(Ot=>Ot.getRedirectResult().then(zt=>zt,()=>null)),We.iC,Y({bufferSize:1,refCount:!1})),er=Zn.pipe((0,ie.w)(Ot=>new he.y(zt=>({unsubscribe:Ht.runOutsideAngular(()=>Ot.onAuthStateChanged(bn=>zt.next(bn),bn=>zt.error(bn),()=>zt.complete()))})))),tr=Zn.pipe((0,ie.w)(Ot=>new he.y(zt=>({unsubscribe:Ht.runOutsideAngular(()=>Ot.onIdTokenChanged(bn=>zt.next(bn),bn=>zt.error(bn),()=>zt.complete()))}))));this.authState=En.pipe(Qe(er),(0,oe.R)(en.outsideAngular),(0,Ke.Q)(en.insideAngular)),this.user=En.pipe(Qe(tr),(0,oe.R)(en.outsideAngular),(0,Ke.Q)(en.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(Ot=>Ot?(0,fe.D)(Ot.getIdToken()):(0,$.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(Ot=>Ot?(0,fe.D)(Ot.getIdTokenResult()):(0,$.of)(null))),this.credential=(0,Ae.T)(En,Kn,this.authState.pipe((0,Me.h)(Ot=>!Ot))).pipe((0,_t.U)(Ot=>(null==Ot?void 0:Ot.user)?Ot:null),(0,oe.R)(en.outsideAngular),(0,Ke.Q)(en.insideAngular))}return(0,qe.pX)(this,Zn,Ht,{spy:{apply:(Un,En,er)=>{(Un.startsWith("signIn")||Un.startsWith("createUser"))&&er.then(tr=>Kn.next(tr))}}})}}return nt.\u0275fac=function(rt){return new(rt||nt)(f.LFG(qe.Dh),f.LFG(qe.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(We.HU),f.LFG(xe,8),f.LFG(Et,8),f.LFG(ee,8),f.LFG(le,8),f.LFG(ae,8),f.LFG(Ce,8),f.LFG(gt.nm,8))},nt.\u0275prov=f.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"any"}),nt})()},1e3:(Lt,je,N)=>{"use strict";N.d(je,{ST:()=>_e});var f=N(3668),_=N(2210),$=N(8305),he=N(5947),fe=N(2997),Ae=N(2049),Ie=N(3970),te=N(7518),Pe=N(4753),Y=N(9495),ie=N(5488),Re=N(461),Qe=N(7905),Ke=N(6019),yt=(N(2115),N(6293)),oe=N(5023),Me=N(4213),We=N(1177);function gt(q,F){if(void 0===F)return{merge:!1};if(void 0!==F.mergeFields&&void 0!==F.merge)throw new oe.WA("invalid-argument",`Invalid options passed to function ${q}(): You cannot specify both "merge" and "mergeFields".`);return F}function ze(){if("undefined"==typeof Uint8Array)throw new oe.WA("unimplemented","Uint8Arrays are not available in this environment.")}function vt(){if(!(0,oe.Me)())throw new oe.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class xe{constructor(F){this._delegate=F}static fromBase64String(F){return vt(),new xe(oe.Jj.fromBase64String(F))}static fromUint8Array(F){return ze(),new xe(oe.Jj.fromUint8Array(F))}toBase64(){return vt(),this._delegate.toBase64()}toUint8Array(){return ze(),this._delegate.toUint8Array()}isEqual(F){return this._delegate.isEqual(F._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Et(q){return function(q,F){if("object"!=typeof q||null===q)return!1;const V=q;for(const Oe of["next","error","complete"])if(Oe in V&&"function"==typeof V[Oe])return!0;return!1}(q)}class le{enableIndexedDbPersistence(F,V){return(0,oe.ST)(F._delegate,{forceOwnership:V})}enableMultiTabIndexedDbPersistence(F){return(0,oe.fH)(F._delegate)}clearIndexedDbPersistence(F){return(0,oe.Fc)(F._delegate)}}class ae{constructor(F,V,Oe){this._delegate=V,this._persistenceProvider=Oe,this.INTERNAL={delete:()=>this.terminate()},F instanceof oe.l7||(this._appCompat=F)}get _databaseId(){return this._delegate._databaseId}settings(F){const V=this._delegate._getSettings();!F.merge&&V.host!==F.host&&(0,oe.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),F.merge&&delete(F=Object.assign(Object.assign({},V),F)).merge,this._delegate._setSettings(F)}useEmulator(F,V,Oe={}){(0,oe.at)(this._delegate,F,V,Oe)}enableNetwork(){return(0,oe.Ix)(this._delegate)}disableNetwork(){return(0,oe.TF)(this._delegate)}enablePersistence(F){let V=!1,Oe=!1;return F&&(V=!!F.synchronizeTabs,Oe=!!F.experimentalForceOwningTab,(0,oe.Wi)("synchronizeTabs",V,"experimentalForceOwningTab",Oe)),V?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Oe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,oe.Mx)(this._delegate)}onSnapshotsInSync(F){return(0,oe.sc)(this._delegate,F)}get app(){if(!this._appCompat)throw new oe.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(F){try{return new Jt(this,(0,oe.hJ)(this._delegate,F))}catch(V){throw rt(V,"collection()","Firestore.collection()")}}doc(F){try{return new Bt(this,(0,oe.JU)(this._delegate,F))}catch(V){throw rt(V,"doc()","Firestore.doc()")}}collectionGroup(F){try{return new Zt(this,(0,oe.B$)(this._delegate,F))}catch(V){throw rt(V,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(F){return(0,oe.i3)(this._delegate,V=>F(new pe(this,V)))}batch(){return(0,oe.qY)(this._delegate),new Tt(new oe.PU(this._delegate,F=>(0,oe.GL)(this._delegate,F)))}loadBundle(F){return(0,oe.Pb)(this._delegate,F)}namedQuery(F){return(0,oe.L$)(this._delegate,F).then(V=>V?new Zt(this,V):null)}}class Ce extends oe.u7{constructor(F){super(),this.firestore=F}convertBytes(F){return new xe(new oe.Jj(F))}convertReference(F){const V=this.convertDocumentKey(F,this.firestore._databaseId);return Bt.forKey(V,this.firestore,null)}}class pe{constructor(F,V){this._firestore=F,this._delegate=V,this._userDataWriter=new Ce(F)}get(F){const V=vn(F);return this._delegate.get(V).then(Oe=>new Ht(this._firestore,new oe.xU(this._firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,V.converter)))}set(F,V,Oe){const se=vn(F);return Oe?(gt("Transaction.set",Oe),this._delegate.set(se,V,Oe)):this._delegate.set(se,V),this}update(F,V,Oe,...se){const He=vn(F);return 2===arguments.length?this._delegate.update(He,V):this._delegate.update(He,V,Oe,...se),this}delete(F){const V=vn(F);return this._delegate.delete(V),this}}class Tt{constructor(F){this._delegate=F}set(F,V,Oe){const se=vn(F);return Oe?(gt("WriteBatch.set",Oe),this._delegate.set(se,V,Oe)):this._delegate.set(se,V),this}update(F,V,Oe,...se){const He=vn(F);return 2===arguments.length?this._delegate.update(He,V):this._delegate.update(He,V,Oe,...se),this}delete(F){const V=vn(F);return this._delegate.delete(V),this}commit(){return this._delegate.commit()}}class nt{constructor(F,V,Oe){this._firestore=F,this._userDataWriter=V,this._delegate=Oe}fromFirestore(F,V){const Oe=new oe.$q(this._firestore._delegate,this._userDataWriter,F._key,F._document,F.metadata,null);return this._delegate.fromFirestore(new en(this._firestore,Oe),null!=V?V:{})}toFirestore(F,V){return V?this._delegate.toFirestore(F,V):this._delegate.toFirestore(F)}static getInstance(F,V){const Oe=nt.INSTANCES;let se=Oe.get(F);se||(se=new WeakMap,Oe.set(F,se));let He=se.get(V);return He||(He=new nt(F,new Ce(F),V),se.set(V,He)),He}}nt.INSTANCES=new WeakMap;class Bt{constructor(F,V){this.firestore=F,this._delegate=V,this._userDataWriter=new Ce(F)}static forPath(F,V,Oe){if(F.length%2!=0)throw new oe.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${F.canonicalString()} has ${F.length}`);return new Bt(V,new oe.my(V._delegate,Oe,new oe.Ky(F)))}static forKey(F,V,Oe){return new Bt(V,new oe.my(V._delegate,Oe,F))}get id(){return this._delegate.id}get parent(){return new Jt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(F){try{return new Jt(this.firestore,(0,oe.hJ)(this._delegate,F))}catch(V){throw rt(V,"collection()","DocumentReference.collection()")}}isEqual(F){return(F=(0,Me.m9)(F))instanceof oe.my&&(0,oe.Eo)(this._delegate,F)}set(F,V){V=gt("DocumentReference.set",V);try{return V?(0,oe.pl)(this._delegate,F,V):(0,oe.pl)(this._delegate,F)}catch(Oe){throw rt(Oe,"setDoc()","DocumentReference.set()")}}update(F,V,...Oe){try{return 1===arguments.length?(0,oe.r7)(this._delegate,F):(0,oe.r7)(this._delegate,F,V,...Oe)}catch(se){throw rt(se,"updateDoc()","DocumentReference.update()")}}delete(){return(0,oe.oe)(this._delegate)}onSnapshot(...F){const V=Ct(F),Oe=$t(F,se=>new Ht(this.firestore,new oe.xU(this.firestore._delegate,this._userDataWriter,se._key,se._document,se.metadata,this._delegate.converter)));return(0,oe.cf)(this._delegate,V,Oe)}get(F){let V;return V="cache"===(null==F?void 0:F.source)?(0,oe.kl)(this._delegate):"server"===(null==F?void 0:F.source)?(0,oe.Xk)(this._delegate):(0,oe.QT)(this._delegate),V.then(Oe=>new Ht(this.firestore,new oe.xU(this.firestore._delegate,this._userDataWriter,Oe._key,Oe._document,Oe.metadata,this._delegate.converter)))}withConverter(F){return new Bt(this.firestore,this._delegate.withConverter(F?nt.getInstance(this.firestore,F):null))}}function rt(q,F,V){return q.message=q.message.replace(F,V),q}function Ct(q){for(const F of q)if("object"==typeof F&&!Et(F))return F;return{}}function $t(q,F){var V,Oe;let se;return se=Et(q[0])?q[0]:Et(q[1])?q[1]:"function"==typeof q[0]?{next:q[0],error:q[1],complete:q[2]}:{next:q[1],error:q[2],complete:q[3]},{next:He=>{se.next&&se.next(F(He))},error:null===(V=se.error)||void 0===V?void 0:V.bind(se),complete:null===(Oe=se.complete)||void 0===Oe?void 0:Oe.bind(se)}}class Ht{constructor(F,V){this._firestore=F,this._delegate=V}get ref(){return new Bt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(F){return this._delegate.data(F)}get(F,V){return this._delegate.get(F,V)}isEqual(F){return(0,oe.qK)(this._delegate,F._delegate)}}class en extends Ht{data(F){const V=this._delegate.data(F);return(0,oe.K9)(void 0!==V,"Document in a QueryDocumentSnapshot should exist"),V}}class Zt{constructor(F,V){this.firestore=F,this._delegate=V,this._userDataWriter=new Ce(F)}where(F,V,Oe){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.ar)(F,V,Oe)))}catch(se){throw rt(se,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(F,V){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Xo)(F,V)))}catch(Oe){throw rt(Oe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.b9)(F)))}catch(V){throw rt(V,"limit()","Query.limit()")}}limitToLast(F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.vh)(F)))}catch(V){throw rt(V,"limitToLast()","Query.limitToLast()")}}startAt(...F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.e0)(...F)))}catch(V){throw rt(V,"startAt()","Query.startAt()")}}startAfter(...F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.TQ)(...F)))}catch(V){throw rt(V,"startAfter()","Query.startAfter()")}}endBefore(...F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Lx)(...F)))}catch(V){throw rt(V,"endBefore()","Query.endBefore()")}}endAt(...F){try{return new Zt(this.firestore,(0,oe.IO)(this._delegate,(0,oe.Wu)(...F)))}catch(V){throw rt(V,"endAt()","Query.endAt()")}}isEqual(F){return(0,oe.iE)(this._delegate,F._delegate)}get(F){let V;return V="cache"===(null==F?void 0:F.source)?(0,oe.UQ)(this._delegate):"server"===(null==F?void 0:F.source)?(0,oe.zN)(this._delegate):(0,oe.PL)(this._delegate),V.then(Oe=>new cn(this.firestore,new oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,Oe._snapshot)))}onSnapshot(...F){const V=Ct(F),Oe=$t(F,se=>new cn(this.firestore,new oe.W(this.firestore._delegate,this._userDataWriter,this._delegate,se._snapshot)));return(0,oe.cf)(this._delegate,V,Oe)}withConverter(F){return new Zt(this.firestore,this._delegate.withConverter(F?nt.getInstance(this.firestore,F):null))}}class Vt{constructor(F,V){this._firestore=F,this._delegate=V}get type(){return this._delegate.type}get doc(){return new en(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cn{constructor(F,V){this._firestore=F,this._delegate=V}get query(){return new Zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(F=>new en(this._firestore,F))}docChanges(F){return this._delegate.docChanges(F).map(V=>new Vt(this._firestore,V))}forEach(F,V){this._delegate.forEach(Oe=>{F.call(V,new en(this._firestore,Oe))})}isEqual(F){return(0,oe.qK)(this._delegate,F._delegate)}}class Jt extends Zt{constructor(F,V){super(F,V),this.firestore=F,this._delegate=V}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const F=this._delegate.parent;return F?new Bt(this.firestore,F):null}doc(F){try{return new Bt(this.firestore,void 0===F?(0,oe.JU)(this._delegate):(0,oe.JU)(this._delegate,F))}catch(V){throw rt(V,"doc()","CollectionReference.doc()")}}add(F){return(0,oe.ET)(this._delegate,F).then(V=>new Bt(this.firestore,V))}isEqual(F){return(0,oe.Eo)(this._delegate,F._delegate)}withConverter(F){return new Jt(this.firestore,this._delegate.withConverter(F?nt.getInstance(this.firestore,F):null))}}function vn(q){return(0,oe.Cf)(q,oe.my)}class Rn{constructor(...F){this._delegate=new oe.Lz(...F)}static documentId(){return new Rn(oe.Xb.keyField().canonicalString())}isEqual(F){return(F=(0,Me.m9)(F))instanceof oe.Lz&&this._delegate._internalPath.isEqual(F._internalPath)}}class Fn{constructor(F){this._delegate=F}static serverTimestamp(){const F=(0,oe.Bt)();return F._methodName="FieldValue.serverTimestamp",new Fn(F)}static delete(){const F=(0,oe.AK)();return F._methodName="FieldValue.delete",new Fn(F)}static arrayUnion(...F){const V=(0,oe.vr)(...F);return V._methodName="FieldValue.arrayUnion",new Fn(V)}static arrayRemove(...F){const V=(0,oe.Ab)(...F);return V._methodName="FieldValue.arrayRemove",new Fn(V)}static increment(F){const V=(0,oe.nP)(F);return V._methodName="FieldValue.increment",new Fn(V)}isEqual(F){return this._delegate.isEqual(F._delegate)}}const Kn={Firestore:ae,GeoPoint:oe.F8,Timestamp:oe.EK,Blob:xe,Transaction:pe,WriteBatch:Tt,DocumentReference:Bt,DocumentSnapshot:Ht,Query:Zt,QueryDocumentSnapshot:en,QuerySnapshot:cn,CollectionReference:Jt,FieldPath:Rn,FieldValue:Fn,setLogLevel:function(q){(0,oe.Ub)(q)},CACHE_SIZE_UNLIMITED:oe.IX};var q;(function(q,F){q.INTERNAL.registerComponent(new We.wA("firestore-compat",V=>((F,V)=>new ae(F,V,new le))(V.getProvider("app-compat").getImmediate(),V.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Kn)))})(q=yt.Z),q.registerVersion("@firebase/firestore-compat","0.1.8");var En=N(7843),er=N(7798);function zt(q,F){return function(q,F=_.z){return new $.y(V=>{let Oe;return null!=F?F.schedule(()=>{Oe=q.onSnapshot({includeMetadataChanges:!0},V)}):Oe=q.onSnapshot({includeMetadataChanges:!0},V),()=>{null!=Oe&&Oe()}})}(q,F)}function qn(q,F){return zt(q,F).pipe((0,Pe.U)(V=>({payload:V,type:"query"})))}function Ge(q,F){return qn(q,F).pipe((0,Ie.O)(void 0),(0,te.G)(),(0,Pe.U)(([V,Oe])=>{const se=Oe.payload.docChanges(),He=se.map(at=>({type:at.type,payload:at}));return V&&JSON.stringify(V.payload.metadata)!==JSON.stringify(Oe.payload.metadata)&&Oe.payload.docs.forEach((at,Rt)=>{const Ft=se.find(re=>re.doc.ref.isEqual(at.ref)),ye=null==V?void 0:V.payload.docs.find(re=>re.ref.isEqual(at.ref));Ft&&JSON.stringify(Ft.doc.metadata)===JSON.stringify(at.metadata)||!Ft&&ye&&JSON.stringify(ye.metadata)===JSON.stringify(at.metadata)||He.push({type:"modified",payload:{oldIndex:Rt,newIndex:Rt,type:"modified",doc:at}})}),He}))}function ue(q,F,V){return Ge(q,V).pipe((0,Y.R)((Oe,se)=>function(q,F,V){return F.forEach(Oe=>{V.indexOf(Oe.type)>-1&&(q=function(q,F){switch(F.type){case"added":if(!q[F.newIndex]||!q[F.newIndex].doc.ref.isEqual(F.doc.ref))return Ve(q,F.newIndex,0,F);break;case"modified":if(null==q[F.oldIndex]||q[F.oldIndex].doc.ref.isEqual(F.doc.ref)){if(F.oldIndex!==F.newIndex){const V=q.slice();return V.splice(F.oldIndex,1),V.splice(F.newIndex,0,F),V}return Ve(q,F.newIndex,1,F)}break;case"removed":if(q[F.oldIndex]&&q[F.oldIndex].doc.ref.isEqual(F.doc.ref))return Ve(q,F.oldIndex,1)}return q}(q,Oe))}),q}(Oe,se.map(He=>He.payload),F),[]),(0,ie.x)(),(0,Pe.U)(Oe=>Oe.map(se=>({type:se.type,payload:se}))))}function Ve(q,F,V,...Oe){const se=q.slice();return se.splice(F,V,...Oe),se}function St(q){return(!q||0===q.length)&&(q=["added","removed","modified"]),q}N(7892);class pt{constructor(F,V,Oe){this.ref=F,this.query=V,this.afs=Oe}stateChanges(F){let V=Ge(this.query,this.afs.schedulers.outsideAngular);return F&&F.length>0&&(V=V.pipe((0,Pe.U)(Oe=>Oe.filter(se=>F.indexOf(se.type)>-1)))),V.pipe((0,Ie.O)(void 0),(0,te.G)(),(0,Re.h)(([Oe,se])=>se.length>0||!Oe),(0,Pe.U)(([Oe,se])=>se),Ae.iC)}auditTrail(F){return this.stateChanges(F).pipe((0,Y.R)((V,Oe)=>[...V,...Oe],[]))}snapshotChanges(F){const V=St(F);return ue(this.query,V,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(F={}){return qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(V=>V.payload.docs.map(Oe=>F.idField?Object.assign(Object.assign({},Oe.data()),{[F.idField]:Oe.id}):Oe.data())),Ae.iC)}get(F){return(0,he.D)(this.query.get(F)).pipe(Ae.iC)}add(F){return this.ref.add(F)}doc(F){return new Dt(this.ref.doc(F),this.afs)}}class Dt{constructor(F,V){this.ref=F,this.afs=V}set(F,V){return this.ref.set(F,V)}update(F){return this.ref.update(F)}delete(){return this.ref.delete()}collection(F,V){const Oe=this.ref.collection(F),{ref:se,query:He}=mn(Oe,V);return new pt(se,He,this.afs)}snapshotChanges(){return function(q,F){return zt(q,F).pipe((0,Ie.O)(void 0),(0,te.G)(),(0,Pe.U)(([V,Oe])=>Oe.exists?(null==V?void 0:V.exists)?{payload:Oe,type:"modified"}:{payload:Oe,type:"added"}:{payload:Oe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(F={}){return this.snapshotChanges().pipe((0,Pe.U)(({payload:V})=>F.idField?Object.assign(Object.assign({},V.data()),{[F.idField]:V.id}):V.data()))}get(F){return(0,he.D)(this.ref.get(F)).pipe(Ae.iC)}}class tn{constructor(F,V){this.query=F,this.afs=V}stateChanges(F){return F&&0!==F.length?Ge(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(V=>V.filter(Oe=>F.indexOf(Oe.type)>-1)),(0,Re.h)(V=>V.length>0),Ae.iC):Ge(this.query,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}auditTrail(F){return this.stateChanges(F).pipe((0,Y.R)((V,Oe)=>[...V,...Oe],[]))}snapshotChanges(F){const V=St(F);return ue(this.query,V,this.afs.schedulers.outsideAngular).pipe(Ae.iC)}valueChanges(F={}){return qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(Oe=>Oe.payload.docs.map(se=>F.idField?Object.assign({[F.idField]:se.id},se.data()):se.data())),Ae.iC)}get(F){return(0,he.D)(this.query.get(F)).pipe(Ae.iC)}}const Gn=new f.OlP("angularfire2.enableFirestorePersistence"),nr=new f.OlP("angularfire2.firestore.persistenceSettings"),rn=new f.OlP("angularfire2.firestore.settings"),pn=new f.OlP("angularfire2.firestore.use-emulator");function mn(q,F=(V=>V)){return{query:F(q),ref:q}}let _e=(()=>{class q{constructor(V,Oe,se,He,at,Rt,Ft,ye,re,de,Ze,et,Qt,hn,dn,yn,Yn){this.schedulers=Ft;const xn=(0,Qe.on)(V,Rt,Oe),fn=re;de&&(0,En.nw)(xn,Rt,Ze,Qt,hn,dn,et,yn),[this.firestore,this.persistenceEnabled$]=(0,Qe.cc)(`${xn.name}.firestore`,"AngularFirestore",xn.name,()=>{const Bn=Rt.runOutsideAngular(()=>xn.firestore());if(He&&Bn.settings(He),fn&&Bn.useEmulator(...fn),se&&!(0,Ke.PM)(at)){const Ut=()=>{try{return(0,he.D)(Bn.enablePersistence(ye||void 0).then(()=>!0,()=>!1))}catch(an){return"undefined"!=typeof console&&console.warn(an),(0,fe.of)(!1)}};return[Bn,Rt.runOutsideAngular(Ut)]}return[Bn,(0,fe.of)(!1)]},[He,fn,se])}collection(V,Oe){let se;se="string"==typeof V?this.firestore.collection(V):V;const{ref:He,query:at}=mn(se,Oe),Rt=this.schedulers.ngZone.run(()=>He);return new pt(Rt,at,this)}collectionGroup(V,Oe){const se=Oe||(at=>at),He=this.firestore.collectionGroup(V);return new tn(se(He),this)}doc(V){let Oe;Oe="string"==typeof V?this.firestore.doc(V):V;const se=this.schedulers.ngZone.run(()=>Oe);return new Dt(se,this)}createId(){return this.firestore.collection("_").doc().id}}return q.\u0275fac=function(V){return new(V||q)(f.LFG(Qe.Dh),f.LFG(Qe.xv,8),f.LFG(Gn,8),f.LFG(rn,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ae.HU),f.LFG(nr,8),f.LFG(pn,8),f.LFG(En.zQ,8),f.LFG(En.Qv,8),f.LFG(En.L6,8),f.LFG(En._Q,8),f.LFG(En.rT,8),f.LFG(En.lh,8),f.LFG(En.f7,8),f.LFG(er.nm,8))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"any"}),q})()},7905:(Lt,je,N)=>{"use strict";N.d(je,{hO:()=>Qe,xv:()=>Pe,Dh:()=>te,GT:()=>Ae,cc:()=>Ke,on:()=>Y,pX:()=>fe});var f=N(3668),_=N(7892),$=N(2049);Lt=N.hmd(Lt);const he=["ngOnDestroy"],fe=(Me,We,qe,Le={})=>new Proxy(Me,{get:(gt,ze)=>qe.runOutsideAngular(()=>{var vt;if(Me[ze])return(null===(vt=null==Le?void 0:Le.spy)||void 0===vt?void 0:vt.get)&&Le.spy.get(ze,Me[ze]),Me[ze];if(he.indexOf(ze)>-1)return()=>{};const xe=We.toPromise().then(Et=>{const ee=Et&&Et[ze];return"function"==typeof ee?ee.bind(Et):ee&&ee.then?ee.then(le=>qe.run(()=>le)):qe.run(()=>ee)});return new Proxy(()=>{},{get:(Et,ee)=>xe[ee],apply:(Et,ee,le)=>xe.then(ae=>{var Ce;const $e=ae&&ae(...le);return(null===(Ce=null==Le?void 0:Le.spy)||void 0===Ce?void 0:Ce.apply)&&Le.spy.apply(ze,le,$e),$e})})})}),Ae=(Me,We)=>{We.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Le=>{Object.defineProperty(Me.prototype,Le,Object.getOwnPropertyDescriptor(qe.prototype||qe,Le))})})};class Ie{constructor(We){return We}}const te=new f.OlP("angularfire2.app.options"),Pe=new f.OlP("angularfire2.app.name");function Y(Me,We,qe){const gt="object"==typeof qe&&qe||{};gt.name=gt.name||"string"==typeof qe&&qe||"[DEFAULT]";const vt=_.Z.apps.filter(xe=>xe&&xe.name===gt.name)[0]||We.runOutsideAngular(()=>_.Z.initializeApp(Me,gt));try{JSON.stringify(Me)!==JSON.stringify(vt.options)&&ie("error",`${vt.name} Firebase App already initialized with different options${Lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(xe){}return new Ie(vt)}const ie=(Me,...We)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Me](...We)},Re={provide:Ie,useFactory:Y,deps:[te,f.R0b,[new f.FiY,Pe]]};let Qe=(()=>{class Me{constructor(qe){_.Z.registerVersion("angularfire",$.q4.full,"core"),_.Z.registerVersion("angularfire",$.q4.full,"app-compat"),_.Z.registerVersion("angular",f.q4F.full,qe.toString())}static initializeApp(qe,Le){return{ngModule:Me,providers:[{provide:te,useValue:qe},{provide:Pe,useValue:Le}]}}}return Me.\u0275fac=function(qe){return new(qe||Me)(f.LFG(f.Lbi))},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({providers:[Re]}),Me})();function Ke(Me,We,qe,Le,gt){const[,ze,vt]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Me)||[];if(ze)return function(Me,We){try{return Me.toString()===We.toString()}catch(qe){return Me===We}}(gt,vt)||(oe("error",`${We} was already initialized on the ${qe} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:gt,was:vt})),ze;{const xe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Me,xe,gt]),xe}}const yt=!!Lt.hot,oe=(Me,...We)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Me](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2049:(Lt,je,N)=>{"use strict";N.d(je,{q4:()=>Ds,iC:()=>bt,HU:()=>x,vb:()=>yo,JM:()=>Ss,nk:()=>As,u3:()=>S});var f=N(3668),_=N(7713),$=N(8239),he=N(1572),fe=N(4213),Ae=N(1177),Ie=N(3855);N(8094);const Pe="@firebase/remote-config",Y="0.3.3",Ke=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nt{constructor(D,z,Ee,it){this.client=D,this.storage=z,this.storageCache=Ee,this.logger=it}isCachedDataFresh(D,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-z,it=Ee<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${it}.`),it}fetch(D){var z=this;return(0,$.Z)(function*(){const[Ee,it]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(it&&z.isCachedDataFresh(D.cacheMaxAgeMillis,Ee))return it;D.eTag=it&&it.eTag;const ct=yield z.client.fetch(D),on=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ct.status&&on.push(z.storage.setLastSuccessfulFetchResponse(ct)),yield Promise.all(on),ct})()}}function Bt(y=navigator){return y.languages&&y.languages[0]||y.language}class rt{constructor(D,z,Ee,it,ct,on){this.firebaseInstallations=D,this.sdkVersion=z,this.namespace=Ee,this.projectId=it,this.apiKey=ct,this.appId=on}fetch(D){var z=this;return(0,$.Z)(function*(){const[Ee,it]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),on=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,vr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},gn={sdk_version:z.sdkVersion,app_instance_id:Ee,app_instance_id_token:it,app_id:z.appId,language_code:Bt()},_r={method:"POST",headers:vr,body:JSON.stringify(gn)},dr=fetch(on,_r),Bi=new Promise((gs,mi)=>{D.signal.addEventListener(()=>{const zi=new Error("The operation was aborted.");zi.name="AbortError",mi(zi)})});let gi;try{yield Promise.race([dr,Bi]),gi=yield dr}catch(gs){let mi="fetch-client-network";throw"AbortError"===gs.name&&(mi="fetch-timeout"),Ke.create(mi,{originalErrorMessage:gs.message})}let mt=gi.status;const jn=gi.headers.get("ETag")||void 0;let Ro,Sn;if(200===gi.status){let gs;try{gs=yield gi.json()}catch(mi){throw Ke.create("fetch-client-parse",{originalErrorMessage:mi.message})}Ro=gs.entries,Sn=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===Sn?mt=500:"NO_CHANGE"===Sn?mt=304:("NO_TEMPLATE"===Sn||"EMPTY_CONFIG"===Sn)&&(Ro={}),304!==mt&&200!==mt)throw Ke.create("fetch-status",{httpStatus:mt});return{status:mt,eTag:jn,config:Ro}})()}}class Ht{constructor(D,z){this.client=D,this.storage=z}fetch(D){var z=this;return(0,$.Z)(function*(){const Ee=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(D,Ee)})()}attemptFetch(D,{throttleEndTimeMillis:z,backoffCount:Ee}){var it=this;return(0,$.Z)(function*(){yield function(y,D){return new Promise((z,Ee)=>{const it=Math.max(D-Date.now(),0),ct=setTimeout(z,it);y.addEventListener(()=>{clearTimeout(ct),Ee(Ke.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,z);try{const ct=yield it.client.fetch(D);return yield it.storage.deleteThrottleMetadata(),ct}catch(ct){if(!function(y){if(!(y instanceof fe.ZR&&y.customData))return!1;const D=Number(y.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ct))throw ct;const on={throttleEndTimeMillis:Date.now()+(0,fe.$s)(Ee),backoffCount:Ee+1};return yield it.storage.setThrottleMetadata(on),it.attemptFetch(D,on)}})()}}class Vt{constructor(D,z,Ee,it,ct){this.app=D,this._client=z,this._storageCache=Ee,this._storage=it,this._logger=ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cn(y,D){const z=y.target.error||void 0;return Ke.create(D,{originalErrorMessage:z&&z.message})}const Jt="app_namespace_store";class Kn{constructor(D,z,Ee,it=function(){return new Promise((y,D)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=Ee=>{D(cn(Ee,"storage-open"))},z.onsuccess=Ee=>{y(Ee.target.result)},z.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(Jt,{keyPath:"compositeKey"})}}catch(z){D(Ke.create("storage-open",{originalErrorMessage:z}))}})}()){this.appId=D,this.appName=z,this.namespace=Ee,this.openDbPromise=it}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var z=this;return(0,$.Z)(function*(){const Ee=yield z.openDbPromise;return new Promise((it,ct)=>{const vr=Ee.transaction([Jt],"readonly").objectStore(Jt),gn=z.createCompositeKey(D);try{const _r=vr.get(gn);_r.onerror=dr=>{ct(cn(dr,"storage-get"))},_r.onsuccess=dr=>{const Bi=dr.target.result;it(Bi?Bi.value:void 0)}}catch(_r){ct(Ke.create("storage-get",{originalErrorMessage:_r&&_r.message}))}})})()}set(D,z){var Ee=this;return(0,$.Z)(function*(){const it=yield Ee.openDbPromise;return new Promise((ct,on)=>{const gn=it.transaction([Jt],"readwrite").objectStore(Jt),_r=Ee.createCompositeKey(D);try{const dr=gn.put({compositeKey:_r,value:z});dr.onerror=Bi=>{on(cn(Bi,"storage-set"))},dr.onsuccess=()=>{ct()}}catch(dr){on(Ke.create("storage-set",{originalErrorMessage:dr&&dr.message}))}})})()}delete(D){var z=this;return(0,$.Z)(function*(){const Ee=yield z.openDbPromise;return new Promise((it,ct)=>{const vr=Ee.transaction([Jt],"readwrite").objectStore(Jt),gn=z.createCompositeKey(D);try{const _r=vr.delete(gn);_r.onerror=dr=>{ct(cn(dr,"storage-delete"))},_r.onsuccess=()=>{it()}}catch(_r){ct(Ke.create("storage-delete",{originalErrorMessage:_r&&_r.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Zn{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,$.Z)(function*(){const z=D.storage.getLastFetchStatus(),Ee=D.storage.getLastSuccessfulFetchTimestampMillis(),it=D.storage.getActiveConfig(),ct=yield z;ct&&(D.lastFetchStatus=ct);const on=yield Ee;on&&(D.lastSuccessfulFetchTimestampMillis=on);const vr=yield it;vr&&(D.activeConfig=vr)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function tr(){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,$.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(y){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new Ae.wA("remote-config",function(D,{instanceIdentifier:z}){const Ee=D.getProvider("app").getImmediate(),it=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ke.create("registration-window");if(!(0,fe.hl)())throw Ke.create("indexed-db-unavailable");const{projectId:ct,apiKey:on,appId:vr}=Ee.options;if(!ct)throw Ke.create("registration-project-id");if(!on)throw Ke.create("registration-api-key");if(!vr)throw Ke.create("registration-app-id");const gn=new Kn(vr,Ee.name,z=z||"firebase"),_r=new Zn(gn),dr=new Ie.Yd(Pe);dr.logLevel=Ie.in.ERROR;const Bi=new rt(it,he.SDK_VERSION,z,ct,on,vr),gi=new Ht(Bi,gn),mt=new nt(gi,gn,_r,dr),jn=new Vt(Ee,mt,_r,gn,dr);return function(y){const D=(0,fe.m9)(y);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(jn),jn},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Pe,Y),(0,he.registerVersion)(Pe,Y,"esm2017");var zt=N(4995);const bn="/firebase-messaging-sw.js",qn="/firebase-cloud-messaging-push-scope",Ge="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ge="google.c.a.c_id",Ve="google.c.a.c_l",dt="google.c.a.ts",St="google.c.a.e";var Dt=(()=>{return(y=Dt||(Dt={})).PUSH_RECEIVED="push-received",y.NOTIFICATION_CLICKED="notification-clicked",Dt;var y})();function tn(y){const D=new Uint8Array(y);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gn(y){const z=(y+"=".repeat((4-y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(z),it=new Uint8Array(Ee.length);for(let ct=0;ct<Ee.length;++ct)it[ct]=Ee.charCodeAt(ct);return it}const nr="fcm_token_details_db",pn="fcm_token_object_Store";function mn(y){return _e.apply(this,arguments)}function _e(){return _e=(0,$.Z)(function*(y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ct=>ct.name).includes(nr))return null;let D=null;return(yield(0,zt.openDb)(nr,5,function(){var Ee=(0,$.Z)(function*(it){var ct;if(it.oldVersion<2||!it.objectStoreNames.contains(pn))return;const on=it.transaction.objectStore(pn),vr=yield on.index("fcmSenderId").get(y);if(yield on.clear(),vr)if(2===it.oldVersion){const gn=vr;if(!gn.auth||!gn.p256dh||!gn.endpoint)return;D={token:gn.fcmToken,createTime:null!==(ct=gn.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:gn.auth,p256dh:gn.p256dh,endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:"string"==typeof gn.vapidKey?gn.vapidKey:tn(gn.vapidKey)}}}else if(3===it.oldVersion){const gn=vr;D={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:tn(gn.auth),p256dh:tn(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:tn(gn.vapidKey)}}}else if(4===it.oldVersion){const gn=vr;D={token:gn.fcmToken,createTime:gn.createTime,subscriptionOptions:{auth:tn(gn.auth),p256dh:tn(gn.p256dh),endpoint:gn.endpoint,swScope:gn.swScope,vapidKey:tn(gn.vapidKey)}}}});return function(it){return Ee.apply(this,arguments)}}())).close(),yield(0,zt.deleteDb)(nr),yield(0,zt.deleteDb)("fcm_vapid_details_db"),yield(0,zt.deleteDb)("undefined"),me(D)?D:null}),_e.apply(this,arguments)}function me(y){if(!y||!y.subscriptionOptions)return!1;const{subscriptionOptions:D}=y;return"number"==typeof y.createTime&&y.createTime>0&&"string"==typeof y.token&&y.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const V="firebase-messaging-store";let Oe=null;function se(){return Oe||(Oe=(0,zt.openDb)("firebase-messaging-database",1,y=>{0===y.oldVersion&&y.createObjectStore(V)})),Oe}function He(y){return at.apply(this,arguments)}function at(){return(at=(0,$.Z)(function*(y){const D=de(y),Ee=yield(yield se()).transaction(V).objectStore(V).get(D);if(Ee)return Ee;{const it=yield mn(y.appConfig.senderId);if(it)return yield Rt(y,it),it}})).apply(this,arguments)}function Rt(y,D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,$.Z)(function*(y,D){const z=de(y),it=(yield se()).transaction(V,"readwrite");return yield it.objectStore(V).put(D,z),yield it.complete,D})).apply(this,arguments)}function ye(y){return re.apply(this,arguments)}function re(){return(re=(0,$.Z)(function*(y){const D=de(y),Ee=(yield se()).transaction(V,"readwrite");yield Ee.objectStore(V).delete(D),yield Ee.complete})).apply(this,arguments)}function de({appConfig:y}){return y.appId}const et=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qt(y,D){return hn.apply(this,arguments)}function hn(){return(hn=(0,$.Z)(function*(y,D){const z=yield Bn(y),Ee=an(D),it={method:"POST",headers:z,body:JSON.stringify(Ee)};let ct;try{ct=yield(yield fetch(fn(y.appConfig),it)).json()}catch(on){throw et.create("token-subscribe-failed",{errorInfo:on})}if(ct.error)throw et.create("token-subscribe-failed",{errorInfo:ct.error.message});if(!ct.token)throw et.create("token-subscribe-no-token");return ct.token})).apply(this,arguments)}function dn(y,D){return yn.apply(this,arguments)}function yn(){return(yn=(0,$.Z)(function*(y,D){const z=yield Bn(y),Ee=an(D.subscriptionOptions),it={method:"PATCH",headers:z,body:JSON.stringify(Ee)};let ct;try{ct=yield(yield fetch(`${fn(y.appConfig)}/${D.token}`,it)).json()}catch(on){throw et.create("token-update-failed",{errorInfo:on})}if(ct.error)throw et.create("token-update-failed",{errorInfo:ct.error.message});if(!ct.token)throw et.create("token-update-no-token");return ct.token})).apply(this,arguments)}function Yn(y,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,$.Z)(function*(y,D){const Ee={method:"DELETE",headers:yield Bn(y)};try{const ct=yield(yield fetch(`${fn(y.appConfig)}/${D}`,Ee)).json();if(ct.error)throw et.create("token-unsubscribe-failed",{errorInfo:ct.error.message})}catch(it){throw et.create("token-unsubscribe-failed",{errorInfo:it})}})).apply(this,arguments)}function fn({projectId:y}){return`https://fcmregistrations.googleapis.com/v1/projects/${y}/registrations`}function Bn(y){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,$.Z)(function*({appConfig:y,installations:D}){const z=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function an({p256dh:y,auth:D,endpoint:z,vapidKey:Ee}){const it={web:{endpoint:z,auth:D,p256dh:y}};return Ee!==Ge&&(it.web.applicationPubKey=Ee),it}const $n=6048e5;function Tr(y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,$.Z)(function*(y){const D=yield Wn(y.swRegistration,y.vapidKey),z={vapidKey:y.vapidKey,swScope:y.swRegistration.scope,endpoint:D.endpoint,auth:tn(D.getKey("auth")),p256dh:tn(D.getKey("p256dh"))},Ee=yield He(y.firebaseDependencies);if(Ee){if(yr(Ee.subscriptionOptions,z))return Date.now()>=Ee.createTime+$n?we(y,{token:Ee.token,createTime:Date.now(),subscriptionOptions:z}):Ee.token;try{yield Yn(y.firebaseDependencies,Ee.token)}catch(it){console.warn(it)}return At(y.firebaseDependencies,z)}return At(y.firebaseDependencies,z)})).apply(this,arguments)}function Mn(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,$.Z)(function*(y){const D=yield He(y.firebaseDependencies);D&&(yield Yn(y.firebaseDependencies,D.token),yield ye(y.firebaseDependencies));const z=yield y.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function we(y,D){return tt.apply(this,arguments)}function tt(){return(tt=(0,$.Z)(function*(y,D){try{const z=yield dn(y.firebaseDependencies,D),Ee=Object.assign(Object.assign({},D),{token:z,createTime:Date.now()});return yield Rt(y.firebaseDependencies,Ee),z}catch(z){throw yield Mn(y),z}})).apply(this,arguments)}function At(y,D){return wt.apply(this,arguments)}function wt(){return(wt=(0,$.Z)(function*(y,D){const Ee={token:yield Qt(y,D),createTime:Date.now(),subscriptionOptions:D};return yield Rt(y,Ee),Ee.token})).apply(this,arguments)}function Wn(y,D){return An.apply(this,arguments)}function An(){return(An=(0,$.Z)(function*(y,D){return(yield y.pushManager.getSubscription())||y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gn(D)})})).apply(this,arguments)}function yr(y,D){return D.vapidKey===y.vapidKey&&D.endpoint===y.endpoint&&D.auth===y.auth&&D.p256dh===y.p256dh}function Pn(y){const D={from:y.from,collapseKey:y.collapse_key,messageId:y.fcm_message_id};return function(y,D){if(!D.notification)return;y.notification={};const z=D.notification.title;z&&(y.notification.title=z);const Ee=D.notification.body;Ee&&(y.notification.body=Ee);const it=D.notification.image;it&&(y.notification.image=it)}(D,y),function(y,D){!D.data||(y.data=D.data)}(D,y),function(y,D){if(!D.fcmOptions)return;y.fcmOptions={};const z=D.fcmOptions.link;z&&(y.fcmOptions.link=z);const Ee=D.fcmOptions.analytics_label;Ee&&(y.fcmOptions.analyticsLabel=Ee)}(D,y),D}function Lr(y){return"object"==typeof y&&!!y&&ge in y}function Qn(y,D){const z=[];for(let Ee=0;Ee<y.length;Ee++)z.push(y.charAt(Ee)),Ee<D.length&&z.push(D.charAt(Ee));return z.join("")}function Vr(y){return et.create("missing-app-config-values",{valueName:y})}Qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(D,z,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const it=function(y){if(!y||!y.options)throw Vr("App Configuration Object");if(!y.name)throw Vr("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:z}=y;for(const Ee of D)if(!z[Ee])throw Vr(Ee);return{appName:y.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:it,installations:z,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function lr(y){return ke.apply(this,arguments)}function ke(){return(ke=(0,$.Z)(function*(y){try{y.swRegistration=yield navigator.serviceWorker.register(bn,{scope:qn}),y.swRegistration.update().catch(()=>{})}catch(D){throw et.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Ne(y,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,$.Z)(function*(y,D){if(!D&&!y.swRegistration&&(yield lr(y)),D||!y.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw et.create("invalid-sw-registration");y.swRegistration=D}})).apply(this,arguments)}function ut(y,D){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,$.Z)(function*(y,D){D?y.vapidKey=D:y.vapidKey||(y.vapidKey=Ge)})).apply(this,arguments)}function Nn(){return(Nn=(0,$.Z)(function*(y,D){if(!navigator)throw et.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw et.create("permission-blocked");return yield ut(y,null==D?void 0:D.vapidKey),yield Ne(y,null==D?void 0:D.serviceWorkerRegistration),Tr(y)})).apply(this,arguments)}function fr(y,D,z){return On.apply(this,arguments)}function On(){return(On=(0,$.Z)(function*(y,D,z){const Ee=Br(D);(yield y.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:z[ge],message_name:z[Ve],message_time:z[dt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Br(y){switch(y){case Dt.NOTIFICATION_CLICKED:return"notification_open";case Dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rr(){return(Rr=(0,$.Z)(function*(y,D){const z=D.data;if(!z.isFirebaseMessaging)return;y.onMessageHandler&&z.messageType===Dt.PUSH_RECEIVED&&("function"==typeof y.onMessageHandler?y.onMessageHandler(Pn(z)):y.onMessageHandler.next(Pn(z)));const Ee=z.data;Lr(Ee)&&"1"===Ee[St]&&(yield fr(y,z.messageType,Ee))})).apply(this,arguments)}const ii="@firebase/messaging";function Ri(){return $i.apply(this,arguments)}function $i(){return($i=(0,$.Z)(function*(){return"undefined"!=typeof window&&(0,fe.hl)()&&(yield(0,fe.eu)())&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new Ae.wA("messaging",y=>{const D=new hi(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function(y,D){return Rr.apply(this,arguments)}(D,z)),D},"PUBLIC")),(0,he._registerComponent)(new Ae.wA("messaging-internal",y=>{const D=y.getProvider("messaging").getImmediate();return{getToken:Ee=>function(y,D){return Nn.apply(this,arguments)}(D,Ee)}},"PRIVATE")),(0,he.registerVersion)(ii,"0.9.4"),(0,he.registerVersion)(ii,"0.9.4","esm2017");var Hs=N(6621),hs=N(2869),fi=N(8843);const xi=new class extends fi.v{}(class extends hs.o{constructor(D,z){super(D,z),this.scheduler=D,this.work=z}schedule(D,z=0){return z>0?super.schedule(D,z):(this.delay=z,this.state=D,this.scheduler.flush(this),this)}execute(D,z){return z>0||this.closed?super.execute(D,z):this._execute(D,z)}requestAsyncId(D,z,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(D,z,Ee):D.flush(this)}});var ns=N(2210),Zr=N(8305),Dr=N(7384),Ui=N(5222),Yr=N(4763);const Ds=new f.GfV("7.2.0"),Gi="__angularfire_symbol__analyticsIsSupportedValue",cr="__angularfire_symbol__analyticsIsSupported",Ii="__angularfire_symbol__remoteConfigIsSupported",xr="__angularfire_symbol__messagingIsSupported";globalThis[cr]||(globalThis[cr]=(0,Hs.Gb)().then(y=>globalThis[Gi]=y)),globalThis[xr]||(globalThis[xr]=Ri().then(y=>globalThis.__angularfire_symbol__messagingIsSupportedValue=y)),globalThis[Ii]||(globalThis[Ii]=tr().then(y=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=y));const As={async:()=>globalThis[cr],sync:()=>{const y=globalThis[Gi];if(void 0===y)throw new Error((y=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${y} in the constructor, first ensure that ${y} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${y})\`.`)("Analytics"));return y}};function Ss(y,D,z){if(D){if(1===D.length)return D[0];const ct=D.filter(on=>on.app===z);if(1===ct.length)return ct[0]}return z.container.getProvider(y).getImmediate({optional:!0})}const yo=(y,D)=>{const z=D?[D]:(0,_.C6)(),Ee=[];return z.forEach(it=>{it.container.getProvider(y).instances.forEach(on=>{Ee.includes(on)||Ee.push(on)})}),Ee};function ar(){}class Di{constructor(D,z=xi){this.zone=D,this.delegate=z}now(){return this.delegate.now()}schedule(D,z,Ee){const it=this.zone;return this.delegate.schedule(function(on){it.runGuarded(()=>{D.apply(this,[on])})},z,Ee)}}class Mr{constructor(D){this.zone=D,this.task=null}call(D,z){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)),z.pipe((0,Dr.b)({next:Ee,complete:Ee,error:Ee})).subscribe(D).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let x=(()=>{class y{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new Di(Zone.current)),this.insideAngular=z.run(()=>new Di(Zone.current,ns.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return y.\u0275fac=function(z){return new(z||y)(f.LFG(f.R0b))},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function H(){const y=globalThis.\u0275AngularFireScheduler;if(!y)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return y}function O(y){return H().ngZone.runOutsideAngular(()=>y())}function G(y){return H().ngZone.run(()=>y())}function bt(y){return H(),function(y){return function(z){return(z=z.lift(new Mr(y.ngZone))).pipe((0,Ui.R)(y.outsideAngular),(0,Yr.Q)(y.insideAngular))}}(H())(y)}const P=(y,D)=>{const z=void 0;return function(){return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),G(()=>y.apply(z,arguments))}},S=(y,D)=>function(){let z;for(let it=0;it<arguments.length;it++)"function"==typeof arguments[it]&&(D&&(z||(z=G(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)))),arguments[it]=P(arguments[it],z));const Ee=O(()=>y.apply(this,arguments));if(!D){if(Ee instanceof Zr.y){const it=H();return Ee.pipe((0,Ui.R)(it.outsideAngular),(0,Yr.Q)(it.insideAngular))}return G(()=>Ee)}return Ee instanceof Zr.y?Ee.pipe(bt):Ee instanceof Promise?G(()=>new Promise((it,ct)=>Ee.then(on=>G(()=>it(on)),on=>G(()=>ct(on))))):"function"==typeof Ee&&z?function(){return setTimeout(()=>{z&&"scheduled"===z.state&&z.invoke()},10),Ee.apply(this,arguments)}:G(()=>Ee)}},6972:(Lt,je,N)=>{"use strict";N.d(je,{$:()=>_r,A:()=>ie,E:()=>we,G:()=>An,I:()=>Gr,K:()=>Ft,L:()=>fi,M:()=>ns,N:()=>Zr,P:()=>Po,Q:()=>Dr,R:()=>Cl,T:()=>fs,U:()=>Gi,V:()=>cr,W:()=>Ci,X:()=>bt,Y:()=>P,Z:()=>y,_:()=>it,a:()=>Zs,a0:()=>Bi,a1:()=>mt,a2:()=>Ro,a3:()=>gs,a4:()=>zi,a5:()=>xo,a6:()=>yl,a7:()=>ha,a8:()=>Ws,a9:()=>Mo,aA:()=>ko,aB:()=>Ys,aC:()=>Mn,aG:()=>Dn,aJ:()=>Yr,aa:()=>_o,ab:()=>Go,ae:()=>vo,af:()=>ka,ag:()=>Eo,aj:()=>yo,ak:()=>Ks,am:()=>li,an:()=>_l,ao:()=>fn,ap:()=>ee,aq:()=>xn,ar:()=>dn,as:()=>qe,at:()=>Du,au:()=>_c,av:()=>Le,aw:()=>xe,ax:()=>ae,ay:()=>ye,az:()=>Ga,b:()=>Gt,c:()=>J,d:()=>Yt,e:()=>Te,f:()=>fc,g:()=>Ha,h:()=>Ps,i:()=>In,j:()=>mc,k:()=>Uo,l:()=>cc,m:()=>Ic,n:()=>Ml,o:()=>te,r:()=>Qo,s:()=>Dl,t:()=>La,u:()=>Ms,z:()=>Ke});var f=N(8239),_=N(4213),$=N(1572),he=N(4762),fe=N(3855),Ae=N(1177);const te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new fe.Yd("@firebase/auth");function We(w,...h){Me.logLevel<=fe.in.ERROR&&Me.error(`Auth (${$.SDK_VERSION}): ${w}`,...h)}function qe(w,...h){throw vt(w,...h)}function Le(w,...h){return vt(w,...h)}function gt(w,h,g){const T=Object.assign(Object.assign({},_t()),{[h]:g});return new _.LL("auth","Firebase",T).create(h,{appName:w.name})}function ze(w,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&qe(w,"argument-error"),gt(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(w,...h){if("string"!=typeof w){const g=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(g,...T)}return yt.create(w,...h)}function xe(w,h,...g){if(!w)throw vt(h,...g)}function Et(w){const h="INTERNAL ASSERTION FAILED: "+w;throw We(h),new Error(h)}function ee(w,h){w||Et(h)}const le=new Map;function ae(w){ee(w instanceof Function,"Expected a class definition");let h=le.get(w);return h?(ee(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,le.set(w,h),h)}function pe(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Tt(){return"http:"===nt()||"https:"===nt()}function nt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ct{constructor(h,g){this.shortDelay=h,this.longDelay=g,ee(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Tt()||(0,_.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $t(w,h){ee(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Ht{static initialize(h,g,T){this.fetchImpl=h,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zt=new Ct(3e4,6e4);function Vt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function cn(w,h,g,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(w,h,g,T,j={}){return vn(w,j,()=>{let ne={},Je={};T&&("GET"===h?Je=T:ne={body:JSON.stringify(T)});const Mt=(0,_.xO)(Object.assign({key:w.config.apiKey},Je)).slice(1),ln=new(Ht.headers());return ln.set("Content-Type","application/json"),ln.set("X-Client-Version",w._getSdkClientVersion()),w.languageCode&&ln.set("X-Firebase-Locale",w.languageCode),Ht.fetch()(Zn(w,w.config.apiHost,g,Mt),Object.assign({method:h,headers:ln,referrerPolicy:"no-referrer"},ne))})})).apply(this,arguments)}function vn(w,h,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(w,h,g){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},en),h);try{const j=new Un(w),ne=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Je=yield ne.json();if("needConfirmation"in Je)throw En(w,"account-exists-with-different-credential",Je);if(ne.ok&&!("errorMessage"in Je))return Je;{const Mt=ne.ok?Je.errorMessage:Je.error.message,[ln,Vn]=Mt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ln)throw En(w,"credential-already-in-use",Je);if("EMAIL_EXISTS"===ln)throw En(w,"email-already-in-use",Je);const ur=T[ln]||ln.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw gt(w,ur,Vn);qe(w,ur)}}catch(j){if(j instanceof _.ZR)throw j;qe(w,"network-request-failed")}})).apply(this,arguments)}function Fn(w,h,g,T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(w,h,g,T,j={}){const ne=yield cn(w,h,g,T,j);return"mfaPendingCredential"in ne&&qe(w,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Zn(w,h,g,T){const j=`${h}${g}?${T}`;return w.config.emulator?$t(w.config,j):`${w.config.apiScheme}://${j}`}class Un{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Le(this.auth,"timeout")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function En(w,h,g){const T={appName:w.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const j=Le(w,h,T);return j.customData._tokenResponse=g,j}function tr(){return(tr=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ot(w,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function bn(w,h){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ge(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ve(){return(Ve=(0,f.Z)(function*(w,h=!1){const g=(0,_.m9)(w),T=yield g.getIdToken(h),j=St(T);xe(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const ne="object"==typeof j.firebase?j.firebase:void 0,Je=null==ne?void 0:ne.sign_in_provider;return{claims:j,token:T,authTime:Ge(dt(j.auth_time)),issuedAtTime:Ge(dt(j.iat)),expirationTime:Ge(dt(j.exp)),signInProvider:Je||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function dt(w){return 1e3*Number(w)}function St(w){const[h,g,T]=w.split(".");if(void 0===h||void 0===g||void 0===T)return We("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,_.tV)(g);return j?JSON.parse(j):(We("Failed to decode base64 JWT payload"),null)}catch(j){return We("Caught error parsing JWT payload as JSON",j),null}}function Dt(w,h){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(w,h,g=!1){if(g)return h;try{return yield h}catch(T){throw T instanceof _.ZR&&Gn(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function Gn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class nr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),T)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class rn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ge(this.lastLoginAt),this.creationTime=Ge(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(w){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(w){var h;const g=w.auth,T=yield w.getIdToken(),j=yield Dt(w,bn(g,{idToken:T}));xe(null==j?void 0:j.users.length,g,"internal-error");const ne=j.users[0];w._notifyReloadListener(ne);const Je=(null===(h=ne.providerUserInfo)||void 0===h?void 0:h.length)?F(ne.providerUserInfo):[],Mt=q(w.providerData,Je),ur=!!w.isAnonymous&&!(w.email&&ne.passwordHash||(null==Mt?void 0:Mt.length)),Kr={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Mt,metadata:new rn(ne.createdAt,ne.lastLoginAt),isAnonymous:ur};Object.assign(w,Kr)})).apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(w){const h=(0,_.m9)(w);yield pn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function q(w,h){return[...w.filter(T=>!h.some(j=>j.providerId===T.providerId)),...h]}function F(w){return w.map(h=>{var{providerId:g}=h,T=(0,he._T)(h,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Oe(){return(Oe=(0,f.Z)(function*(w,h){const g=yield vn(w,{},()=>{const T=(0,_.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:ne}=w.config,Je=Zn(w,j,"/v1/token",`key=${ne}`);return Ht.fetch()(Je,{method:"POST",headers:{"X-Client-Version":w._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){xe(h.idToken,"internal-error"),xe(void 0!==h.idToken,"internal-error"),xe(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(w){const h=St(w);return xe(h,"internal-error"),xe(void 0!==h.exp,"internal-error"),xe(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var T=this;return(0,f.Z)(function*(){return xe(!T.accessToken||T.refreshToken,h,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var T=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:ne,expiresIn:Je}=yield function(w,h){return Oe.apply(this,arguments)}(h,g);T.updateTokensAndExpiration(j,ne,Number(Je))})()}updateTokensAndExpiration(h,g,T){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,g){const{refreshToken:T,accessToken:j,expirationTime:ne}=g,Je=new se;return T&&(xe("string"==typeof T,"internal-error",{appName:h}),Je.refreshToken=T),j&&(xe("string"==typeof j,"internal-error",{appName:h}),Je.accessToken=j),ne&&(xe("number"==typeof ne,"internal-error",{appName:h}),Je.expirationTime=ne),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new se,this.toJSON())}_performRefresh(){return Et("not implemented")}}function He(w,h){xe("string"==typeof w||void 0===w,"internal-error",{appName:h})}class at{constructor(h){var{uid:g,auth:T,stsTokenManager:j}=h,ne=(0,he._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.metadata=new rn(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const T=yield Dt(g,g.stsTokenManager.getToken(g.auth,h));return xe(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(h){return function(w){return Ve.apply(this,arguments)}(this,h)}reload(){return function(w){return me.apply(this,arguments)}(this)}_assign(h){this!==h&&(xe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new at(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var T=this;return(0,f.Z)(function*(){let j=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),j=!0),g&&(yield pn(T)),yield T.auth._persistUserIfCurrent(T),j&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield Dt(h,function(w,h){return tr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var T,j,ne,Je,Mt,ln,Vn,ur;const Kr=null!==(T=g.displayName)&&void 0!==T?T:void 0,Qs=null!==(j=g.email)&&void 0!==j?j:void 0,Da=null!==(ne=g.phoneNumber)&&void 0!==ne?ne:void 0,Dc=null!==(Je=g.photoURL)&&void 0!==Je?Je:void 0,vi=null!==(Mt=g.tenantId)&&void 0!==Mt?Mt:void 0,za=null!==(ln=g._redirectEventId)&&void 0!==ln?ln:void 0,zu=null!==(Vn=g.createdAt)&&void 0!==Vn?Vn:void 0,Ku=null!==(ur=g.lastLoginAt)&&void 0!==ur?ur:void 0,{uid:bo,emailVerified:qu,isAnonymous:bc,providerData:Ka,stsTokenManager:Tc}=g;xe(bo&&Tc,h,"internal-error");const xd=se.fromJSON(this.name,Tc);xe("string"==typeof bo,h,"internal-error"),He(Kr,h.name),He(Qs,h.name),xe("boolean"==typeof qu,h,"internal-error"),xe("boolean"==typeof bc,h,"internal-error"),He(Da,h.name),He(Dc,h.name),He(vi,h.name),He(za,h.name),He(zu,h.name),He(Ku,h.name);const Zu=new at({uid:bo,auth:h,email:Qs,emailVerified:qu,displayName:Kr,isAnonymous:bc,photoURL:Dc,phoneNumber:Da,tenantId:vi,stsTokenManager:xd,createdAt:zu,lastLoginAt:Ku});return Ka&&Array.isArray(Ka)&&(Zu.providerData=Ka.map(Nl=>Object.assign({},Nl))),za&&(Zu._redirectEventId=za),Zu}static _fromIdTokenResponse(h,g,T=!1){return(0,f.Z)(function*(){const j=new se;j.updateFromServerResponse(g);const ne=new at({uid:g.localId,auth:h,stsTokenManager:j,isAnonymous:T});return yield pn(ne),ne})()}}const Ft=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,T){var j=this;return(0,f.Z)(function*(){j.storage[g]=T})()}_get(g){var T=this;return(0,f.Z)(function*(){const j=T.storage[g];return void 0===j?null:j})()}_remove(g){var T=this;return(0,f.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return w.type="NONE",w})();function ye(w,h,g){return`firebase:${w}:${h}:${g}`}class re{constructor(h,g,T){this.persistence=h,this.auth=g,this.userKey=T;const{config:j,name:ne}=this.auth;this.fullUserKey=ye(this.userKey,j.apiKey,ne),this.fullPersistenceKey=ye("persistence",j.apiKey,ne),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?at._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,T="authUser"){return(0,f.Z)(function*(){if(!g.length)return new re(ae(Ft),h,T);const j=(yield Promise.all(g.map(function(){var Vn=(0,f.Z)(function*(ur){if(yield ur._isAvailable())return ur});return function(ur){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let ne=j[0]||ae(Ft);const Je=ye(T,h.config.apiKey,h.name);let Mt=null;for(const Vn of g)try{const ur=yield Vn._get(Je);if(ur){const Kr=at._fromJSON(h,ur);Vn!==ne&&(Mt=Kr),ne=Vn;break}}catch(ur){}const ln=j.filter(Vn=>Vn._shouldAllowMigration);return ne._shouldAllowMigration&&ln.length?(ne=ln[0],Mt&&(yield ne._set(Je,Mt.toJSON())),yield Promise.all(g.map(function(){var Vn=(0,f.Z)(function*(ur){if(ur!==ne)try{yield ur._remove(Je)}catch(Kr){}});return function(ur){return Vn.apply(this,arguments)}}())),new re(ne,h,T)):new re(ne,h,T)})()}}function de(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(hn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ze(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(yn(h))return"Blackberry";if(Yn(h))return"Webos";if(et(h))return"Safari";if((h.includes("chrome/")||Qt(h))&&!h.includes("edge/"))return"Chrome";if(dn(h))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Ze(w=(0,_.z$)()){return/firefox\//i.test(w)}function et(w=(0,_.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Qt(w=(0,_.z$)()){return/crios\//i.test(w)}function hn(w=(0,_.z$)()){return/iemobile/i.test(w)}function dn(w=(0,_.z$)()){return/android/i.test(w)}function yn(w=(0,_.z$)()){return/blackberry/i.test(w)}function Yn(w=(0,_.z$)()){return/webos/i.test(w)}function xn(w=(0,_.z$)()){return/iphone|ipad|ipod/i.test(w)}function fn(w=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function an(w=(0,_.z$)()){return xn(w)||dn(w)||Yn(w)||yn(w)||/windows phone/i.test(w)||hn(w)}function Tr(w,h=[]){let g;switch(w){case"Browser":g=de((0,_.z$)());break;case"Worker":g=`${de((0,_.z$)())}-${w}`;break;default:g=w}const T=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${$.SDK_VERSION}/${T}`}class Ir{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var T=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,ne;T._deleted||(T.persistenceManager=yield re.create(T,h),!T._deleted&&((null===(j=T._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(ne=T.currentUser)||void 0===ne?void 0:ne.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var T;let j=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ne=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,Je=null==j?void 0:j._redirectEventId,Mt=yield g.tryRedirectSignIn(h);(!ne||ne===Je)&&(null==Mt?void 0:Mt.user)&&(j=Mt.user)}return j?j._redirectEventId?(xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===j._redirectEventId?g.directlySetCurrentUser(j):g.reloadAndSetCurrentUserOrClear(j)):g.reloadAndSetCurrentUserOrClear(j):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(j){yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){try{yield pn(h)}catch(T){if("auth/network-request-failed"!==T.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const T=h?(0,_.m9)(h):null;return T&&xe(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){if(!g._deleted)return h&&xe(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,f.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new _.LL("auth","Firebase",h())}onAuthStateChanged(h,g,T){return this.registerStateListener(this.authStateSubscription,h,g,T)}onIdTokenChanged(h,g,T){return this.registerStateListener(this.idTokenSubscription,h,g,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var T=this;return(0,f.Z)(function*(){const j=yield T.getOrInitRedirectPersistenceManager(g);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const T=h&&ae(h)||g._popupRedirectResolver;xe(T,g,"argument-error"),g.redirectPersistenceManager=yield re.create(g,[ae(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var T,j;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===h?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,T,j){if(this._deleted)return()=>{};const ne="function"==typeof g?g:g.next.bind(g),Je=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(Je,this,"internal-error"),Je.then(()=>ne(this.currentUser)),"function"==typeof g?h.addObserver(g,T,j):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Mn(w){return(0,_.m9)(w)}class Ar{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,_.ne)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function we(w,h,g){const T=Mn(w);xe(T._canInitEmulator,T,"emulator-config-failed"),xe(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const j=!!(null==g?void 0:g.disableWarnings),ne=tt(h),{host:Je,port:Mt}=function(w){const h=tt(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(T);if(j){const ne=j[1];return{host:ne,port:wt(T.substr(ne.length+1))}}{const[ne,Je]=T.split(":");return{host:ne,port:wt(Je)}}}(h);T.config.emulator={url:`${ne}//${Je}${null===Mt?"":`:${Mt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Je,port:Mt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function(){function w(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function tt(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function wt(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class An{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Et("not implemented")}_getIdTokenResponse(h){return Et("not implemented")}_linkToIdToken(h,g){return Et("not implemented")}_getReauthenticationResolver(h){return Et("not implemented")}}function yr(w,h){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:resetPassword",Vt(w,h))})).apply(this,arguments)}function hr(w,h){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qr(w,h){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:update",Vt(w,h))})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithPassword",Vt(w,h))})).apply(this,arguments)}function Vr(w,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:sendOobCode",Vt(w,h))})).apply(this,arguments)}function lr(w,h){return ke.apply(this,arguments)}function ke(){return(ke=(0,f.Z)(function*(w,h){return Vr(w,h)})).apply(this,arguments)}function Ne(w,h){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(w,h){return Vr(w,h)})).apply(this,arguments)}function ut(w,h){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(w,h){return Vr(w,h)})).apply(this,arguments)}function qt(w,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(w,h){return Vr(w,h)})).apply(this,arguments)}function On(){return(On=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithEmailLink",Vt(w,h))})).apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithEmailLink",Vt(w,h))})).apply(this,arguments)}class Rr extends An{constructor(h,g,T,j=null){super("password",T),this._email=h,this._password=g,this._tenantId=j}static _fromEmailAndPassword(h,g){return new Rr(h,g,"password")}static _fromEmailAndCode(h,g,T=null){return new Rr(h,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function(w,h){return ai.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(w,h){return On.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:qe(h,"internal-error")}})()}_linkToIdToken(h,g){var T=this;return(0,f.Z)(function*(){switch(T.signInMethod){case"password":return hr(h,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(w,h){return Sr.apply(this,arguments)}(h,{idToken:g,email:T._email,oobCode:T._password});default:qe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ii(w,h){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithIdp",Vt(w,h))})).apply(this,arguments)}class Gr extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Gr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):qe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:j}=g,ne=(0,he._T)(g,["providerId","signInMethod"]);if(!T||!j)return null;const Je=new Gr(T,j);return Je.idToken=ne.idToken||void 0,Je.accessToken=ne.accessToken||void 0,Je.secret=ne.secret,Je.nonce=ne.nonce,Je.pendingToken=ne.pendingToken||null,Je}_getIdTokenResponse(h){return ii(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,ii(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ii(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,_.xO)(g)}return h}}function Si(w,h){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:sendVerificationCode",Vt(w,h))})).apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithPhoneNumber",Vt(w,h))})).apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(w,h){const g=yield Fn(w,"POST","/v1/accounts:signInWithPhoneNumber",Vt(w,h));if(g.temporaryProof)throw En(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $s={USER_NOT_FOUND:"user-not-found"};function Hi(){return(Hi=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithPhoneNumber",Vt(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),$s)})).apply(this,arguments)}class wi extends An{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new wi({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new wi({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function(w,h){return Cs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function(w,h){return ds.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(w,h){return Hi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:T,verificationCode:j}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:T,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:T,phoneNumber:j,temporaryProof:ne}=h;return T||g||j||ne?new wi({verificationId:g,verificationCode:T,phoneNumber:j,temporaryProof:ne}):null}}class hs{constructor(h){var g,T,j,ne,Je,Mt;const ln=(0,_.zd)((0,_.pd)(h)),Vn=null!==(g=ln.apiKey)&&void 0!==g?g:null,ur=null!==(T=ln.oobCode)&&void 0!==T?T:null,Kr=function(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=ln.mode)&&void 0!==j?j:null);xe(Vn&&ur&&Kr,"argument-error"),this.apiKey=Vn,this.operation=Kr,this.code=ur,this.continueUrl=null!==(ne=ln.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Je=ln.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(Mt=ln.tenantId)&&void 0!==Mt?Mt:null}static parseLink(h){const g=function(w){const h=(0,_.zd)((0,_.pd)(w)).link,g=h?(0,_.zd)((0,_.pd)(h)).deep_link_id:null,T=(0,_.zd)((0,_.pd)(w)).deep_link_id;return(T?(0,_.zd)((0,_.pd)(T)).link:null)||T||g||h||w}(h);try{return new hs(g)}catch(T){return null}}}let fi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,T){return Rr._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const j=hs.parseLink(T);return xe(j,"argument-error"),Rr._fromEmailAndCode(g,j.code,j.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class pi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class xi extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class fs extends xi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),Gr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return xe(h.idToken||h.accessToken,"argument-error"),Gr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return fs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return fs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:j,pendingToken:ne,nonce:Je,providerId:Mt}=h;if(!T&&!j&&!g&&!ne||!Mt)return null;try{return new fs(Mt)._credential({idToken:g,accessToken:T,nonce:Je,pendingToken:ne})}catch(ln){return null}}}let ns=(()=>{class w extends xi{constructor(){super("facebook.com")}static credential(g){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch(T){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Zr=(()=>{class w extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:j}=g;if(!T&&!j)return null;try{return w.credential(T,j)}catch(ne){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Dr=(()=>{class w extends xi{constructor(){super("github.com")}static credential(g){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch(T){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Yr extends An{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return ii(h,this.buildRequest())}_linkToIdToken(h,g){const T=this.buildRequest();return T.idToken=g,ii(h,T)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ii(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:j,pendingToken:ne}=g;return T&&j&&ne&&T===j?new Yr(T,ne):null}static _create(h,g){return new Yr(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends pi{constructor(h){xe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Gi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Gi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Yr.fromJSON(h);return xe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:T}=h;if(!g||!T)return null;try{return Yr._create(T,g)}catch(j){return null}}}let cr=(()=>{class w extends xi{constructor(){super("twitter.com")}static credential(g,T){return Gr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:j}=g;if(!T||!j)return null;try{return w.credential(T,j)}catch(ne){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ps(w,h){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signUp",Vt(w,h))})).apply(this,arguments)}class kr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,T,j=!1){return(0,f.Z)(function*(){const ne=yield at._fromIdTokenResponse(h,T,j),Je=xr(T);return new kr({user:ne,providerId:Je,_tokenResponse:T,operationType:g})})()}static _forOperation(h,g,T){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const j=xr(T);return new kr({user:h,providerId:j,_tokenResponse:T,operationType:g})})()}}function xr(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ci(w){return bs.apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(w){var h;const g=Mn(w);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new kr({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield ps(g,{returnSecureToken:!0}),j=yield kr._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ts extends _.ZR{constructor(h,g,T,j){var ne;super(g.code,g.message),this.operationType=T,this.user=j,Object.setPrototypeOf(this,Ts.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,g,T,j){return new Ts(h,g,T,j)}}function As(w,h,g,T){return("reauthenticate"===h?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ts._fromErrorAndOperation(w,ne,h,T):ne})}function Ss(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function yo(w,h){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(w,h){const g=(0,_.m9)(w);yield x(!0,g,h);const{providerUserInfo:T}=yield Ot(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),j=Ss(T||[]);return g.providerData=g.providerData.filter(ne=>j.has(ne.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Di(w,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,f.Z)(function*(w,h,g=!1){const T=yield Dt(w,h._linkToIdToken(w.auth,yield w.getIdToken()),g);return kr._forOperation(w,"link",T)})).apply(this,arguments)}function x(w,h,g){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(w,h,g){yield pn(h);const j=!1===w?"provider-already-linked":"no-such-provider";xe(Ss(h.providerData).has(g)===w,h.auth,j)})).apply(this,arguments)}function O(w,h){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(w,h,g=!1){const{auth:T}=w,j="reauthenticate";try{const ne=yield Dt(w,As(T,j,h,w),g);xe(ne.idToken,T,"internal-error");const Je=St(ne.idToken);xe(Je,T,"internal-error");const{sub:Mt}=Je;return xe(w.uid===Mt,T,"user-mismatch"),kr._forOperation(w,j,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&qe(T,"user-mismatch"),ne}})).apply(this,arguments)}function be(w,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,f.Z)(function*(w,h,g=!1){const T="signIn",j=yield As(w,T,h),ne=yield kr._fromIdTokenResponse(w,T,j);return g||(yield w._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function bt(w,h){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(w,h){return be(Mn(w),h)})).apply(this,arguments)}function P(w,h){return S.apply(this,arguments)}function S(){return(S=(0,f.Z)(function*(w,h){const g=(0,_.m9)(w);return yield x(!1,g,h.providerId),Di(g,h)})).apply(this,arguments)}function y(w,h){return D.apply(this,arguments)}function D(){return(D=(0,f.Z)(function*(w,h){return O((0,_.m9)(w),h)})).apply(this,arguments)}function z(w,h){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,f.Z)(function*(w,h){return Fn(w,"POST","/v1/accounts:signInWithCustomToken",Vt(w,h))})).apply(this,arguments)}function it(w,h){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(w,h){const g=Mn(w),T=yield z(g,{token:h,returnSecureToken:!0}),j=yield kr._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class on{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?vr._fromServerResponse(h,g):qe(h,"internal-error")}}class vr extends on{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new vr(g)}}function gn(w,h,g){var T;xe((null===(T=g.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),xe(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function _r(w,h,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w),j={requestType:"PASSWORD_RESET",email:h};g&&gn(T,j,g),yield Ne(T,j)})).apply(this,arguments)}function Bi(w,h,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,f.Z)(function*(w,h,g){yield yr((0,_.m9)(w),{oobCode:h,newPassword:g})})).apply(this,arguments)}function mt(w,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(w,h){yield qr((0,_.m9)(w),{oobCode:h})})).apply(this,arguments)}function Ro(w,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,f.Z)(function*(w,h){const g=(0,_.m9)(w),T=yield yr(g,{oobCode:h}),j=T.requestType;switch(xe(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(T.mfaInfo,g,"internal-error");default:xe(T.email,g,"internal-error")}let ne=null;return T.mfaInfo&&(ne=on._fromServerResponse(Mn(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:ne},operation:j}})).apply(this,arguments)}function gs(w,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,f.Z)(function*(w,h){const{data:g}=yield Ro((0,_.m9)(w),h);return g.email})).apply(this,arguments)}function zi(w,h,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,f.Z)(function*(w,h,g){const T=Mn(w),j=yield ps(T,{returnSecureToken:!0,email:h,password:g}),ne=yield kr._fromIdTokenResponse(T,"signIn",j);return yield T._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function xo(w,h,g){return bt((0,_.m9)(w),fi.credential(h,g))}function yl(w,h,g){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w),j={requestType:"EMAIL_SIGNIN",email:h};xe(g.handleCodeInApp,T,"argument-error"),g&&gn(T,j,g),yield ut(T,j)})).apply(this,arguments)}function ha(w,h){const g=hs.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Ws(w,h,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w),j=fi.credentialWithLink(h,g||pe());return xe(j._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),bt(T,j)})).apply(this,arguments)}function yi(w,h){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:createAuthUri",Vt(w,h))})).apply(this,arguments)}function Mo(w,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(w,h){const T={identifier:h,continueUri:Tt()?pe():"http://localhost"},{signinMethods:j}=yield yi((0,_.m9)(w),T);return j||[]})).apply(this,arguments)}function _o(w,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(w,h){const g=(0,_.m9)(w),j={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&gn(g.auth,j,h);const{email:ne}=yield lr(g.auth,j);ne!==w.email&&(yield w.reload())})).apply(this,arguments)}function Go(w,h,g){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};g&&gn(T.auth,ne,g);const{email:Je}=yield qt(T.auth,ne);Je!==w.email&&(yield w.reload())})).apply(this,arguments)}function fa(w,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,f.Z)(function*(w,h){return cn(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function vo(w,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,f.Z)(function*(w,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const T=(0,_.m9)(w),ne={idToken:yield T.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Je=yield Dt(T,fa(T.auth,ne));T.displayName=Je.displayName||null,T.photoURL=Je.photoUrl||null;const Mt=T.providerData.find(({providerId:ln})=>"password"===ln);Mt&&(Mt.displayName=T.displayName,Mt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Je)})).apply(this,arguments)}function ka(w,h){return wo((0,_.m9)(w),h,null)}function Eo(w,h){return wo((0,_.m9)(w),null,h)}function wo(w,h,g){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(w,h,g){const{auth:T}=w,ne={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),g&&(ne.password=g);const Je=yield Dt(w,hr(T,ne));yield w._updateTokensIfNecessary(Je,!0)})).apply(this,arguments)}class Gs{constructor(h,g,T={}){this.isNewUser=h,this.providerId=g,this.profile=T}}class zo extends Gs{constructor(h,g,T,j){super(h,g,T),this.username=j}}class zs extends Gs{constructor(h,g){super(h,"facebook.com",g)}}class hu extends zo{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ma extends Gs{constructor(h,g){super(h,"google.com",g)}}class zr extends zo{constructor(h,g,T){super(h,"twitter.com",g,T)}}function Ks(w){const{user:h,_tokenResponse:g}=w;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(w){var h,g;if(!w)return null;const{providerId:T}=w,j=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ne=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&(null==w?void 0:w.idToken)){const Je=null===(g=null===(h=St(w.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Je)return new Gs(ne,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!T)return null;switch(T){case"facebook.com":return new zs(ne,j);case"github.com":return new hu(ne,j);case"google.com":return new ma(ne,j);case"twitter.com":return new zr(ne,j,w.screenName||null);case"custom":case"anonymous":return new Gs(ne,null);default:return new Gs(ne,T,j)}}(g)}function La(w,h,g,T){return(0,_.m9)(w).onAuthStateChanged(h,g,T)}class qs{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new qs("enroll",h)}static _fromMfaPendingCredential(h){return new qs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,T;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return qs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(T=h.multiFactorSession)||void 0===T?void 0:T.idToken)return qs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class oo{constructor(h,g,T){this.session=h,this.hints=g,this.signInResolver=T}static _fromError(h,g){const T=Mn(h),j=g.customData._serverResponse,ne=(j.mfaInfo||[]).map(Mt=>on._fromServerResponse(T,Mt));xe(j.mfaPendingCredential,T,"internal-error");const Je=qs._fromMfaPendingCredential(j.mfaPendingCredential);return new oo(Je,ne,function(){var Mt=(0,f.Z)(function*(ln){const Vn=yield ln._process(T,Je);delete j.mfaInfo,delete j.mfaPendingCredential;const ur=Object.assign(Object.assign({},j),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(g.operationType){case"signIn":const Kr=yield kr._fromIdTokenResponse(T,g.operationType,ur);return yield T._updateCurrentUser(Kr.user),Kr;case"reauthenticate":return xe(g.user,T,"internal-error"),kr._forOperation(g.user,g.operationType,ur);default:qe(T,"internal-error")}});return function(ln){return Mt.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,f.Z)(function*(){return g.signInResolver(h)})()}}function li(w,h){var g;const T=(0,_.m9)(w),j=h;return xe(h.customData.operationType,T,"argument-error"),xe(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),oo._fromError(T,j)}function pu(w,h){return cn(w,"POST","/v2/accounts/mfaEnrollment:start",Vt(w,h))}class Rs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>on._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Rs(h)}getSession(){var h=this;return(0,f.Z)(function*(){return qs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var T=this;return(0,f.Z)(function*(){const j=h,ne=yield T.getSession(),Je=yield Dt(T.user,j._process(T.user.auth,ne,g));return yield T.user._updateTokensIfNecessary(Je),T.user.reload()})()}unenroll(h){var g=this;return(0,f.Z)(function*(){const T="string"==typeof h?h:h.uid,j=yield g.user.getIdToken(),ne=yield Dt(g.user,function(w,h){return cn(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(w,h))}(g.user.auth,{idToken:j,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Je})=>Je!==T),yield g.user._updateTokensIfNecessary(ne);try{yield g.user.reload()}catch(Je){if("auth/user-token-expired"!==Je.code)throw Je}})()}}const ys=new WeakMap;function _l(w){const h=(0,_.m9)(w);return ys.has(h)||ys.set(h,Rs._fromUser(h)),ys.get(h)}const ao="__sak";class Qr{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gt=(()=>{class w extends Qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const w=(0,_.z$)();return et(w)||xn(w)}()&&function(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=an(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const j=this.storage.getItem(T),ne=this.localCache[T];j!==ne&&g(T,ne,j)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((Mt,ln,Vn)=>{this.notifyListeners(Mt,Vn)});const j=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Mt=this.storage.getItem(j);if(g.newValue!==Mt)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!T)return}const ne=()=>{const Mt=this.storage.getItem(j);!T&&this.localCache[j]===Mt||this.notifyListeners(j,Mt)},Je=this.storage.getItem(j);(0,_.w1)()&&10===document.documentMode&&Je!==g.newValue&&g.newValue!==g.oldValue?setTimeout(ne,10):ne()}notifyListeners(g,T){this.localCache[g]=T;const j=this.listeners[g];if(j)for(const ne of Array.from(j))ne(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var j=()=>super._set,ne=this;return(0,f.Z)(function*(){yield j().call(ne,g,T),ne.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,j=this;return(0,f.Z)(function*(){const ne=yield T().call(j,g);return j.localCache[g]=JSON.stringify(ne),ne})()}_remove(g){var T=()=>super._remove,j=this;return(0,f.Z)(function*(){yield T().call(j,g),delete j.localCache[g]})()}}return w.type="LOCAL",w})(),Zs=(()=>{class w extends Qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return w.type="SESSION",w})();let _n=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(ne=>ne.isListeningto(g));if(T)return T;const j=new w(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,f.Z)(function*(){const j=g,{eventId:ne,eventType:Je,data:Mt}=j.data,ln=T.handlersMap[Je];if(!(null==ln?void 0:ln.size))return;j.ports[0].postMessage({status:"ack",eventId:ne,eventType:Je});const Vn=Array.from(ln).map(function(){var Kr=(0,f.Z)(function*(Qs){return Qs(j.origin,Mt)});return function(Qs){return Kr.apply(this,arguments)}}()),ur=yield function(w){return Promise.all(w.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return h.apply(this,arguments)}}()))}(Vn);j.ports[0].postMessage({status:"done",eventId:ne,eventType:Je,response:ur})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Dn(w="",h=10){let g="";for(let T=0;T<h;T++)g+=Math.floor(10*Math.random());return w+g}class Zo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,T=50){var j=this;return(0,f.Z)(function*(){const ne="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Je,Mt;return new Promise((ln,Vn)=>{const ur=Dn("",20);ne.port1.start();const Kr=setTimeout(()=>{Vn(new Error("unsupported_event"))},T);Mt={messageChannel:ne,onMessage(Qs){const Da=Qs;if(Da.data.eventId===ur)switch(Da.data.status){case"ack":clearTimeout(Kr),Je=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),ln(Da.data.response);break;default:clearTimeout(Kr),clearTimeout(Je),Vn(new Error("invalid_response"))}}},j.handlers.add(Mt),ne.port1.addEventListener("message",Mt.onMessage),j.target.postMessage({eventType:h,eventId:ur,data:g},[ne.port2])}).finally(()=>{Mt&&j.removeMessageHandler(Mt)})})()}}function jt(){return window}function kt(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function mu(){return(mu=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const $u="firebaseLocalStorageDb",lo="firebaseLocalStorage",Mi="fbase_key";class Yo{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function b(w,h){return w.transaction([lo],h?"readwrite":"readonly").objectStore(lo)}function v(){const w=indexedDB.open($u,1);return new Promise((h,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(lo,{keyPath:Mi})}catch(j){g(j)}}),w.addEventListener("success",(0,f.Z)(function*(){const T=w.result;T.objectStoreNames.contains(lo)?h(T):(T.close(),yield function(){const w=indexedDB.deleteDatabase($u);return new Yo(w).toPromise()}(),h(yield v()))}))})}function R(w,h,g){return k.apply(this,arguments)}function k(){return(k=(0,f.Z)(function*(w,h,g){const T=b(w,!0).put({[Mi]:h,value:g});return new Yo(T).toPromise()})).apply(this,arguments)}function ce(){return(ce=(0,f.Z)(function*(w,h){const g=b(w,!1).get(h),T=yield new Yo(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Se(w,h){const g=b(w,!0).delete(h);return new Yo(g).toPromise()}const In=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield v()),g.db})()}_withRetries(g){var T=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const ne=yield T._openDb();return yield g(ne)}catch(ne){if(j++>3)throw ne;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return kt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=_n._getInstance(kt()?self:null),g.receiver._subscribe("keyChanged",function(){var T=(0,f.Z)(function*(j,ne){return{keyProcessed:(yield g._poll()).includes(ne.key)}});return function(j,ne){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,f.Z)(function*(j,ne){return["keyChanged"]});return function(j,ne){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var T,j;if(g.activeServiceWorker=yield function(){return mu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Zo(g.activeServiceWorker);const ne=yield g.sender._send("ping",{},800);!ne||(null===(T=ne[0])||void 0===T?void 0:T.fulfilled)&&(null===(j=ne[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,f.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield v();return yield R(g,ao,"1"),yield Se(g,ao),!0}catch(g){}return!1})()}_withPendingWrite(g){var T=this;return(0,f.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(ne=>R(ne,g,T)),j.localCache[g]=T,j.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,f.Z)(function*(){const j=yield T._withRetries(ne=>function(w,h){return ce.apply(this,arguments)}(ne,g));return T.localCache[g]=j,j})()}_remove(g){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(j=>Se(j,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const T=yield g._withRetries(Je=>{const Mt=b(Je,!1).getAll();return new Yo(Mt).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const j=[],ne=new Set;for(const{fbase_key:Je,value:Mt}of T)ne.add(Je),JSON.stringify(g.localCache[Je])!==JSON.stringify(Mt)&&(g.notifyListeners(Je,Mt),j.push(Je));for(const Je of Object.keys(g.localCache))g.localCache[Je]&&!ne.has(Je)&&(g.notifyListeners(Je,null),j.push(Je));return j})()}notifyListeners(g,T){this.localCache[g]=T;const j=this.listeners[g];if(j)for(const ne of Array.from(j))ne(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ln(w,h){return cn(w,"POST","/v2/accounts/mfaSignIn:start",Vt(w,h))}function br(){return(br=(0,f.Z)(function*(w){return(yield cn(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ni(w){return new Promise((h,g)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=h,T.onerror=j=>{const ne=Le("internal-error");ne.customData=j,g(ne)},T.type="text/javascript",T.charset="UTF-8",function(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(T)})}function Er(w){return`__${w}${Math.floor(1e6*Math.random())}`}const co=1e12;class _a{constructor(h){this.auth=h,this.counter=co,this._widgets=new Map}render(h,g){const T=this.counter;return this._widgets.set(T,new xs(h,this.auth.name,g||{})),this.counter++,T}reset(h){var g;const T=h||co;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(h){var g;return(null===(g=this._widgets.get(h||co))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,f.Z)(function*(){var T;return null===(T=g._widgets.get(h||co))||void 0===T||T.execute(),""})()}}class xs{constructor(h,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;xe(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(w){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}();const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Il=Er("rcb"),wn=new Ct(3e4,6e4);class Io{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!jt().grecaptcha}load(h,g=""){return xe((w=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(jt().grecaptcha):new Promise((T,j)=>{const ne=jt().setTimeout(()=>{j(Le(h,"network-request-failed"))},wn.get());jt()[Il]=()=>{jt().clearTimeout(ne),delete jt()[Il];const Mt=jt().grecaptcha;if(!Mt)return void j(Le(h,"internal-error"));const ln=Mt.render;Mt.render=(Vn,ur)=>{const Kr=ln(Vn,ur);return this.counter++,Kr},this.hostLanguage=g,T(Mt)},Ni(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:Il,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ne),j(Le(h,"internal-error"))})});var w}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!jt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $a{load(h){return(0,f.Z)(function*(){return new _a(h)})()}clearedOneInstance(){}}const Pi="recaptcha",yu={theme:"light",type:"image"};class Cl{constructor(h,g=Object.assign({},yu),T){this.parameters=g,this.type=Pi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(T),this.isInvisible="invisible"===this.parameters.size,xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof h?document.getElementById(h):h;xe(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $a:new Io,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(g)||new Promise(ne=>{const Je=Mt=>{!Mt||(h.tokenChangeListeners.delete(Je),ne(Mt))};h.tokenChangeListeners.add(Je),h.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof h)h(g);else if("string"==typeof h){const T=jt()[h];"function"==typeof T&&T(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){xe(Tt()&&!kt(),h.auth,"internal-error"),yield function(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function(w){return br.apply(this,arguments)}(h.auth);xe(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class va{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=wi._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Dl(w,h,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(w,h,g){const T=Mn(w),j=yield _u(T,h,(0,_.m9)(g));return new va(j,ne=>bt(T,ne))})).apply(this,arguments)}function cc(w,h,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w);yield x(!1,T,"phone");const j=yield _u(T.auth,h,(0,_.m9)(g));return new va(j,ne=>P(T,ne))})).apply(this,arguments)}function Qo(w,h,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w),j=yield _u(T.auth,h,(0,_.m9)(g));return new va(j,ne=>y(T,ne))})).apply(this,arguments)}function _u(w,h,g){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(w,h,g){var T;const j=yield g.verify();try{let ne;if(xe("string"==typeof j,w,"argument-error"),xe(g.type===Pi,w,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Je=ne.session;if("phoneNumber"in ne)return xe("enroll"===Je.type,w,"internal-error"),(yield pu(w,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{xe("signin"===Je.type,w,"internal-error");const Mt=(null===(T=ne.multiFactorHint)||void 0===T?void 0:T.uid)||ne.multiFactorUid;return xe(Mt,w,"missing-multi-factor-info"),(yield Ln(w,{mfaPendingCredential:Je.credential,mfaEnrollmentId:Mt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield Si(w,{phoneNumber:ne.phoneNumber,recaptchaToken:j});return Je}}finally{g._reset()}})).apply(this,arguments)}function Ms(w,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(w,h){yield Di((0,_.m9)(w),h)})).apply(this,arguments)}let Po=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=Mn(g)}verifyPhoneNumber(g,T){return _u(this.auth,g,(0,_.m9)(T))}static credential(g,T){return wi._fromVerification(g,T)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:j}=g;return T&&j?wi._fromTokenResponse(T,j):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function vs(w,h){return h?ae(h):(xe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ns extends An{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ii(h,this._buildIdpRequest())}_linkToIdToken(h,g){return ii(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return ii(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function vu(w){return be(w.auth,new Ns(w),w.bypassAuthState)}function Zi(w){const{auth:h,user:g}=w;return xe(g,h,"internal-error"),O(g,new Ns(w),w.bypassAuthState)}function dc(w){return bl.apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(w){const{auth:h,user:g}=w;return xe(g,h,"internal-error"),Di(g,new Ns(w),w.bypassAuthState)})).apply(this,arguments)}class hc{constructor(h,g,T,j,ne=!1){this.auth=h,this.resolver=T,this.user=j,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(T,j){h.pendingPromise={resolve:T,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(T,j){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:T,sessionId:j,postBody:ne,tenantId:Je,error:Mt,type:ln}=h;if(Mt)return void g.reject(Mt);const Vn={auth:g.auth,requestUri:T,sessionId:j,tenantId:Je||void 0,postBody:ne||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ln)(Vn))}catch(ur){g.reject(ur)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return dc;case"reauthViaPopup":case"reauthViaRedirect":return Zi;default:qe(this.auth,"internal-error")}}resolve(h){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Z=new Ct(2e3,1e4);function J(w,h,g){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(w,h,g){const T=Mn(w);ze(w,h,pi);const j=vs(T,g);return new ir(T,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Te(w,h,g){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w);ze(T.auth,h,pi);const j=vs(T.auth,g);return new ir(T.auth,"reauthViaPopup",h,j,T).executeNotNull()})).apply(this,arguments)}function Yt(w,h,g){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w);ze(T.auth,h,pi);const j=vs(T.auth,g);return new ir(T.auth,"linkViaPopup",h,j,T).executeNotNull()})).apply(this,arguments)}let ir=(()=>{class w extends hc{constructor(g,T,j,ne,Je){super(g,T,ne,Je),this.provider=j,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,f.Z)(function*(){const T=yield g.execute();return xe(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,f.Z)(function*(){ee(1===g.filter.length,"Popup operations only handle one event");const T=Dn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(Le(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,j;this.pollId=(null===(j=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Z.get())};g()}}return w.currentPopupAction=null,w})();const Yi=new Map;class ho extends hc{constructor(h,g,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let T=Yi.get(g.auth._key());if(!T){try{const ne=(yield function(w,h){return pr.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;T=()=>Promise.resolve(ne)}catch(j){T=()=>Promise.reject(j)}Yi.set(g.auth._key(),T)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,T=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(T,h);if("unknown"!==h.type){if(h.eventId){const j=yield T.auth._redirectUserForId(h.eventId);if(j)return T.user=j,g().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function pr(){return(pr=(0,f.Z)(function*(w,h){const g=Jo(h),T=Os(w);if(!(yield T._isAvailable()))return!1;const j="true"===(yield T._get(g));return yield T._remove(g),j})).apply(this,arguments)}function gr(w,h){return _i.apply(this,arguments)}function _i(){return(_i=(0,f.Z)(function*(w,h){return Os(w)._set(Jo(h),"true")})).apply(this,arguments)}function Ys(){Yi.clear()}function Os(w){return ae(w._redirectPersistence)}function Jo(w){return ye("pendingRedirect",w.config.apiKey,w.name)}function fc(w,h,g){return function(w,h,g){return Ea.apply(this,arguments)}(w,h,g)}function Ea(){return(Ea=(0,f.Z)(function*(w,h,g){const T=Mn(w);ze(w,h,pi);const j=vs(T,g);return yield gr(j,T),j._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function Ps(w,h,g){return function(w,h,g){return Co.apply(this,arguments)}(w,h,g)}function Co(){return(Co=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w);ze(T.auth,h,pi);const j=vs(T.auth,g);yield gr(j,T.auth);const ne=yield yc(T);return j._openRedirect(T.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function Ha(w,h,g){return function(w,h,g){return ei.apply(this,arguments)}(w,h,g)}function ei(){return(ei=(0,f.Z)(function*(w,h,g){const T=(0,_.m9)(w);ze(T.auth,h,pi);const j=vs(T.auth,g);yield x(!1,T,h.providerId),yield gr(j,T.auth);const ne=yield yc(T);return j._openRedirect(T.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function mc(w,h){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,f.Z)(function*(w,h){return yield Mn(w)._initializationPromise,ko(w,h,!1)})).apply(this,arguments)}function ko(w,h){return wa.apply(this,arguments)}function wa(){return(wa=(0,f.Z)(function*(w,h,g=!1){const T=Mn(w),j=vs(T,h),Je=yield new ho(T,j,g).execute();return Je&&!g&&(delete Je.user._redirectEventId,yield T._persistUserIfCurrent(Je.user),yield T._setRedirectUser(null,h)),Je})).apply(this,arguments)}function yc(w){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,f.Z)(function*(w){const h=Dn(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class Ga{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(g=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fo(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var T;if(h.error&&!Fo(h)){const j=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Le(this.auth,j))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const T=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Do(h))}saveEventToCache(h){this.cachedEventUids.add(Do(h)),this.lastProcessedEventTime=Date.now()}}function Do(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Fo({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===(null==h?void 0:h.code)}function _c(w){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(w,h={}){return cn(w,"GET","/v1/projects",h)})).apply(this,arguments)}const Al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;function Sl(){return(Sl=(0,f.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield _c(w);for(const g of h)try{if(Wu(g))return}catch(T){}qe(w,"unauthorized-domain")})).apply(this,arguments)}function Wu(w){const h=pe(),{protocol:g,hostname:T}=new URL(h);if(w.startsWith("chrome-extension://")){const Je=new URL(w);return""===Je.hostname&&""===T?"chrome-extension:"===g&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Je.hostname===T}if(!Xo.test(g))return!1;if(Al.test(w))return T===w;const j=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(T)}const Eu=new Ct(3e4,6e4);function wu(){const w=jt().___jsl;if(null==w?void 0:w.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let Iu=null;function Gu(w){return Iu=Iu||function(w){return new Promise((h,g)=>{var T,j,ne;function Je(){wu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{wu(),g(Le(w,"network-request-failed"))},timeout:Eu.get()})}if(null===(j=null===(T=jt().gapi)||void 0===T?void 0:T.iframes)||void 0===j?void 0:j.Iframe)h(gapi.iframes.getContext());else{if(!(null===(ne=jt().gapi)||void 0===ne?void 0:ne.load)){const Mt=Er("iframefcb");return jt()[Mt]=()=>{gapi.load?Je():g(Le(w,"network-request-failed"))},Ni(`https://apis.google.com/js/api.js?onload=${Mt}`)}Je()}}).catch(h=>{throw Iu=null,h})}(w),Iu}const Bh=new Ct(5e3,15e3),Cd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ia(w){const h=w.config;xe(h.authDomain,w,"auth-domain-config-required");const g=h.emulator?$t(h,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:w.name,v:$.SDK_VERSION},j=Dd.get(w.config.apiHost);j&&(T.eid=j);const ne=w._getFrameworks();return ne.length&&(T.fw=ne.join(",")),`${g}?${(0,_.xO)(T).slice(1)}`}function ea(){return ea=(0,f.Z)(function*(w){const h=yield Gu(w),g=jt().gapi;return xe(g,w,"internal-error"),h.open({where:document.body,url:Ia(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cd,dontclear:!0},T=>new Promise(function(){var j=(0,f.Z)(function*(ne,Je){yield T.restyle({setHideOnLeave:!1});const Mt=Le(w,"network-request-failed"),ln=jt().setTimeout(()=>{Je(Mt)},Bh.get());function Vn(){jt().clearTimeout(ln),ne(T)}T.ping(Vn).then(Vn,()=>{Je(Mt)})});return function(ne,Je){return j.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const bd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ci{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Du(w,h,g,T,j,ne){xe(w.config.authDomain,w,"auth-domain-config-required"),xe(w.config.apiKey,w,"invalid-api-key");const Je={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:T,v:$.SDK_VERSION,eventId:j};if(h instanceof pi){h.setDefaultLanguage(w.languageCode),Je.providerId=h.providerId||"",(0,_.xb)(h.getCustomParameters())||(Je.customParameters=JSON.stringify(h.getCustomParameters()));for(const[ln,Vn]of Object.entries(ne||{}))Je[ln]=Vn}if(h instanceof xi){const ln=h.getScopes().filter(Vn=>""!==Vn);ln.length>0&&(Je.scopes=ln.join(","))}w.tenantId&&(Je.tid=w.tenantId);const Mt=Je;for(const ln of Object.keys(Mt))void 0===Mt[ln]&&delete Mt[ln];return`${function({config:w}){return w.emulator?$t(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,_.xO)(Mt).slice(1)}`}const ti="webStorageSupport",Uo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zs,this._completeRedirectFn=ko}_openPopup(h,g,T,j){var ne=this;return(0,f.Z)(function*(){var Je;ee(null===(Je=ne.eventManagers[h._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const Mt=Du(h,g,T,pe(),j);return function(w,h,g,T=500,j=600){const ne=Math.max((window.screen.availHeight-j)/2,0).toString(),Je=Math.max((window.screen.availWidth-T)/2,0).toString();let Mt="";const ln=Object.assign(Object.assign({},bd),{width:T.toString(),height:j.toString(),top:ne,left:Je}),Vn=(0,_.z$)().toLowerCase();g&&(Mt=Qt(Vn)?"_blank":g),Ze(Vn)&&(h=h||"http://localhost",ln.scrollbars="yes");const ur=Object.entries(ln).reduce((Qs,[Da,Dc])=>`${Qs}${Da}=${Dc},`,"");if(function(w=(0,_.z$)()){var h;return xn(w)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Vn)&&"_self"!==Mt)return function(w,h){const g=document.createElement("a");g.href=w,g.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(h||"",Mt),new ci(null);const Kr=window.open(h||"",Mt,ur);xe(Kr,w,"popup-blocked");try{Kr.focus()}catch(Qs){}return new ci(Kr)}(h,Mt,Dn())})()}_openRedirect(h,g,T,j){var ne=this;return(0,f.Z)(function*(){return yield ne._originValidation(h),w=Du(h,g,T,pe(),j),jt().location.href=w,new Promise(()=>{});var w})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:j,promise:ne}=this.eventManagers[g];return j?Promise.resolve(j):(ee(ne,"If manager is not set, promise should be"),ne)}const T=this.initAndGetManager(h);return this.eventManagers[g]={promise:T},T}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const T=yield function(w){return ea.apply(this,arguments)}(h),j=new Ga(h);return T.register("authEvent",ne=>(xe(null==ne?void 0:ne.authEvent,h,"invalid-auth-event"),{status:j.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:j},g.iframes[h._key()]=T,j})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(ti,{type:ti},j=>{var ne;const Je=null===(ne=null==j?void 0:j[0])||void 0===ne?void 0:ne[ti];void 0!==Je&&g(!!Je),qe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(w){return Sl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return an()||et()||xn()}};class xl extends class{constructor(h){this.factorId=h}_process(h,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,T);case"signin":return this._finalizeSignIn(h,g.credential);default:return Et("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new xl(h)}_finalizeEnroll(h,g,T){return function(w,h){return cn(w,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(w,h))}(h,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function(w,h){return cn(w,"POST","/v2/accounts/mfaSignIn:finalize",Vt(w,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ic=(()=>{class w{constructor(){}static assertion(g){return xl._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var w,Sd="@firebase/auth";class $h{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(T=>{var j;h((null===(j=T)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ml(w=(0,$.getApp)()){const h=(0,$._getProvider)(w,"auth");return h.isInitialized()?h.getImmediate():function(w,h){const g=(0,$._getProvider)(w,"auth");if(g.isInitialized()){const j=g.getImmediate(),ne=g.getOptions();if((0,_.vZ)(ne,null!=h?h:{}))return j;qe(j,"already-initialized")}return g.initialize({options:h})}(w,{popupRedirectResolver:Uo,persistence:[In,Gt,Zs]})}w="Browser",(0,$._registerComponent)(new Ae.wA("auth",(h,{options:g})=>{const T=h.getProvider("app").getImmediate(),{apiKey:j,authDomain:ne}=T.options;return(Je=>{xe(j&&!j.includes(":"),"invalid-api-key",{appName:Je.name}),xe(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:Je.name});const Mt={apiKey:j,authDomain:ne,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tr(w)},ln=new Ir(Je,Mt);return function(w,h){const g=(null==h?void 0:h.persistence)||[],T=(Array.isArray(g)?g:[g]).map(ae);(null==h?void 0:h.errorMap)&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(ln,g),ln})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,T)=>{h.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new Ae.wA("auth-internal",h=>{const g=Mn(h.getProvider("auth").getImmediate());return new $h(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(Sd,"0.19.3",void 0),(0,$.registerVersion)(Sd,"0.19.3","esm2017")},5023:(Lt,je,N)=>{"use strict";N.d(je,{u7:()=>Eh,Jj:()=>aa,IX:()=>Gy,my:()=>Fi,xU:()=>pl,Lz:()=>Ei,WA:()=>kt,F8:()=>ec,$q:()=>ic,W:()=>sc,EK:()=>k,PU:()=>mm,l7:()=>Zl,Ky:()=>wn,Xb:()=>Ln,Cf:()=>Cr,K9:()=>Zo,Me:()=>qi,yq:()=>Zs,Wi:()=>qf,ET:()=>fd,Ab:()=>gp,vr:()=>u_,Fc:()=>Ql,hJ:()=>Rv,B$:()=>nm,at:()=>tm,oe:()=>Vv,AK:()=>Em,TF:()=>Zy,JU:()=>Yf,ST:()=>Ky,fH:()=>qy,Ix:()=>ld,Wu:()=>fm,Lx:()=>r_,qY:()=>es,GL:()=>Fu,QT:()=>s_,kl:()=>o_,Xk:()=>ym,PL:()=>_m,UQ:()=>lp,zN:()=>Lv,ad:()=>zy,nP:()=>mp,b9:()=>kv,vh:()=>t_,Pb:()=>Jf,L$:()=>xa,cf:()=>vm,sc:()=>dp,Xo:()=>Pv,IO:()=>Jy,iE:()=>im,Eo:()=>rm,i3:()=>pp,Bt:()=>Uv,pl:()=>cp,Ub:()=>vl,qK:()=>Yy,TQ:()=>n_,e0:()=>Fv,r7:()=>a_,Mx:()=>om,ar:()=>op});var te,f=N(8239),_=N(1572),$=N(1177),he=N(3855),fe=N(4213),Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ie={},Pe=Pe||{},Y=Ae||self;function ie(){}function Re(s){var n=typeof s;return"array"==(n="object"!=n?n:s?Array.isArray(s)?"array":n:"null")||"object"==n&&"number"==typeof s.length}function Qe(s){var n=typeof s;return"object"==n&&null!=s||"function"==n}var _t="closure_uid_"+(1e9*Math.random()>>>0),yt=0;function oe(s,n,i){return s.call.apply(s.bind,arguments)}function Me(s,n,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),s.apply(n,c)}}return function(){return s.apply(n,arguments)}}function We(s,n,i){return(We=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oe:Me).apply(null,arguments)}function qe(s,n){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Le(s,n){function i(){}i.prototype=n.prototype,s.Z=n.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,c,p){for(var C=Array(arguments.length-2),M=2;M<arguments.length;M++)C[M-2]=arguments[M];return n.prototype[c].apply(a,C)}}function gt(){this.s=this.s,this.o=this.o}var vt={};gt.prototype.s=!1,gt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,_t)&&s[_t]||(s[_t]=++yt)}(this);delete vt[s]}},gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xe=Array.prototype.indexOf?function(s,n){return Array.prototype.indexOf.call(s,n,void 0)}:function(s,n){if("string"==typeof s)return"string"!=typeof n||1!=n.length?-1:s.indexOf(n,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===n)return i;return-1},Et=Array.prototype.forEach?function(s,n,i){Array.prototype.forEach.call(s,n,i)}:function(s,n,i){const a=s.length,c="string"==typeof s?s.split(""):s;for(let p=0;p<a;p++)p in c&&n.call(i,c[p],p,s)};function le(s){return Array.prototype.concat.apply([],arguments)}function ae(s){const n=s.length;if(0<n){const i=Array(n);for(let a=0;a<n;a++)i[a]=s[a];return i}return[]}function Ce(s){return/^[\s\xa0]*$/.test(s)}var nt,$e=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function pe(s,n){return-1!=s.indexOf(n)}function Tt(s,n){return s<n?-1:s>n?1:0}e:{var Bt=Y.navigator;if(Bt){var rt=Bt.userAgent;if(rt){nt=rt;break e}}nt=""}function Ct(s,n,i){for(const a in s)n.call(i,s[a],a,s)}function $t(s){const n={};for(const i in s)n[i]=s[i];return n}var Ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(s,n){let i,a;for(let c=1;c<arguments.length;c++){for(i in a=arguments[c],a)s[i]=a[i];for(let p=0;p<Ht.length;p++)i=Ht[p],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function Zt(s){return Zt[" "](s),s}Zt[" "]=ie;var Un,s,cn=pe(nt,"Opera"),Jt=pe(nt,"Trident")||pe(nt,"MSIE"),vn=pe(nt,"Edge"),Rn=vn||Jt,Fn=pe(nt,"Gecko")&&!(pe(nt.toLowerCase(),"webkit")&&!pe(nt,"Edge"))&&!(pe(nt,"Trident")||pe(nt,"MSIE"))&&!pe(nt,"Edge"),Kn=pe(nt.toLowerCase(),"webkit")&&!pe(nt,"Edge");function Zn(){var s=Y.document;return s?s.documentMode:void 0}e:{var En="",er=(s=nt,Fn?/rv:([^\);]+)(\)|;)/.exec(s):vn?/Edge\/([\d\.]+)/.exec(s):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Kn?/WebKit\/(\S+)/.exec(s):cn?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(er&&(En=er?er[1]:""),Jt){var tr=Zn();if(null!=tr&&tr>parseFloat(En)){Un=String(tr);break e}}Un=En}var Ot={};function zt(){return n=Ot,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let s=0;const n=$e(String(Un)).split("."),i=$e("9").split("."),a=Math.max(n.length,i.length);for(let C=0;0==s&&C<a;C++){var c=n[C]||"",p=i[C]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==c[0].length&&0==p[0].length)break;s=Tt(0==c[1].length?0:parseInt(c[1],10),0==p[1].length?0:parseInt(p[1],10))||Tt(0==c[2].length,0==p[2].length)||Tt(c[2],p[2]),c=c[3],p=p[3]}while(0==s)}return 0<=s}();var n}var Ge=Y.document&&Jt&&(Zn()||parseInt(Un,10))||void 0,ue=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var s=!1,n=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Y.addEventListener("test",ie,n),Y.removeEventListener("test",ie,n)}catch(i){}return s}();function ge(s,n){this.type=s,this.g=this.target=n,this.defaultPrevented=!1}function Ve(s,n){if(ge.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=n,n=s.relatedTarget){if(Fn){e:{try{Zt(n.nodeName);var c=!0;break e}catch(p){}c=!1}c||(n=null)}}else"mouseover"==i?n=s.fromElement:"mouseout"==i&&(n=s.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:dt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ve.Z.h.call(this)}}ge.prototype.h=function(){this.defaultPrevented=!0},Le(Ve,ge);var dt={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),pt=0;function Dt(s,n,i,a,c){this.listener=s,this.proxy=null,this.src=n,this.type=i,this.capture=!!a,this.ia=c,this.key=++pt,this.ca=this.fa=!1}function tn(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Gn(s){this.src=s,this.g={},this.h=0}function nr(s,n){var i=n.type;if(i in s.g){var p,a=s.g[i],c=xe(a,n);(p=0<=c)&&Array.prototype.splice.call(a,c,1),p&&(tn(n),0==s.g[i].length&&(delete s.g[i],s.h--))}}function rn(s,n,i,a){for(var c=0;c<s.length;++c){var p=s[c];if(!p.ca&&p.listener==n&&p.capture==!!i&&p.ia==a)return c}return-1}Gn.prototype.add=function(s,n,i,a,c){var p=s.toString();(s=this.g[p])||(s=this.g[p]=[],this.h++);var C=rn(s,n,a,c);return-1<C?(n=s[C],i||(n.fa=!1)):((n=new Dt(n,this.src,p,!!a,c)).fa=i,s.push(n)),n};var pn="closure_lm_"+(1e6*Math.random()|0),mn={};function _e(s,n,i,a,c){if(a&&a.once)return F(s,n,i,a,c);if(Array.isArray(n)){for(var p=0;p<n.length;p++)_e(s,n[p],i,a,c);return null}return i=Ft(i),s&&s[St]?s.N(n,i,Qe(a)?!!a.capture:!!a,c):me(s,n,i,!1,a,c)}function me(s,n,i,a,c,p){if(!n)throw Error("Invalid event type");var C=Qe(c)?!!c.capture:!!c,M=at(s);if(M||(s[pn]=M=new Gn(s)),(i=M.add(n,i,a,C,p)).proxy)return i;if(a=function(){var n=He;return function s(i){return n.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)ue||(c=C),void 0===c&&(c=!1),s.addEventListener(n.toString(),a,c);else if(s.attachEvent)s.attachEvent(se(n.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function F(s,n,i,a,c){if(Array.isArray(n)){for(var p=0;p<n.length;p++)F(s,n[p],i,a,c);return null}return i=Ft(i),s&&s[St]?s.O(n,i,Qe(a)?!!a.capture:!!a,c):me(s,n,i,!0,a,c)}function V(s,n,i,a,c){if(Array.isArray(n))for(var p=0;p<n.length;p++)V(s,n[p],i,a,c);else a=Qe(a)?!!a.capture:!!a,i=Ft(i),s&&s[St]?(s=s.i,(n=String(n).toString())in s.g&&-1<(i=rn(p=s.g[n],i,a,c))&&(tn(p[i]),Array.prototype.splice.call(p,i,1),0==p.length&&(delete s.g[n],s.h--))):s&&(s=at(s))&&(n=s.g[n.toString()],s=-1,n&&(s=rn(n,i,a,c)),(i=-1<s?n[s]:null)&&Oe(i))}function Oe(s){if("number"!=typeof s&&s&&!s.ca){var n=s.src;if(n&&n[St])nr(n.i,s);else{var i=s.type,a=s.proxy;n.removeEventListener?n.removeEventListener(i,a,s.capture):n.detachEvent?n.detachEvent(se(i),a):n.addListener&&n.removeListener&&n.removeListener(a),(i=at(n))?(nr(i,s),0==i.h&&(i.src=null,n[pn]=null)):tn(s)}}}function se(s){return s in mn?mn[s]:mn[s]="on"+s}function He(s,n){if(s.ca)s=!0;else{n=new Ve(n,this);var i=s.listener,a=s.ia||s.src;s.fa&&Oe(s),s=i.call(a,n)}return s}function at(s){return(s=s[pn])instanceof Gn?s:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(s){return"function"==typeof s?s:(s[Rt]||(s[Rt]=function(n){return s.handleEvent(n)}),s[Rt])}function ye(){gt.call(this),this.i=new Gn(this),this.P=this,this.I=null}function re(s,n){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=n.type||n,"string"==typeof n)n=new ge(n,s);else if(n instanceof ge)n.target=n.target||s;else{var c=n;en(n=new ge(a,s),c)}if(c=!0,i)for(var p=i.length-1;0<=p;p--){var C=n.g=i[p];c=de(C,a,!0,n)&&c}if(c=de(C=n.g=s,a,!0,n)&&c,c=de(C,a,!1,n)&&c,i)for(p=0;p<i.length;p++)c=de(C=n.g=i[p],a,!1,n)&&c}function de(s,n,i,a){if(!(n=s.i.g[String(n)]))return!0;n=n.concat();for(var c=!0,p=0;p<n.length;++p){var C=n[p];if(C&&!C.ca&&C.capture==i){var M=C.listener,B=C.ia||C.src;C.fa&&nr(s.i,C),c=!1!==M.call(B,a)&&c}}return c&&!a.defaultPrevented}Le(ye,gt),ye.prototype[St]=!0,ye.prototype.removeEventListener=function(s,n,i,a){V(this,s,n,i,a)},ye.prototype.M=function(){if(ye.Z.M.call(this),this.i){var n,s=this.i;for(n in s.g){for(var i=s.g[n],a=0;a<i.length;a++)tn(i[a]);delete s.g[n],s.h--}}this.I=null},ye.prototype.N=function(s,n,i,a){return this.i.add(String(s),n,!1,i,a)},ye.prototype.O=function(s,n,i,a){return this.i.add(String(s),n,!0,i,a)};var Ze=Y.JSON.stringify;function et(){var s=Ut;let n=null;return s.g&&(n=s.g,s.g=s.g.next,s.g||(s.h=null),n.next=null),n}var xn,hn=new class{constructor(s,n){this.i=s,this.j=n,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new dn,s=>s.reset());class dn{constructor(){this.next=this.g=this.h=null}set(n,i){this.h=n,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function yn(s){Y.setTimeout(()=>{throw s},0)}function Yn(s,n){xn||function(){var s=Y.Promise.resolve(void 0);xn=function(){s.then(an)}}(),Bn||(xn(),Bn=!0),Ut.add(s,n)}var Bn=!1,Ut=new class{constructor(){this.h=this.g=null}add(n,i){const a=hn.get();a.set(n,i),this.h?this.h.next=a:this.g=a,this.h=a}};function an(){for(var s;s=et();){try{s.h.call(s.g)}catch(i){yn(i)}var n=hn;n.j(s),100>n.h&&(n.h++,s.next=n.g,n.g=s)}Bn=!1}function $n(s,n){ye.call(this),this.h=s||1,this.g=n||Y,this.j=We(this.kb,this),this.l=Date.now()}function Tr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Ir(s,n,i){if("function"==typeof s)i&&(s=We(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=We(s.handleEvent,s)}return 2147483647<Number(n)?-1:Y.setTimeout(s,n||0)}function Mn(s){s.g=Ir(()=>{s.g=null,s.i&&(s.i=!1,Mn(s))},s.j);const n=s.h;s.h=null,s.m.apply(null,n)}Le($n,ye),(te=$n.prototype).da=!1,te.S=null,te.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),re(this,"tick"),this.da&&(Tr(this),this.start()))}},te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.M=function(){$n.Z.M.call(this),Tr(this),delete this.g};class Ar extends gt{constructor(n,i){super(),this.m=n,this.j=i,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Mn(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(s){gt.call(this),this.h=s,this.g={}}Le(we,gt);var tt=[];function At(s,n,i,a){Array.isArray(i)||(i&&(tt[0]=i.toString()),i=tt);for(var c=0;c<i.length;c++){var p=_e(n,i[c],a||s.handleEvent,!1,s.h||s);if(!p)break;s.g[p.key]=p}}function wt(s){Ct(s.g,function(n,i){this.g.hasOwnProperty(i)&&Oe(n)},s),s.g={}}function Wn(){this.g=!0}function Pn(s,n,i,a){s.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(s,n){if(!s.g)return n;if(!n)return null;try{var i=JSON.parse(n);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var p=c[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var C=1;C<c.length;C++)c[C]=""}}}return Ze(i)}catch(M){return n}}(s,i)+(a?" "+a:"")})}we.prototype.M=function(){we.Z.M.call(this),wt(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wn.prototype.Aa=function(){this.g=!1},Wn.prototype.info=function(){};var qr={},Lr=null;function Qn(){return Lr=Lr||new ye}function ai(s){ge.call(this,qr.Ma,s)}function Vr(s){const n=Qn();re(n,new ai(n,s))}function hi(s,n){ge.call(this,qr.STAT_EVENT,s),this.stat=n}function lr(s){const n=Qn();re(n,new hi(n,s))}function ke(s,n){ge.call(this,qr.Na,s),this.size=n}function Ne(s,n){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){s()},n)}qr.Ma="serverreachability",Le(ai,ge),qr.STAT_EVENT="statevent",Le(hi,ge),qr.Na="timingevent",Le(ke,ge);var Be={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pt(){}function Nn(){}Pt.prototype.h=null;var Sr,fr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function On(){ge.call(this,"d")}function Br(){ge.call(this,"c")}function Rr(){}function ii(s,n,i,a){this.l=s,this.j=n,this.m=i,this.X=a||1,this.V=new we(this),this.P=cs,this.W=new $n(s=Rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}Le(On,ge),Le(Br,ge),Le(Rr,Pt),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},Sr=new Rr;var cs=45e3,Gr={},Si={};function Ri(s,n,i){s.K=1,s.v=ps(Dr(n)),s.s=i,s.U=!0,$i(s,null)}function $i(s,n){s.F=Date.now(),$s(s),s.A=Dr(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),O(i.h,"t",a),s.C=0,i=s.l.H,s.h=new jr,s.g=Fa(s.l,i?n:null,!s.s),0<s.O&&(s.L=new Ar(We(s.Ia,s,s.g),s.O)),At(s.V,s.g,"readystatechange",s.gb),n=s.H?$t(s.H):{},s.s?(s.u||(s.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,n)):(s.u="GET",s.g.ea(s.A,s.u,null,n)),Vr(1),function(s,n,i,a,c,p){s.info(function(){if(s.g)if(p)for(var C="",M=p.split("&"),B=0;B<M.length;B++){var X=M[B].split("=");if(1<X.length){var ve=X[0];X=X[1];var Ue=ve.split("_");C=2<=Ue.length&&"type"==Ue[1]?C+(ve+"=")+X+"&":C+(ve+"=redacted&")}}else C=null;else C=p;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+n+"\n"+i+"\n"+C})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Cs(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function ts(s,n,i){let c,a=!0;for(;!s.I&&s.C<i.length;){if(c=ds(s,i),c==Si){4==n&&(s.o=4,lr(14),a=!1),Pn(s.j,s.m,null,"[Incomplete Response]");break}if(c==Gr){s.o=4,lr(15),Pn(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}Pn(s.j,s.m,c,null),Hs(s,c)}Cs(s)&&c!=Si&&c!=Gr&&(s.h.g="",s.C=0),4!=n||0!=i.length||s.h.h||(s.o=1,lr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(n=s.l).g==s&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Gs(n),n.L=!0,lr(11))):(Pn(s.j,s.m,i,"[Invalid Chunked Response]"),Wi(s),wi(s))}function ds(s,n){var i=s.C,a=n.indexOf("\n",i);return-1==a?Si:(i=Number(n.substring(i,a)),isNaN(i)?Gr:(a+=1)+i>n.length?Si:(n=n.substr(a,i),s.C=a+i,n))}function $s(s){s.Y=Date.now()+s.P,ro(s,s.P)}function ro(s,n){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Ne(We(s.eb,s),n)}function Hi(s){s.B&&(Y.clearTimeout(s.B),s.B=null)}function wi(s){0==s.l.G||s.I||hu(s.l,s)}function Wi(s){Hi(s);var n=s.L;n&&"function"==typeof n.na&&n.na(),s.L=null,Tr(s.W),wt(s.V),s.g&&(n=s.g,s.g=null,n.abort(),n.na())}function Hs(s,n){try{var i=s.l;if(0!=i.G&&(i.g==s||y(i.i,s)))if(i.I=s.N,!s.J&&y(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(n)}catch(X){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=Ne(We(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;zs(i),No(i)}ga(i),lr(18)}if(1>=S(i.i)&&i.ka){try{i.ka()}catch(X){}i.ka=void 0}}else zr(i,11)}else if((s.J||i.g==s)&&zs(i),!Ce(n))for(c=i.Ca.g.parse(n),n=0;n<c.length;n++){let X=c[n];if(i.U=X[0],X=X[1],2==i.G)if("c"==X[0]){i.J=X[1],i.la=X[2];const ve=X[3];null!=ve&&(i.ma=ve,i.h.info("VER="+i.ma));const Ue=X[4];null!=Ue&&(i.za=Ue,i.h.info("SVER="+i.za));const ft=X[5];null!=ft&&"number"==typeof ft&&0<ft&&(i.K=a=1.5*ft,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const xt=s.g;if(xt){const Kt=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var p=a.i;!p.g&&(pe(Kt,"spdy")||pe(Kt,"quic")||pe(Kt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(D(p,p.h),p.h=null))}if(a.D){const Cn=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(a.sa=Cn,cr(a.F,a.D,Cn))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var C=s;if((a=i).oa=$r(a,a.H?a.la:null,a.W),C.J){z(a.i,C);var M=C,B=a.K;B&&M.setTimeout(B),M.B&&(Hi(M),$s(M)),a.g=C}else so(a);0<i.l.length&&vo(i)}else"stop"!=X[0]&&"close"!=X[0]||zr(i,7);else 3==i.G&&("stop"==X[0]||"close"==X[0]?"stop"==X[0]?zr(i,7):Go(i):"noop"!=X[0]&&i.j&&i.j.wa(X),i.A=0)}Vr(4)}catch(X){}}function io(s,n){if(s.forEach&&"function"==typeof s.forEach)s.forEach(n,void 0);else if(Re(s)||"string"==typeof s)Et(s,n,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Re(s)||"string"==typeof s){i=[];for(var a=s.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,s)i[a++]=c;a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Re(s)){for(var n=[],i=s.length,a=0;a<i;a++)n.push(s[a]);return n}for(a in n=[],i=0,s)n[i++]=s[a];return n}(s),c=a.length;for(var p=0;p<c;p++)n.call(void 0,a[p],i&&i[p],s)}}function fi(s,n){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof fi)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function pi(s){if(s.i!=s.g.length){for(var n=0,i=0;n<s.g.length;){var a=s.g[n];xi(s.h,a)&&(s.g[i++]=a),n++}s.g.length=i}if(s.i!=s.g.length){var c={};for(i=n=0;n<s.g.length;)xi(c,a=s.g[n])||(s.g[i++]=a,c[a]=1),n++;s.g.length=i}}function xi(s,n){return Object.prototype.hasOwnProperty.call(s,n)}(te=ii.prototype).setTimeout=function(s){this.P=s},te.gb=function(s){s=s.target;const n=this.L;n&&3==yi(s)?n.l():this.Ia(s)},te.Ia=function(s){try{if(s==this.g)e:{const ve=yi(this.g);var n=this.g.Da();const Ue=this.g.ba();if(!(3>ve)&&(3!=ve||Rn||this.g&&(this.h.h||this.g.ga()||Ho(this.g)))){this.I||4!=ve||7==n||Vr(8==n||0>=Ue?3:2),Hi(this);var i=this.g.ba();this.N=i;t:if(Cs(this)){var a=Ho(this.g);s="";var c=a.length,p=4==yi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wi(this),wi(this);var C="";break t}this.h.i=new Y.TextDecoder}for(n=0;n<c;n++)this.h.h=!0,s+=this.h.i.decode(a[n],{stream:p&&n==c-1});a.splice(0,c),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==i,function(s,n,i,a,c,p,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+n+"\n"+i+"\n"+p+" "+C})}(this.j,this.u,this.A,this.m,this.X,ve,i),this.i){if(this.$&&!this.J){t:{if(this.g){var M,B=this.g;if((M=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ce(M)){var X=M;break t}}X=null}if(!(i=X)){this.i=!1,this.o=3,lr(12),Wi(this),wi(this);break e}Pn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hs(this,i)}this.U?(ts(this,ve,C),Rn&&this.i&&3==ve&&(At(this.V,this.W,"tick",this.fb),this.W.start())):(Pn(this.j,this.m,C,null),Hs(this,C)),4==ve&&Wi(this),this.i&&!this.I&&(4==ve?hu(this.l,this):(this.i=!1,$s(this)))}else 400==i&&0<C.indexOf("Unknown SID")?(this.o=3,lr(12)):(this.o=0,lr(13)),Wi(this),wi(this)}}}catch(ve){}},te.fb=function(){if(this.g){var s=yi(this.g),n=this.g.ga();this.C<n.length&&(Hi(this),ts(this,s,n),this.i&&4!=s&&$s(this))}},te.cancel=function(){this.I=!0,Wi(this)},te.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,n){s.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Vr(3),lr(17)),Wi(this),this.o=2,wi(this)):ro(this,this.Y-s)},(te=fi.prototype).R=function(){pi(this);for(var s=[],n=0;n<this.g.length;n++)s.push(this.h[this.g[n]]);return s},te.T=function(){return pi(this),this.g.concat()},te.get=function(s,n){return xi(this.h,s)?this.h[s]:n},te.set=function(s,n){xi(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=n},te.forEach=function(s,n){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],p=this.get(c);s.call(n,p,c,this)}};var fs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zr(s,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Zr){this.g=void 0!==n?n:s.g,Ui(this,s.j),this.s=s.s,Yr(this,s.i),Ds(this,s.m),this.l=s.l,n=s.h;var i=new Di;i.i=n.i,n.g&&(i.g=new fi(n.g),i.h=n.h),Gi(this,i),this.o=s.o}else s&&(i=String(s).match(fs))?(this.g=!!n,Ui(this,i[1]||"",!0),this.s=xr(i[2]||""),Yr(this,i[3]||"",!0),Ds(this,i[4]),this.l=xr(i[5]||"",!0),Gi(this,i[6]||"",!0),this.o=xr(i[7]||"")):(this.g=!!n,this.h=new Di(null,this.g))}function Dr(s){return new Zr(s)}function Ui(s,n,i){s.j=i?xr(n,!0):n,s.j&&(s.j=s.j.replace(/:$/,""))}function Yr(s,n,i){s.i=i?xr(n,!0):n}function Ds(s,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);s.m=n}else s.m=null}function Gi(s,n,i){n instanceof Di?(s.h=n,function(s,n){n&&!s.j&&(Mr(s),s.i=null,s.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(x(this,a),O(this,c,i))},s)),s.j=n}(s.h,s.g)):(i||(n=Ci(n,yo)),s.h=new Di(n,s.g))}function cr(s,n,i){s.h.set(n,i)}function ps(s){return cr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function xr(s,n){return s?n?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ci(s,n,i){return"string"==typeof s?(s=encodeURI(s).replace(n,bs),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function bs(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Zr.prototype.toString=function(){var s=[],n=this.j;n&&s.push(Ci(n,Ts,!0),":");var i=this.i;return(i||"file"==n)&&(s.push("//"),(n=this.s)&&s.push(Ci(n,Ts,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Ci(i,"/"==i.charAt(0)?Ss:As,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Ci(i,ar)),s.join("")};var Ts=/[#\/\?@]/g,As=/[#\?:]/g,Ss=/[#\?]/g,yo=/[#\?@]/g,ar=/#/g;function Di(s,n){this.h=this.g=null,this.i=s||null,this.j=!!n}function Mr(s){s.g||(s.g=new fi,s.h=0,s.i&&function(s,n){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),c=null;if(0<=a){var p=s[i].substring(0,a);c=s[i].substring(a+1)}else p=s[i];n(p,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(s.i,function(n,i){s.add(decodeURIComponent(n.replace(/\+/g," ")),i)}))}function x(s,n){Mr(s),n=G(s,n),xi(s.g.h,n)&&(s.i=null,s.h-=s.g.get(n).length,xi((s=s.g).h,n)&&(delete s.h[n],s.i--,s.g.length>2*s.i&&pi(s)))}function H(s,n){return Mr(s),n=G(s,n),xi(s.g.h,n)}function O(s,n,i){x(s,n),0<i.length&&(s.i=null,s.g.set(G(s,n),ae(i)),s.h+=i.length)}function G(s,n){return n=String(n),s.j&&(n=n.toLowerCase()),n}function bt(s){this.l=s||nn,s=Y.PerformanceNavigationTiming?0<(s=Y.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=Di.prototype).add=function(s,n){Mr(this),this.i=null,s=G(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(n),this.h+=1,this},te.forEach=function(s,n){Mr(this),this.g.forEach(function(i,a){Et(i,function(c){s.call(n,c,a,this)},this)},this)},te.T=function(){Mr(this);for(var s=this.g.R(),n=this.g.T(),i=[],a=0;a<n.length;a++)for(var c=s[a],p=0;p<c.length;p++)i.push(n[a]);return i},te.R=function(s){Mr(this);var n=[];if("string"==typeof s)H(this,s)&&(n=le(n,this.g.get(G(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)n=le(n,s[i])}return n},te.set=function(s,n){return Mr(this),this.i=null,H(this,s=G(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[n]),this.h+=1,this},te.get=function(s,n){return s&&0<(s=this.R(s)).length?String(s[0]):n},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],n=this.g.T(),i=0;i<n.length;i++){var a=n[i],c=encodeURIComponent(String(a));a=this.R(a);for(var p=0;p<a.length;p++){var C=c;""!==a[p]&&(C+="="+encodeURIComponent(String(a[p]))),s.push(C)}}return this.i=s.join("&")};var nn=10;function P(s){return!!s.h||!!s.g&&s.g.size>=s.j}function S(s){return s.h?1:s.g?s.g.size:0}function y(s,n){return s.h?s.h==n:!!s.g&&s.g.has(n)}function D(s,n){s.g?s.g.add(n):s.h=n}function z(s,n){s.h&&s.h==n?s.h=null:s.g&&s.g.has(n)&&s.g.delete(n)}function Ee(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let n=s.i;for(const i of s.g.values())n=n.concat(i.D);return n}return ae(s.i)}function it(){}function ct(){this.g=new it}function on(s,n,i){const a=i||"";try{io(s,function(c,p){let C=c;Qe(c)&&(C=Ze(c)),n.push(a+p+"="+encodeURIComponent(C))})}catch(c){throw n.push(a+"type="+encodeURIComponent("_badmap")),c}}function gn(s,n,i,a,c){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,c(a)}catch(p){}}function _r(s){this.l=s.$b||null,this.j=s.ib||!1}function dr(s,n){ye.call(this),this.D=s,this.u=n,this.m=void 0,this.readyState=Bi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt.prototype.cancel=function(){if(this.i=Ee(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},it.prototype.stringify=function(s){return Y.JSON.stringify(s,void 0)},it.prototype.parse=function(s){return Y.JSON.parse(s,void 0)},Le(_r,Pt),_r.prototype.g=function(){return new dr(this.l,this.j)},_r.prototype.i=function(s){return function(){return s}}({}),Le(dr,ye);var Bi=0;function gi(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function mt(s){s.readyState=4,s.l=null,s.j=null,s.A=null,jn(s)}function jn(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(te=dr.prototype).open=function(s,n){if(this.readyState!=Bi)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=n,this.readyState=1,jn(this)},te.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(n.body=s),(this.D||Y).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mt(this)),this.readyState=Bi},te.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Y.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gi(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},te.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var n=s.value?s.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!s.done}))&&(this.response=this.responseText+=n)}s.done?mt(this):jn(this),3==this.readyState&&gi(this)}},te.Ua=function(s){this.g&&(this.response=this.responseText=s,mt(this))},te.Ta=function(s){this.g&&(this.response=s,mt(this))},te.ha=function(){this.g&&mt(this)},te.setRequestHeader=function(s,n){this.v.append(s,n)},te.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],n=this.h.entries();for(var i=n.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=n.next();return s.join("\r\n")},Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Ro=Y.JSON.parse;function Sn(s){ye.call(this),this.headers=new fi,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gs,this.K=this.L=!1}Le(Sn,ye);var gs="",mi=/^https?$/i,zi=["POST","PUT"];function xo(s){return"content-type"==s.toLowerCase()}function yl(s,n){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=n,s.m=5,da(s),Ws(s)}function da(s){s.D||(s.D=!0,re(s,"complete"),re(s,"error"))}function ha(s){if(s.h&&void 0!==Pe&&(!s.C[1]||4!=yi(s)||2!=s.ba()))if(s.v&&4==yi(s))Ir(s.Fa,0,s);else if(re(s,"readystatechange"),4==yi(s)){s.h=!1;try{const M=s.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var a;if(a=0===M){var c=String(s.H).match(fs)[1]||null;if(!c&&Y.self&&Y.self.location){var p=Y.self.location.protocol;c=p.substr(0,p.length-1)}a=!mi.test(c?c.toLowerCase():"")}i=a}if(i)re(s,"complete"),re(s,"success");else{s.m=6;try{var C=2<yi(s)?s.g.statusText:""}catch(B){C=""}s.j=C+" ["+s.ba()+"]",da(s)}}finally{Ws(s)}}}function Ws(s,n){if(s.g){ui(s);const i=s.g,a=s.C[0]?ie:null;s.g=null,s.C=null,n||re(s,"ready");try{i.onreadystatechange=a}catch(c){}}}function ui(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Y.clearTimeout(s.A),s.A=null)}function yi(s){return s.g?s.g.readyState:0}function Ho(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case gs:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Ki(s,n,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let n="";return Ct(s,function(i,a){n+=a,n+=":",n+=i,n+="\r\n"}),n}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):cr(s,n,i))}function _o(s,n,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||n}function Wo(s){this.za=0,this.l=[],this.h=new Wn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_o("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_o("baseRetryDelayMs",5e3,s),this.$a=_o("retryDelaySeedMs",1e4,s),this.Ya=_o("forwardChannelMaxRetries",2,s),this.ra=_o("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new bt(s&&s.concurrentRequestLimit),this.Ca=new ct,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Go(s){if(fa(s),3==s.G){var n=s.V++,i=Dr(s.F);cr(i,"SID",s.J),cr(i,"RID",n),cr(i,"TYPE","terminate"),Eo(s,i),(n=new ii(s,s.h,n,void 0)).K=2,n.v=ps(Dr(i)),i=!1,Y.navigator&&Y.navigator.sendBeacon&&(i=Y.navigator.sendBeacon(n.v.toString(),"")),!i&&Y.Image&&((new Image).src=n.v,i=!0),i||(n.g=Fa(n.l,null),n.g.ea(n.v)),n.F=Date.now(),$s(n)}Ks(s)}function No(s){s.g&&(Gs(s),s.g.cancel(),s.g=null)}function fa(s){No(s),s.u&&(Y.clearTimeout(s.u),s.u=null),zs(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Y.clearTimeout(s.m),s.m=null)}function ms(s,n){s.l.push(new class{constructor(s,n){this.h=s,this.g=n}}(s.Za++,n)),3==s.G&&vo(s)}function vo(s){P(s.i)||s.m||(s.m=!0,Yn(s.Ha,s),s.C=0)}function ka(s,n){var i;i=n?n.m:s.V++;const a=Dr(s.F);cr(a,"SID",s.J),cr(a,"RID",i),cr(a,"AID",s.U),Eo(s,a),s.o&&s.s&&Ki(a,s.o,s.s),i=new ii(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),n&&(s.l=n.D.concat(s.l)),n=wo(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),D(s.i,i),Ri(i,a,n)}function Eo(s,n){s.j&&io({},function(i,a){cr(n,a,i)})}function wo(s,n,i){i=Math.min(s.l.length,i);var a=s.j?We(s.j.Oa,s.j,s):null;e:{var c=s.l;let p=-1;for(;;){const C=["count="+i];-1==p?0<i?(p=c[0].h,C.push("ofs="+p)):p=0:C.push("ofs="+p);let M=!0;for(let B=0;B<i;B++){let X=c[B].h;const ve=c[B].g;if(X-=p,0>X)p=Math.max(0,c[B].h-100),M=!1;else try{on(ve,C,"req"+X+"_")}catch(Ue){a&&a(ve)}}if(M){a=C.join("&");break e}}}return s=s.l.splice(0,i),n.D=s,a}function so(s){s.g||s.u||(s.Y=1,Yn(s.Ga,s),s.A=0)}function ga(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=Ne(We(s.Ga,s),ma(s,s.A)),s.A++,0))}function Gs(s){null!=s.B&&(Y.clearTimeout(s.B),s.B=null)}function zo(s){s.g=new ii(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var n=Dr(s.oa);cr(n,"RID","rpc"),cr(n,"SID",s.J),cr(n,"CI",s.N?"0":"1"),cr(n,"AID",s.U),Eo(s,n),cr(n,"TYPE","xmlhttp"),s.o&&s.s&&Ki(n,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=ps(Dr(n)),i.s=null,i.U=!0,$i(i,s)}function zs(s){null!=s.v&&(Y.clearTimeout(s.v),s.v=null)}function hu(s,n){var i=null;if(s.g==n){zs(s),Gs(s),s.g=null;var a=2}else{if(!y(s.i,n))return;i=n.D,z(s.i,n),a=1}if(s.I=n.N,0!=s.G)if(n.i)if(1==a){i=n.s?n.s.length:0,n=Date.now()-n.F;var c=s.C;re(a=Qn(),new ke(a,i,n,c)),vo(s)}else so(s);else if(3==(c=n.o)||0==c&&0<s.I||!(1==a&&function(s,n){return!(S(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=n.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=Ne(We(s.Ha,s,n),ma(s,s.C)),s.C++,0)))}(s,n)||2==a&&ga(s)))switch(i&&0<i.length&&(n=s.i,n.i=n.i.concat(i)),c){case 1:zr(s,5);break;case 4:zr(s,10);break;case 3:zr(s,6);break;default:zr(s,2)}}function ma(s,n){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*n}function zr(s,n){if(s.h.info("Error code "+n),2==n){var i=null;s.j&&(i=null);var a=We(s.jb,s);i||(i=new Zr("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Ui(i,"https"),ps(i)),function(s,n){const i=new Wn;if(Y.Image){const a=new Image;a.onload=qe(gn,i,a,"TestLoadImage: loaded",!0,n),a.onerror=qe(gn,i,a,"TestLoadImage: error",!1,n),a.onabort=qe(gn,i,a,"TestLoadImage: abort",!1,n),a.ontimeout=qe(gn,i,a,"TestLoadImage: timeout",!1,n),Y.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else n(!1)}(i.toString(),a)}else lr(2);s.G=0,s.j&&s.j.va(n),Ks(s),fa(s)}function Ks(s){s.G=0,s.I=-1,s.j&&((0!=Ee(s.i).length||0!=s.l.length)&&(s.i.i.length=0,ae(s.l),s.l.length=0),s.j.ua())}function $r(s,n,i){let a=function(s){return s instanceof Zr?Dr(s):new Zr(s,void 0)}(i);if(""!=a.i)n&&Yr(a,n+"."+a.i),Ds(a,a.m);else{const c=Y.location;a=function(s,n,i,a){var c=new Zr(null,void 0);return s&&Ui(c,s),n&&Yr(c,n),i&&Ds(c,i),a&&(c.l=a),c}(c.protocol,n?n+"."+c.hostname:c.hostname,+c.port,i)}return s.aa&&Ct(s.aa,function(c,p){cr(a,p,c)}),i=s.sa,(n=s.D)&&i&&cr(a,n,i),cr(a,"VER",s.ma),Eo(s,a),a}function Fa(s,n,i){if(n&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Sn(i&&s.Ba&&!s.qa?new _r({ib:!0}):s.qa)).L=s.H,n}function La(){}function Va(){if(Jt&&!(10<=Number(Ge)))throw Error("Environmental error: no available transport.")}function rs(s,n){ye.call(this),this.g=new Wo(n),this.l=s,this.h=n&&n.messageUrlParams||null,s=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(s?s["X-WebChannel-Content-Type"]=n.messageContentType:s={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(s?s["X-WebChannel-Client-Profile"]=n.ya:s={"X-WebChannel-Client-Profile":n.ya}),this.g.P=s,(s=n&&n.httpHeadersOverwriteParam)&&!Ce(s)&&(this.g.o=s),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ce(n)&&(this.g.D=n,null!==(s=this.h)&&n in s&&n in(s=this.h)&&delete s[n]),this.j=new is(this)}function Ua(s){On.call(this);var n=s.__sm__;if(n){e:{for(const i in n){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,n=null!==n&&s in n?n[s]:void 0),this.data=n}else this.data=s}function fu(){Br.call(this),this.status=1}function is(s){this.g=s}(te=Sn.prototype).ea=function(s,n,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);n=n?n.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sr.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:Sr),this.g.onreadystatechange=We(this.Fa,this);try{this.F=!0,this.g.open(n,String(s),!0),this.F=!1}catch(p){return void yl(this,p)}s=i||"";const c=new fi(this.headers);a&&io(a,function(p,C){c.set(C,p)}),a=function(s){e:{var n=xo;const i=s.length,a="string"==typeof s?s.split(""):s;for(let c=0;c<i;c++)if(c in a&&n.call(void 0,a[c],c,s)){n=c;break e}n=-1}return 0>n?null:"string"==typeof s?s.charAt(n):s[n]}(c.T()),i=Y.FormData&&s instanceof Y.FormData,!(0<=xe(zi,n))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(p,C){this.g.setRequestHeader(C,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ui(this),0<this.B&&((this.K=function(s){return Jt&&zt()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=We(this.pa,this)):this.A=Ir(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(p){yl(this,p)}},te.pa=function(){void 0!==Pe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,re(this,"timeout"),this.abort(8))},te.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,re(this,"complete"),re(this,"abort"),Ws(this))},te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ws(this,!0)),Sn.Z.M.call(this)},te.Fa=function(){this.s||(this.F||this.v||this.l?ha(this):this.cb())},te.cb=function(){ha(this)},te.ba=function(){try{return 2<yi(this)?this.g.status:-1}catch(s){return-1}},te.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},te.Qa=function(s){if(this.g){var n=this.g.responseText;return s&&0==n.indexOf(s)&&(n=n.substring(s.length)),Ro(n)}},te.Da=function(){return this.m},te.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=Wo.prototype).ma=8,te.G=1,te.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(n){}},te.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const c=new ii(this,this.h,s,void 0);let p=this.s;if(this.P&&(p?(p=$t(p),en(p,this.P)):p=this.P),null===this.o&&(c.H=p),this.ja)e:{for(var n=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=i;break e}if(4096===n||i===this.l.length-1){n=i+1;break e}}n=1e3}else n=1e3;n=wo(this,c,n),cr(i=Dr(this.F),"RID",s),cr(i,"CVER",22),this.D&&cr(i,"X-HTTP-Session-Id",this.D),Eo(this,i),this.o&&p&&Ki(i,this.o,p),D(this.i,c),this.Ra&&cr(i,"TYPE","init"),this.ja?(cr(i,"$req",n),cr(i,"SID","null"),c.$=!0,Ri(c,i,null)):Ri(c,i,n),this.G=2}}else 3==this.G&&(s?ka(this,s):0==this.l.length||P(this.i)||ka(this))},te.Ga=function(){if(this.u=null,zo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=Ne(We(this.bb,this),s)}},te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,lr(10),No(this),zo(this))},te.ab=function(){null!=this.v&&(this.v=null,No(this),ga(this),lr(19))},te.jb=function(s){s?(this.h.info("Successfully pinged google.com"),lr(2)):(this.h.info("Failed to ping google.com"),lr(1))},(te=La.prototype).xa=function(){},te.wa=function(){},te.va=function(){},te.ua=function(){},te.Oa=function(){},Va.prototype.g=function(s,n){return new rs(s,n)},Le(rs,ye),rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,n=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Yn(We(s.hb,s,n))),lr(0),s.W=n,s.aa=i||{},s.N=s.X,s.F=$r(s,null,s.W),vo(s)},rs.prototype.close=function(){Go(this.g)},rs.prototype.u=function(s){if("string"==typeof s){var n={};n.__data__=s,ms(this.g,n)}else this.v?((n={}).__data__=Ze(s),ms(this.g,n)):ms(this.g,s)},rs.prototype.M=function(){this.g.j=null,delete this.j,Go(this.g),delete this.g,rs.Z.M.call(this)},Le(Ua,On),Le(fu,Br),Le(is,La),is.prototype.xa=function(){re(this.g,"a")},is.prototype.wa=function(s){re(this.g,new Ua(s))},is.prototype.va=function(s){re(this.g,new fu(s))},is.prototype.ua=function(){re(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,rs.prototype.send=rs.prototype.u,rs.prototype.open=rs.prototype.m,rs.prototype.close=rs.prototype.close,Be.NO_ERROR=0,Be.TIMEOUT=8,Be.HTTP_ERROR=6,ut.COMPLETE="complete",Nn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",ye.prototype.listen=ye.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.La,Sn.prototype.getLastErrorCode=Sn.prototype.Da,Sn.prototype.getStatus=Sn.prototype.ba,Sn.prototype.getResponseJson=Sn.prototype.Qa,Sn.prototype.getResponseText=Sn.prototype.ga,Sn.prototype.send=Sn.prototype.ea;var qs=Ie.createWebChannelTransport=function(){return new Va},oo=Ie.getStatEventTarget=function(){return Qn()},li=Ie.ErrorCode=Be,pu=Ie.EventType=ut,ya=Ie.Event=qr,ss=Ie.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rs=Ie.FetchXmlHttpFactory=_r,ys=Ie.WebChannel=Nn,_l=Ie.XhrIo=Sn;const ao="@firebase/firestore";class Qr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let Ko="9.5.0";const uo=new he.Yd("@firebase/firestore");function gu(){return uo.logLevel}function vl(s){uo.setLogLevel(s)}function Gt(s,...n){if(uo.logLevel<=he.in.DEBUG){const i=n.map(qo);uo.debug(`Firestore (${Ko}): ${s}`,...i)}}function Nr(s,...n){if(uo.logLevel<=he.in.ERROR){const i=n.map(qo);uo.error(`Firestore (${Ko}): ${s}`,...i)}}function Zs(s,...n){if(uo.logLevel<=he.in.WARN){const i=n.map(qo);uo.warn(`Firestore (${Ko}): ${s}`,...i)}}function qo(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function _n(s="Unexpected state"){const n=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+s;throw Nr(n),new Error(n)}function Dn(s,n){s||_n()}function Zo(s,n){s||_n()}function jt(s,n){return s}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Error{constructor(n,i){super(i),this.code=n,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class mu{constructor(n,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class ju{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Qr.UNAUTHENTICATED))}shutdown(){}}class Ba{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class $u{constructor(n){this.t=n,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;let c=this.i;const p=X=>this.i!==c?(c=this.i,i(X)):Promise.resolve();let C=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Jr,n.enqueueRetryable(()=>p(this.currentUser))};const M=()=>{const X=C;n.enqueueRetryable((0,f.Z)(function*(){yield X.promise,yield p(a.currentUser)}))},B=X=>{Gt("FirebaseCredentialsProvider","Auth detected"),this.auth=X,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(X=>B(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?B(X):(Gt("FirebaseCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Jr)}},0),M()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(Gt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Dn("string"==typeof a.accessToken),new mu(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Dn(null===n||"string"==typeof n),new Qr(n)}}class El{constructor(n,i,a){this.h=n,this.l=i,this.m=a,this.type="FirstParty",this.user=Qr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(n.Authorization=i),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class lo{constructor(n,i,a){this.h=n,this.l=i,this.m=a}getToken(){return Promise.resolve(new El(this.h,this.l,this.m))}start(n,i){n.enqueueRetryable(()=>i(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mi{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function Yo(s){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Mi.T=-1;class b{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const c=Yo(40);for(let p=0;p<c.length;++p)a.length<20&&c[p]<i&&(a+=n.charAt(c[p]%n.length))}return a}}function E(s,n){return s<n?-1:s>n?1:0}function v(s,n,i){return s.length===n.length&&s.every((a,c)=>i(a,n[c]))}function R(s){return s+"\0"}class k{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new kt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new kt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new kt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new kt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return k.fromMillis(Date.now())}static fromDate(n){return k.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new k(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?E(this.nanoseconds,n.nanoseconds):E(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(n){this.timestamp=n}static fromTimestamp(n){return new U(n)}static min(){return new U(new k(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ce(s){let n=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n++;return n}function Se(s,n){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n(i,s[i])}function ht(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}class Xt{constructor(n,i,a){void 0===i?i=0:i>n.length&&_n(),void 0===a?a=n.length-i:a>n.length-i&&_n(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Xt.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Xt?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let c=0;c<a;c++){const p=n.get(c),C=i.get(c);if(p<C)return-1;if(p>C)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class sn extends Xt{construct(n,i,a){return new sn(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new kt(st.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(c=>c.length>0))}return new sn(i)}static emptyPath(){return new sn([])}}const In=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Xt{construct(n,i,a){return new Ln(n,i,a)}static isValidIdentifier(n){return In.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ln(["__name__"])}static fromServerFormat(n){const i=[];let a="",c=0;const p=()=>{if(0===a.length)throw new kt(st.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let C=!1;for(;c<n.length;){const M=n[c];if("\\"===M){if(c+1===n.length)throw new kt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const B=n[c+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new kt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=B,c+=2}else"`"===M?(C=!C,c++):"."!==M||C?(a+=M,c++):(p(),c++)}if(p(),C)throw new kt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ln(i)}static emptyPath(){return new Ln([])}}class or{constructor(n){this.fields=n,n.sort(Ln.comparator)}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return v(this.fields,n.fields,(i,a)=>i.isEqual(a))}}function qi(){return"undefined"!=typeof atob}class br{constructor(n){this.binaryString=n}static fromBase64String(n){const i=atob(n);return new br(i)}static fromUint8Array(n){const i=function(a){let c="";for(let p=0;p<a.length;++p)c+=String.fromCharCode(a[p]);return c}(n);return new br(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return E(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}br.EMPTY_BYTE_STRING=new br("");const os=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(s){if(Dn(!!s),"string"==typeof s){let n=0;const i=os.exec(s);if(Dn(!!i),i[1]){let c=i[1];c=(c+"000000000").substr(0,9),n=Number(c)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Er(s.seconds),nanos:Er(s.nanos)}}function Er(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Oi(s){return"string"==typeof s?br.fromBase64String(s):br.fromUint8Array(s)}function as(s){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==s?void 0:s.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function co(s){const n=s.mapValue.fields.__previous_value__;return as(n)?co(n):n}function _a(s){const n=Ni(s.mapValue.fields.__local_write_time__.timestampValue);return new k(n.seconds,n.nanos)}function xs(s){return null==s}function wl(s){return 0===s&&1/s==-1/0}function Il(s){return"number"==typeof s&&Number.isInteger(s)&&!wl(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class wn{constructor(n){this.path=n}static fromPath(n){return new wn(sn.fromString(n))}static fromName(n){return new wn(sn.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===sn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return sn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new wn(new sn(n.slice()))}}function ja(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?as(s)?4:10:_n()}function Io(s,n){const i=ja(s);if(i!==ja(n))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return _a(s).isEqual(_a(n));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const p=Ni(a.timestampValue),C=Ni(c.timestampValue);return p.seconds===C.seconds&&p.nanos===C.nanos}(s,n);case 5:return s.stringValue===n.stringValue;case 6:return c=n,Oi(s.bytesValue).isEqual(Oi(c.bytesValue));case 7:return s.referenceValue===n.referenceValue;case 8:return function(a,c){return Er(a.geoPointValue.latitude)===Er(c.geoPointValue.latitude)&&Er(a.geoPointValue.longitude)===Er(c.geoPointValue.longitude)}(s,n);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return Er(a.integerValue)===Er(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const p=Er(a.doubleValue),C=Er(c.doubleValue);return p===C?wl(p)===wl(C):isNaN(p)&&isNaN(C)}return!1}(s,n);case 9:return v(s.arrayValue.values||[],n.arrayValue.values||[],Io);case 10:return function(a,c){const p=a.mapValue.fields||{},C=c.mapValue.fields||{};if(ce(p)!==ce(C))return!1;for(const M in p)if(p.hasOwnProperty(M)&&(void 0===C[M]||!Io(p[M],C[M])))return!1;return!0}(s,n);default:return _n()}var c}function Ur(s,n){return void 0!==(s.values||[]).find(i=>Io(i,n))}function $a(s,n){const i=ja(s),a=ja(n);if(i!==a)return E(i,a);switch(i){case 0:return 0;case 1:return E(s.booleanValue,n.booleanValue);case 2:return function(c,p){const C=Er(c.integerValue||c.doubleValue),M=Er(p.integerValue||p.doubleValue);return C<M?-1:C>M?1:C===M?0:isNaN(C)?isNaN(M)?0:-1:1}(s,n);case 3:return Pi(s.timestampValue,n.timestampValue);case 4:return Pi(_a(s),_a(n));case 5:return E(s.stringValue,n.stringValue);case 6:return function(c,p){const C=Oi(c),M=Oi(p);return C.compareTo(M)}(s.bytesValue,n.bytesValue);case 7:return function(c,p){const C=c.split("/"),M=p.split("/");for(let B=0;B<C.length&&B<M.length;B++){const X=E(C[B],M[B]);if(0!==X)return X}return E(C.length,M.length)}(s.referenceValue,n.referenceValue);case 8:return function(c,p){const C=E(Er(c.latitude),Er(p.latitude));return 0!==C?C:E(Er(c.longitude),Er(p.longitude))}(s.geoPointValue,n.geoPointValue);case 9:return function(c,p){const C=c.values||[],M=p.values||[];for(let B=0;B<C.length&&B<M.length;++B){const X=$a(C[B],M[B]);if(X)return X}return E(C.length,M.length)}(s.arrayValue,n.arrayValue);case 10:return function(c,p){const C=c.fields||{},M=Object.keys(C),B=p.fields||{},X=Object.keys(B);M.sort(),X.sort();for(let ve=0;ve<M.length&&ve<X.length;++ve){const Ue=E(M[ve],X[ve]);if(0!==Ue)return Ue;const ft=$a(C[M[ve]],B[X[ve]]);if(0!==ft)return ft}return E(M.length,X.length)}(s.mapValue,n.mapValue);default:throw _n()}}function Pi(s,n){if("string"==typeof s&&"string"==typeof n&&s.length===n.length)return E(s,n);const i=Ni(s),a=Ni(n),c=E(i.seconds,a.seconds);return 0!==c?c:E(i.nanos,a.nanos)}function yu(s){return Cl(s)}function Cl(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const c=Ni(a);return`time(${c.seconds},${c.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Oi(s.bytesValue).toBase64():"referenceValue"in s?wn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(n=s.geoPointValue).latitude},${n.longitude})`:"arrayValue"in s?function(a){let c="[",p=!0;for(const C of a.values||[])p?p=!1:c+=",",c+=Cl(C);return c+"]"}(s.arrayValue):"mapValue"in s?function(a){const c=Object.keys(a.fields||{}).sort();let p="{",C=!0;for(const M of c)C?C=!1:p+=",",p+=`${M}:${Cl(a.fields[M])}`;return p+"}"}(s.mapValue):_n();var n}function Hu(s,n){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`}}function va(s){return!!s&&"integerValue"in s}function Dl(s){return!!s&&"arrayValue"in s}function Oo(s){return!!s&&"nullValue"in s}function cc(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hr(s){return!!s&&"mapValue"in s}function Qo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const n={mapValue:{fields:{}}};return Se(s.mapValue.fields,(i,a)=>n.mapValue.fields[i]=Qo(a)),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Qo(s.arrayValue.values[i]);return n}return Object.assign({},s)}class Xr{constructor(n){this.value=n}static empty(){return new Xr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!Hr(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Qo(i)}setAll(n){let i=Ln.emptyPath(),a={},c=[];n.forEach((C,M)=>{if(!i.isImmediateParentOf(M)){const B=this.getFieldsMap(i);this.applyChanges(B,a,c),a={},c=[],i=M.popLast()}C?a[M.lastSegment()]=Qo(C):c.push(M.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,a,c)}delete(n){const i=this.field(n.popLast());Hr(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Io(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let c=i.mapValue.fields[n.get(a)];Hr(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=c),i=c}return i.mapValue.fields}applyChanges(n,i,a){Se(i,(c,p)=>n[c]=p);for(const c of a)delete n[c]}clone(){return new Xr(Qo(this.value))}}function _u(s){const n=[];return Se(s.fields,(i,a)=>{const c=new Ln([i]);if(Hr(a)){const p=_u(a.mapValue).fields;if(0===p.length)n.push(c);else for(const C of p)n.push(c.child(C))}else n.push(c)}),new or(n)}class Fr{constructor(n,i,a,c,p){this.key=n,this.documentType=i,this.version=a,this.data=c,this.documentState=p}static newInvalidDocument(n){return new Fr(n,0,U.min(),Xr.empty(),0)}static newFoundDocument(n,i,a){return new Fr(n,1,i,a,0)}static newNoDocument(n,i){return new Fr(n,2,i,Xr.empty(),0)}static newUnknownDocument(n,i){return new Fr(n,3,i,Xr.empty(),2)}convertToFoundDocument(n,i){return this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Fr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Fr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ms{constructor(n,i=null,a=[],c=[],p=null,C=null,M=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=c,this.limit=p,this.startAt=C,this.endAt=M,this.A=null}}function _s(s,n=null,i=[],a=[],c=null,p=null,C=null){return new Ms(s,n,i,a,c,p,C)}function Po(s){const n=jt(s);if(null===n.A){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+yu(s.value)}(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(c=a).field.canonicalString()+c.dir;var c}).join(","),xs(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=ir(n.startAt)),n.endAt&&(i+="|ub:",i+=ir(n.endAt)),n.A=i}return n.A}function Ns(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let c=0;c<s.orderBy.length;c++)if(!Yi(s.orderBy[c],n.orderBy[c]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let c=0;c<s.filters.length;c++)if((i=s.filters[c]).op!==(a=n.filters[c]).op||!i.field.isEqual(a.field)||!Io(i.value,a.value))return!1;var i,a;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!fo(s.startAt,n.startAt)&&fo(s.endAt,n.endAt)}function vu(s){return wn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Zi extends class{}{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.R(n,i,a):new bl(n,i,a):"array-contains"===i?new W(n,a):"in"===i?new Te(n,a):"not-in"===i?new Xe(n,a):"array-contains-any"===i?new Yt(n,a):new Zi(n,i,a)}static R(n,i,a){return"in"===i?new hc(n,a):new Z(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.P($a(i,this.value)):null!==i&&ja(this.value)===ja(i)&&this.P($a(i,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return _n()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bl extends Zi{constructor(n,i,a){super(n,i,a),this.key=wn.fromName(a.referenceValue)}matches(n){const i=wn.comparator(n.key,this.key);return this.P(i)}}class hc extends Zi{constructor(n,i){super(n,"in",i),this.keys=J(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Z extends Zi{constructor(n,i){super(n,"not-in",i),this.keys=J(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function J(s,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>wn.fromName(a.referenceValue))}class W extends Zi{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Dl(i)&&Ur(i.arrayValue,this.value)}}class Te extends Zi{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ur(this.value.arrayValue,i)}}class Xe extends Zi{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ur(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Ur(this.value.arrayValue,i)}}class Yt extends Zi{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Dl(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Ur(this.value.arrayValue,a))}}class un{constructor(n,i){this.position=n,this.before=i}}function ir(s){return`${s.before?"b":"a"}:${s.position.map(n=>yu(n)).join(",")}`}class Or{constructor(n,i="asc"){this.field=n,this.dir=i}}function Yi(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}function ho(s,n,i){let a=0;for(let c=0;c<s.position.length;c++){const p=n[c],C=s.position[c];if(a=p.field.isKeyField()?wn.comparator(wn.fromName(C.referenceValue),i.key):$a(C,i.data.field(p.field)),"desc"===p.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function fo(s,n){if(null===s)return null===n;if(null===n||s.before!==n.before||s.position.length!==n.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Io(s.position[i],n.position[i]))return!1;return!0}class pr{constructor(n,i=null,a=[],c=[],p=null,C="F",M=null,B=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=c,this.limit=p,this.limitType=C,this.startAt=M,this.endAt=B,this.V=null,this.S=null}}function gr(s,n,i,a,c,p,C,M){return new pr(s,n,i,a,c,p,C,M)}function _i(s){return new pr(s)}function Ys(s){return!xs(s.limit)&&"F"===s.limitType}function Os(s){return!xs(s.limit)&&"L"===s.limitType}function Jo(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function fc(s){for(const n of s.filters)if(n.v())return n.field;return null}function pc(s){return null!==s.collectionGroup}function Ea(s){const n=jt(s);if(null===n.V){n.V=[];const i=fc(n),a=Jo(n);if(null!==i&&null===a)i.isKeyField()||n.V.push(new Or(i)),n.V.push(new Or(Ln.keyField(),"asc"));else{let c=!1;for(const p of n.explicitOrderBy)n.V.push(p),p.field.isKeyField()&&(c=!0);if(!c){const p=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Or(Ln.keyField(),p))}}}return n.V}function Ps(s){const n=jt(s);if(!n.S)if("F"===n.limitType)n.S=_s(n.path,n.collectionGroup,Ea(n),n.filters,n.limit,n.startAt,n.endAt);else{const i=[];for(const p of Ea(n))i.push(new Or(p.field,"desc"===p.dir?"asc":"desc"));const a=n.endAt?new un(n.endAt.position,!n.endAt.before):null,c=n.startAt?new un(n.startAt.position,!n.startAt.before):null;n.S=_s(n.path,n.collectionGroup,i,n.filters,n.limit,a,c)}return n.S}function Tl(s,n,i){return new pr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,i,s.startAt,s.endAt)}function Co(s,n){return Ns(Ps(s),Ps(n))&&s.limitType===n.limitType}function Ha(s){return`${Po(Ps(s))}|lt:${s.limitType}`}function gc(s){return`Query(target=${function(s){let n=s.path.canonicalString();return null!==s.collectionGroup&&(n+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(n+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${yu(a.value)}`;var a}).join(", ")}]`),xs(s.limit)||(n+=", limit: "+s.limit),s.orderBy.length>0&&(n+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(n+=", startAt: "+ir(s.startAt)),s.endAt&&(n+=", endAt: "+ir(s.endAt)),`Target(${n})`}(Ps(s))}; limitType=${s.limitType})`}function ei(s,n){return n.isFoundDocument()&&function(i,a){const c=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):wn.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(s,n)&&function(i,a){for(const c of i.explicitOrderBy)if(!c.field.isKeyField()&&null===a.data.field(c.field))return!1;return!0}(s,n)&&function(i,a){for(const c of i.filters)if(!c.matches(a))return!1;return!0}(s,n)&&(a=n,!((i=s).startAt&&!ho(i.startAt,Ea(i),a)||i.endAt&&ho(i.endAt,Ea(i),a)));var i,a}function mc(s){return(n,i)=>{let a=!1;for(const c of Ea(s)){const p=Ed(c,n,i);if(0!==p)return p;a=a||c.field.isKeyField()}return 0}}function Ed(s,n,i){const a=s.field.isKeyField()?wn.comparator(n.key,i.key):function(c,p,C){const M=p.data.field(c),B=C.data.field(c);return null!==M&&null!==B?$a(M,B):_n()}(s.field,n,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _n()}}function ko(s,n){if(s.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wl(n)?"-0":n}}function wa(s){return{integerValue:""+s}}function yc(s,n){return Il(n)?wa(n):ko(s,n)}class Wa{constructor(){this._=void 0}}function wd(s,n,i){return s instanceof Fo?function(a,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&(p.fields.__previous_value__=c),{mapValue:p}}(i,n):s instanceof ks?_c(s,n):s instanceof Lo?Al(s,n):function(a,c){const p=Do(a,c),C=vc(p)+vc(a.C);return va(p)&&va(a.C)?wa(C):ko(a.N,C)}(s,n)}function Ga(s,n,i){return s instanceof ks?_c(s,n):s instanceof Lo?Al(s,n):i}function Do(s,n){return s instanceof Xo?va(i=n)||(a=i)&&"doubleValue"in a?n:{integerValue:0}:null;var a,i}class Fo extends Wa{}class ks extends Wa{constructor(n){super(),this.elements=n}}function _c(s,n){const i=Sl(n);for(const a of s.elements)i.some(c=>Io(c,a))||i.push(a);return{arrayValue:{values:i}}}class Lo extends Wa{constructor(n){super(),this.elements=n}}function Al(s,n){let i=Sl(n);for(const a of s.elements)i=i.filter(c=>!Io(c,a));return{arrayValue:{values:i}}}class Xo extends Wa{constructor(n,i){super(),this.N=n,this.C=i}}function vc(s){return Er(s.integerValue||s.doubleValue)}function Sl(s){return Dl(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Wu{constructor(n,i){this.field=n,this.transform=i}}class wu{constructor(n,i){this.version=n,this.transformResults=i}}class bi{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new bi}static exists(n){return new bi(void 0,n)}static updateTime(n){return new bi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Iu(s,n){return void 0!==s.updateTime?n.isFoundDocument()&&n.version.isEqual(s.updateTime):void 0===s.exists||s.exists===n.isFoundDocument()}class Gu{}function Bh(s,n,i){s instanceof Ia?function(a,c,p){const C=a.value.clone(),M=bd(a.fieldTransforms,c,p.transformResults);C.setAll(M),c.convertToFoundDocument(p.version,C).setHasCommittedMutations()}(s,n,i):s instanceof Vo?function(a,c,p){if(!Iu(a.precondition,c))return void c.convertToUnknownDocument(p.version);const C=bd(a.fieldTransforms,c,p.transformResults),M=c.data;M.setAll(ea(a)),M.setAll(C),c.convertToFoundDocument(p.version,M).setHasCommittedMutations()}(s,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Id(s,n,i){var c;s instanceof Ia?function(a,c,p){if(!Iu(a.precondition,c))return;const C=a.value.clone(),M=Td(a.fieldTransforms,p,c);C.setAll(M),c.convertToFoundDocument(Dd(c),C).setHasLocalMutations()}(s,n,i):s instanceof Vo?function(a,c,p){if(!Iu(a.precondition,c))return;const C=Td(a.fieldTransforms,p,c),M=c.data;M.setAll(ea(a)),M.setAll(C),c.convertToFoundDocument(Dd(c),M).setHasLocalMutations()}(s,n,i):Iu(s.precondition,c=n)&&c.convertToNoDocument(U.min())}function jh(s,n){let i=null;for(const a of s.fieldTransforms){const c=n.data.field(a.field),p=Do(a.transform,c||null);null!=p&&(null==i&&(i=Xr.empty()),i.set(a.field,p))}return i||null}function Cd(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&v(i,a,(c,p)=>function(s,n){return s.field.isEqual(n.field)&&(a=n.transform,(i=s.transform)instanceof ks&&a instanceof ks||i instanceof Lo&&a instanceof Lo?v(i.elements,a.elements,Io):i instanceof Xo&&a instanceof Xo?Io(i.C,a.C):i instanceof Fo&&a instanceof Fo);var i,a}(c,p))))&&(0===s.type?s.value.isEqual(n.value):1!==s.type||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask));var i,a}function Dd(s){return s.isFoundDocument()?s.version:U.min()}class Ia extends Gu{constructor(n,i,a,c=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=c,this.type=0}}class Vo extends Gu{constructor(n,i,a,c,p=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=c,this.fieldTransforms=p,this.type=1}}function ea(s){const n=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);n.set(i,a)}}),n}function bd(s,n,i){const a=new Map;Dn(s.length===i.length);for(let c=0;c<i.length;c++){const p=s[c],C=p.transform,M=n.data.field(p.field);a.set(p.field,Ga(C,M,i[c]))}return a}function Td(s,n,i){const a=new Map;for(const c of s){const p=c.transform,C=i.data.field(c.field);a.set(c.field,wd(p,C,n))}return a}class Rl extends Gu{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Cu extends Gu{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class Ec{constructor(n){this.count=n}}var ci,mr;function wc(s){switch(s){default:return _n();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function Ca(s){if(void 0===s)return Nr("GRPC error has no .code"),st.UNKNOWN;switch(s){case ci.OK:return st.OK;case ci.CANCELLED:return st.CANCELLED;case ci.UNKNOWN:return st.UNKNOWN;case ci.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ci.INTERNAL:return st.INTERNAL;case ci.UNAVAILABLE:return st.UNAVAILABLE;case ci.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ci.NOT_FOUND:return st.NOT_FOUND;case ci.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ci.ABORTED:return st.ABORTED;case ci.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ci.DATA_LOSS:return st.DATA_LOSS;default:return _n()}}(mr=ci||(ci={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";class ki{constructor(n,i){this.comparator=n,this.root=i||Qi.EMPTY}insert(n,i){return new ki(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(n){return new ki(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(n,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Du(this.root,n,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Du(this.root,n,this.comparator,!0)}}class Du{constructor(n,i,a,c){this.isReverse=c,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?a(n.key,i):1,c&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Qi{constructor(n,i,a,c,p){this.key=n,this.value=i,this.color=null!=a?a:Qi.RED,this.left=null!=c?c:Qi.EMPTY,this.right=null!=p?p:Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,c,p){return new Qi(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let c=this;const p=a(n,c.key);return c=p<0?c.copy(null,null,null,c.left.insert(n,i,a),null):0===p?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(n,i,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,c=this;if(i(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(n,c.key)){if(c.right.isEmpty())return Qi.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,i))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const n=this.left.check();if(n!==this.right.check())throw _n();return n+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(s,n,i,a,c){return this}insert(s,n,i){return new Qi(s,n)}remove(s,n){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(n){this.comparator=n,this.data=new ki(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,n[1])>=0)return;i(c.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ad(this.data.getIterator())}getIteratorFrom(n){return new Ad(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof ti)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(0!==this.comparator(c,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new ti(this.comparator);return i.data=n,i}}class Ad{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Uo=new ki(wn.comparator);function Ji(){return Uo}const xl=new ki(wn.comparator);function Ic(){return xl}const Sd=new ki(wn.comparator);function Cc(){return Sd}const $h=new ti(wn.comparator);function Pr(...s){let n=$h;for(const i of s)n=n.add(i);return n}const Rd=new ti(E);function Ml(){return Rd}class w{constructor(n,i,a,c,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i){const a=new Map;return a.set(n,h.createSynthesizedTargetChangeForCurrentChange(n,i)),new w(U.min(),a,Ml(),Ji(),Pr())}}class h{constructor(n,i,a,c,p){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i){return new h(br.EMPTY_BYTE_STRING,i,Pr(),Pr(),Pr())}}class g{constructor(n,i,a,c){this.k=n,this.removedTargetIds=i,this.key=a,this.$=c}}class T{constructor(n,i){this.targetId=n,this.O=i}}class j{constructor(n,i,a=br.EMPTY_BYTE_STRING,c=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=c}}class ne{constructor(){this.F=0,this.M=ln(),this.L=br.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Pr(),i=Pr(),a=Pr();return this.M.forEach((c,p)=>{switch(p){case 0:n=n.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:_n()}}),new h(this.L,this.B,n,i,a)}G(){this.U=!1,this.M=ln()}H(n,i){this.U=!0,this.M=this.M.insert(n,i)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Je{constructor(n){this.tt=n,this.et=new Map,this.nt=Ji(),this.st=Mt(),this.it=new ti(E)}rt(n){for(const i of n.k)n.$&&n.$.isFoundDocument()?this.ot(i,n.$):this.ct(i,n.key,n.$);for(const i of n.removedTargetIds)this.ct(i,n.key,n.$)}at(n){this.forEachTarget(n,i=>{const a=this.ut(i);switch(n.state){case 0:this.ht(i)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(n.resumeToken));break;default:_n()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.et.forEach((a,c)=>{this.ht(c)&&i(c)})}ft(n){const i=n.targetId,a=n.O.count,c=this.dt(i);if(c){const p=c.target;if(vu(p))if(0===a){const C=new wn(p.path);this.ct(i,C,Fr.newNoDocument(C,U.min()))}else Dn(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(n){const i=new Map;this.et.forEach((p,C)=>{const M=this.dt(C);if(M){if(p.current&&vu(M.target)){const B=new wn(M.target.path);null!==this.nt.get(B)||this.gt(C,B)||this.ct(C,B,Fr.newNoDocument(B,n))}p.K&&(i.set(C,p.W()),p.G())}});let a=Pr();this.st.forEach((p,C)=>{let M=!0;C.forEachWhile(B=>{const X=this.dt(B);return!X||2===X.purpose||(M=!1,!1)}),M&&(a=a.add(p))});const c=new w(n,i,this.it,this.nt,a);return this.nt=Ji(),this.st=Mt(),this.it=new ti(E),c}ot(n,i){if(!this.ht(n))return;const a=this.gt(n,i.key)?2:0;this.ut(n).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(n))}ct(n,i,a){if(!this.ht(n))return;const c=this.ut(n);this.gt(n,i)?c.H(i,1):c.J(i),this.st=this.st.insert(i,this.yt(i).delete(n)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(n){this.et.delete(n)}wt(n){const i=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let i=this.et.get(n);return i||(i=new ne,this.et.set(n,i)),i}yt(n){let i=this.st.get(n);return i||(i=new ti(E),this.st=this.st.insert(n,i)),i}ht(n){const i=null!==this.dt(n);return i||Gt("WatchChangeAggregator","Detected inactive target",n),i}dt(n){const i=this.et.get(n);return i&&i.q?null:this.tt.Tt(n)}lt(n){this.et.set(n,new ne),this.tt.getRemoteKeysForTarget(n).forEach(i=>{this.ct(n,i,null)})}gt(n,i){return this.tt.getRemoteKeysForTarget(n).has(i)}}function Mt(){return new ki(wn.comparator)}function ln(){return new ki(wn.comparator)}const Vn={asc:"ASCENDING",desc:"DESCENDING"},ur={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Kr{constructor(n,i){this.databaseId=n,this.D=i}}function Qs(s,n){return s.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Da(s,n){return s.D?n.toBase64():n.toUint8Array()}function Dc(s,n){return Qs(s,n.toTimestamp())}function vi(s){return Dn(!!s),U.fromTimestamp(function(n){const i=Ni(n);return new k(i.seconds,i.nanos)}(s))}function za(s,n){return(i=s,new sn(["projects",i.projectId,"databases",i.database])).child("documents").child(n).canonicalString();var i}function zu(s){const n=sn.fromString(s);return Dn(Wh(n)),n}function Ku(s,n){return za(s.databaseId,n.path)}function bo(s,n){const i=zu(n);if(i.get(1)!==s.databaseId.projectId)throw new kt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new kt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new wn(Tc(i))}function qu(s,n){return za(s.databaseId,n)}function bc(s){const n=zu(s);return 4===n.length?sn.emptyPath():Tc(n)}function Ka(s){return new sn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Tc(s){return Dn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function xd(s,n,i){return{name:Ku(s,n),fields:i.value.mapValue.fields}}function Zu(s,n,i){const a=bo(s,n.name),c=vi(n.updateTime),p=new Xr({mapValue:{fields:n.fields}}),C=Fr.newFoundDocument(a,c,p);return i&&C.setHasCommittedMutations(),i?C.setHasCommittedMutations():C}function Ol(s,n){let i;if(n instanceof Ia)i={update:xd(s,n.key,n.value)};else if(n instanceof Rl)i={delete:Ku(s,n.key)};else if(n instanceof Vo)i={update:xd(s,n.key,n.data),updateMask:Hh(n.fieldMask)};else{if(!(n instanceof Cu))return _n();i={verify:Ku(s,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(c,p){const C=p.transform;if(C instanceof Fo)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof ks)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Lo)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Xo)return{fieldPath:p.field.canonicalString(),increment:C.C};throw _n()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(c=n.precondition).updateTime?{updateTime:Dc(s,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:_n()),i;var c}function $p(s,n){const i=n.currentDocument?void 0!==(c=n.currentDocument).updateTime?bi.updateTime(vi(c.updateTime)):void 0!==c.exists?bi.exists(c.exists):bi.none():bi.none(),a=n.updateTransforms?n.updateTransforms.map(c=>function(p,C){let M=null;"setToServerValue"in C?(Dn("REQUEST_TIME"===C.setToServerValue),M=new Fo):"appendMissingElements"in C?M=new ks(C.appendMissingElements.values||[]):"removeAllFromArray"in C?M=new Lo(C.removeAllFromArray.values||[]):"increment"in C?M=new Xo(p,C.increment):_n();const B=Ln.fromServerFormat(C.fieldPath);return new Wu(B,M)}(s,c)):[];var c;if(n.update){const c=bo(s,n.update.name),p=new Xr({mapValue:{fields:n.update.fields}});if(n.updateMask){const C=new or((n.updateMask.fieldPaths||[]).map(X=>Ln.fromServerFormat(X)));return new Vo(c,p,C,i,a)}return new Ia(c,p,i,a)}if(n.delete){const c=bo(s,n.delete);return new Rl(c,i)}if(n.verify){const c=bo(s,n.verify);return new Cu(c,i)}return _n()}function Hp(s,n){return{documents:[qu(s,n.path)]}}function Wp(s,n){const i={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(i.parent=qu(s,a),i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(i.parent=qu(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const c=function(M){if(0===M.length)return;const B=M.map(X=>function(ve){if("=="===ve.op){if(cc(ve.value))return{unaryFilter:{field:Ac(ve.field),op:"IS_NAN"}};if(Oo(ve.value))return{unaryFilter:{field:Ac(ve.field),op:"IS_NULL"}}}else if("!="===ve.op){if(cc(ve.value))return{unaryFilter:{field:Ac(ve.field),op:"IS_NOT_NAN"}};if(Oo(ve.value))return{unaryFilter:{field:Ac(ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ac(ve.field),op:Xm(ve.op),value:ve.value}}}(X));return 1===B.length?B[0]:{compositeFilter:{op:"AND",filters:B}}}(n.filters);c&&(i.structuredQuery.where=c);const p=function(M){if(0!==M.length)return M.map(B=>{return{field:Ac((X=B).field),direction:Jm(X.dir)};var X})}(n.orderBy);p&&(i.structuredQuery.orderBy=p);const C=(B=n.limit,s.D||xs(B)?B:{value:B});var B;return null!==C&&(i.structuredQuery.limit=C),n.startAt&&(i.structuredQuery.startAt=Kp(n.startAt)),n.endAt&&(i.structuredQuery.endAt=Kp(n.endAt)),i}function Md(s){let n=bc(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let c=null;if(a>0){Dn(1===a);const ve=i.from[0];ve.allDescendants?c=ve.collectionId:n=n.child(ve.collectionId)}let p=[];i.where&&(p=zp(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(ve=>{return new Or(Sc((Ue=ve).field),function(ft){switch(ft){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ue.direction));var Ue}));let M=null;i.limit&&(M=function(ve){let Ue;return Ue="object"==typeof ve?ve.value:ve,xs(Ue)?null:Ue}(i.limit));let B=null;i.startAt&&(B=qp(i.startAt));let X=null;return i.endAt&&(X=qp(i.endAt)),gr(n,c,C,p,M,"F",B,X)}function zp(s){return s?void 0!==s.unaryFilter?[Js(s)]:void 0!==s.fieldFilter?[Rc(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(n=>zp(n)).reduce((n,i)=>n.concat(i)):_n():[]}function Kp(s){return{before:s.before,values:s.position}}function qp(s){return new un(s.values||[],!!s.before)}function Jm(s){return Vn[s]}function Xm(s){return ur[s]}function Ac(s){return{fieldPath:s.canonicalString()}}function Sc(s){return Ln.fromServerFormat(s.fieldPath)}function Rc(s){return Zi.create(Sc(s.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(s.fieldFilter.op),s.fieldFilter.value)}function Js(s){switch(s.unaryFilter.op){case"IS_NAN":const n=Sc(s.unaryFilter.field);return Zi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Sc(s.unaryFilter.field);return Zi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sc(s.unaryFilter.field);return Zi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sc(s.unaryFilter.field);return Zi.create(c,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}function Hh(s){const n=[];return s.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Wh(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Bo(s){let n="";for(let i=0;i<s.length;i++)n.length>0&&(n=Pl(n)),n=Fs(s.get(i),n);return Pl(n)}function Fs(s,n){let i=n;const a=s.length;for(let c=0;c<a;c++){const p=s.charAt(c);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Pl(s){return s+"\x01\x01"}function ta(s){const n=s.length;if(Dn(n>=2),2===n)return Dn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),sn.emptyPath();const i=n-2,a=[];let c="";for(let p=0;p<n;){const C=s.indexOf("\x01",p);switch((C<0||C>i)&&_n(),s.charAt(C+1)){case"\x01":const M=s.substring(p,C);let B;0===c.length?B=M:(c+=M,B=c,c=""),a.push(B);break;case"\x10":c+=s.substring(p,C),c+="\0";break;case"\x11":c+=s.substring(p,C+1);break;default:_n()}p=C+2}return new sn(a)}class ey{constructor(n,i){this.seconds=n,this.nanoseconds=i}}class To{constructor(n,i,a){this.ownerId=n,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}To.store="owner",To.key="owner";class qa{constructor(n,i,a){this.userId=n,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}qa.store="mutationQueues",qa.keyPath="userId";class si{constructor(n,i,a,c,p){this.userId=n,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=p}}si.store="mutations",si.keyPath="batchId",si.userMutationsIndex="userMutationsIndex",si.userMutationsKeyPath=["userId","batchId"];class Es{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,i){return[n,Bo(i)]}static key(n,i,a){return[n,Bo(i),a]}}Es.store="documentMutations",Es.PLACEHOLDER=new Es;class ty{constructor(n,i){this.path=n,this.readTime=i}}class Zp{constructor(n,i){this.path=n,this.version=i}}class Ai{constructor(n,i,a,c,p,C){this.unknownDocument=n,this.noDocument=i,this.document=a,this.hasCommittedMutations=c,this.readTime=p,this.parentPath=C}}Ai.store="remoteDocuments",Ai.readTimeIndex="readTimeIndex",Ai.readTimeIndexPath="readTime",Ai.collectionReadTimeIndex="collectionReadTimeIndex",Ai.collectionReadTimeIndexPath=["parentPath","readTime"];class ba{constructor(n){this.byteSize=n}}ba.store="remoteDocumentGlobal",ba.key="remoteDocumentGlobalKey";class po{constructor(n,i,a,c,p,C,M){this.targetId=n,this.canonicalId=i,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=C,this.query=M}}po.store="targets",po.keyPath="targetId",po.queryTargetsIndexName="queryTargetsIndex",po.queryTargetsKeyPath=["canonicalId","targetId"];class us{constructor(n,i,a){this.targetId=n,this.path=i,this.sequenceNumber=a}}us.store="targetDocuments",us.keyPath=["targetId","path"],us.documentTargetsIndex="documentTargetsIndex",us.documentTargetsKeyPath=["path","targetId"];class Xs{constructor(n,i,a,c){this.highestTargetId=n,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=c}}Xs.key="targetGlobalKey",Xs.store="targetGlobal";class bu{constructor(n,i){this.collectionId=n,this.parent=i}}bu.store="collectionParents",bu.keyPath=["collectionId","parent"];class Za{constructor(n,i,a,c){this.clientId=n,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=c}}Za.store="clientMetadata",Za.keyPath="clientId";class xc{constructor(n,i,a){this.bundleId=n,this.createTime=i,this.version=a}}xc.store="bundles",xc.keyPath="bundleId";class Yu{constructor(n,i,a){this.name=n,this.readTime=i,this.bundledQuery=a}}Yu.store="namedQueries",Yu.keyPath="name";const Nd=[qa.store,si.store,Es.store,Ai.store,po.store,To.store,Xs.store,us.store,Za.store,ba.store,bu.store,xc.store,Yu.store],Yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Nt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Nt((a,c)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(a,c)},this.catchCallback=p=>{this.wrapFailure(i,p).next(a,c)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Nt?i:Nt.resolve(i)}catch(i){return Nt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Nt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Nt.reject(i)}static resolve(n){return new Nt((i,a)=>{i(n)})}static reject(n){return new Nt((i,a)=>{a(n)})}static waitFor(n){return new Nt((i,a)=>{let c=0,p=0,C=!1;n.forEach(M=>{++c,M.next(()=>{++p,C&&p===c&&i()},B=>a(B))}),C=!0,p===c&&i()})}static or(n){let i=Nt.resolve(!1);for(const a of n)i=i.next(c=>c?Nt.resolve(c):a());return i}static forEach(n,i){const a=[];return n.forEach((c,p)=>{a.push(i.call(this,c,p))}),this.waitFor(a)}}class Od{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.Et=new Jr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new Mc(n,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const c=Gh(a.target.error);this.Et.reject(new Mc(n,c))}}static open(n,i,a,c){try{return new Od(i,n.transaction(c,a))}catch(p){throw new Mc(i,p)}}get It(){return this.Et.promise}abort(n){n&&this.Et.reject(n),this.aborted||(Gt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const i=this.transaction.objectStore(n);return new Pd(i)}}class na{constructor(n,i,a){this.name=n,this.version=i,this.At=a,12.2===na.Rt((0,fe.z$)())&&Nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Gt("SimpleDb","Removing database:",n),Tu(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,fe.hl)())return!1;if(na.Pt())return!0;const n=(0,fe.z$)(),i=na.Rt(n),a=0<i&&i<10,c=na.vt(n),p=0<c&&c<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||p)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,i){return n.store(i)}static Rt(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const i=n.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var i=this;return(0,f.Z)(function*(){return i.db||(Gt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,c)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=C=>{a(C.target.result)},p.onblocked=()=>{c(new Mc(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=C=>{const M=C.target.error;c("VersionError"===M.name?new kt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new kt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new Mc(n,M))},p.onupgradeneeded=C=>{Gt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.At.Ct(C.target.result,p.transaction,C.oldVersion,i.version).next(()=>{Gt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,c){var p=this;return(0,f.Z)(function*(){const C="readonly"===i;let M=0;for(;;){++M;try{p.db=yield p.Dt(n);const B=Od.open(p.db,n,C?"readonly":"readwrite",a),X=c(B).catch(ve=>(B.abort(ve),Nt.reject(ve))).toPromise();return X.catch(()=>{}),yield B.It,X}catch(B){const X="FirebaseError"!==B.name&&M<3;if(Gt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",X),p.close(),!X)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ny{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Tu(this.kt.delete())}}class Mc extends kt{constructor(n,i){super(st.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Qu(s){return"IndexedDbTransactionError"===s.name}class Pd{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(Gt("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(Gt("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Tu(a)}add(n){return Gt("SimpleDb","ADD",this.store.name,n,n),Tu(this.store.add(n))}get(n){return Tu(this.store.get(n)).next(i=>(void 0===i&&(i=null),Gt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return Gt("SimpleDb","DELETE",this.store.name,n),Tu(this.store.delete(n))}count(){return Gt("SimpleDb","COUNT",this.store.name),Tu(this.store.count())}Lt(n,i){const a=this.cursor(this.options(n,i)),c=[];return this.Bt(a,(p,C)=>{c.push(C)}).next(()=>c)}Ut(n,i){Gt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.qt=!1;const c=this.cursor(a);return this.Bt(c,(p,C,M)=>M.delete())}Kt(n,i){let a;i?a=n:(a={},i=n);const c=this.cursor(a);return this.Bt(c,i)}jt(n){const i=this.cursor({});return new Nt((a,c)=>{i.onerror=p=>{const C=Gh(p.target.error);c(C)},i.onsuccess=p=>{const C=p.target.result;C?n(C.primaryKey,C.value).next(M=>{M?C.continue():a()}):a()}})}Bt(n,i){const a=[];return new Nt((c,p)=>{n.onerror=C=>{p(C.target.error)},n.onsuccess=C=>{const M=C.target.result;if(!M)return void c();const B=new ny(M),X=i(M.primaryKey,M.value,B);if(X instanceof Nt){const ve=X.catch(Ue=>(B.done(),Nt.reject(Ue)));a.push(ve)}B.isDone?c():null===B.Ft?M.continue():M.continue(B.Ft)}}).next(()=>Nt.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Tu(s){return new Nt((n,i)=>{s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{const c=Gh(a.target.error);i(c)}})}let Jp=!1;function Gh(s){const n=na.Rt((0,fe.z$)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jp||(Jp=!0,setTimeout(()=>{throw a},0)),a}}return s}class zh extends Qp{constructor(n,i){super(),this.Qt=n,this.currentSequenceNumber=i}}function eo(s,n){const i=jt(s);return na.St(i.Qt,n)}class Kh{constructor(n,i,a,c){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let c=0;c<this.mutations.length;c++){const p=this.mutations[c];p.key.isEqual(n.key)&&Bh(p,n,a[c])}}applyToLocalView(n){for(const i of this.baseMutations)i.key.isEqual(n.key)&&Id(i,n,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(n.key)&&Id(i,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(i=>{const a=n.get(i.key),c=a;this.applyToLocalView(c),a.isValidDocument()||c.convertToNoDocument(U.min())})}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Pr())}isEqual(n){return this.batchId===n.batchId&&v(this.mutations,n.mutations,(i,a)=>Cd(i,a))&&v(this.baseMutations,n.baseMutations,(i,a)=>Cd(i,a))}}class qh{constructor(n,i,a,c){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}static from(n,i,a){Dn(n.mutations.length===a.length);let c=Cc();const p=n.mutations;for(let C=0;C<p.length;C++)c=c.insert(p[C].key,a[C].version);return new qh(n,i,a,c)}}class Au{constructor(n,i,a,c,p=U.min(),C=U.min(),M=br.EMPTY_BYTE_STRING){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=M}withSequenceNumber(n){return new Au(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,i){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Ju{constructor(n){this.Wt=n}}function jo(s,n){if(n.document)return Zu(s.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const i=wn.fromSegments(n.noDocument.path),a=to(n.noDocument.readTime),c=Fr.newNoDocument(i,a);return n.hasCommittedMutations?c.setHasCommittedMutations():c}if(n.unknownDocument){const i=wn.fromSegments(n.unknownDocument.path),a=to(n.unknownDocument.version);return Fr.newUnknownDocument(i,a)}return _n()}function ry(s,n,i){const a=Xp(i),c=n.key.path.popLast().toArray();if(n.isFoundDocument()){const p={name:Ku(M=s.Wt,(B=n).key),fields:B.data.value.mapValue.fields,updateTime:Qs(M,B.version.toTimestamp())};return new Ai(null,null,p,n.hasCommittedMutations,a,c)}var M,B;if(n.isNoDocument()){const p=n.key.path.toArray(),C=Nc(n.version),M=n.hasCommittedMutations;return new Ai(null,new ty(p,C),null,M,a,c)}if(n.isUnknownDocument()){const p=n.key.path.toArray(),C=Nc(n.version);return new Ai(new Zp(p,C),null,null,!0,a,c)}return _n()}function Xp(s){const n=s.toTimestamp();return[n.seconds,n.nanoseconds]}function Zh(s){const n=new k(s[0],s[1]);return U.fromTimestamp(n)}function Nc(s){const n=s.toTimestamp();return new ey(n.seconds,n.nanoseconds)}function to(s){const n=new k(s.seconds,s.nanoseconds);return U.fromTimestamp(n)}function Su(s,n){const i=(n.baseMutations||[]).map(p=>$p(s.Wt,p));for(let p=0;p<n.mutations.length-1;++p){const C=n.mutations[p];p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(C.updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p)}const a=n.mutations.map(p=>$p(s.Wt,p)),c=k.fromMillis(n.localWriteTimeMs);return new Kh(n.batchId,c,i,a)}function Xu(s){const n=to(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?to(s.lastLimboFreeSnapshotVersion):U.min();let a;var c;return void 0!==s.query.documents?(Dn(1===(c=s.query).documents.length),a=Ps(_i(bc(c.documents[0])))):a=Ps(Md(s.query)),new Au(a,s.targetId,0,s.lastListenSequenceNumber,n,i,br.fromBase64String(s.resumeToken))}function eg(s,n){const i=Nc(n.snapshotVersion),a=Nc(n.lastLimboFreeSnapshotVersion);let c;c=vu(n.target)?Hp(s.Wt,n.target):Wp(s.Wt,n.target);const p=n.resumeToken.toBase64();return new po(n.targetId,Po(n.target),i,p,n.sequenceNumber,a,c)}function kd(s){const n=Md({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Tl(n,n.limit,"L"):n}class Oc{getBundleMetadata(n,i){return Yh(n).get(i).next(a=>{if(a)return{id:(c=a).bundleId,createTime:to(c.createTime),version:c.version};var c})}saveBundleMetadata(n,i){return Yh(n).put({bundleId:(a=i).id,createTime:Nc(vi(a.createTime)),version:a.version});var a}getNamedQuery(n,i){return Qh(n).get(i).next(a=>{if(a)return{name:(c=a).name,query:kd(c.bundledQuery),readTime:to(c.readTime)};var c})}saveNamedQuery(n,i){return Qh(n).put({name:(a=i).name,readTime:Nc(vi(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Yh(s){return eo(s,xc.store)}function Qh(s){return eo(s,Yu.store)}class Jh{constructor(){this.Gt=new Pc}addToCollectionParentIndex(n,i){return this.Gt.add(i),Nt.resolve()}getCollectionParents(n,i){return Nt.resolve(this.Gt.getEntries(i))}}class Pc{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),c=this.index[i]||new ti(sn.comparator),p=!c.has(a);return this.index[i]=c.add(a),p}has(n){const i=n.lastSegment(),a=n.popLast(),c=this.index[i];return c&&c.has(a)}getEntries(n){return(this.index[n]||new ti(sn.comparator)).toArray()}}class tg{constructor(){this.zt=new Pc}addToCollectionParentIndex(n,i){if(!this.zt.has(i)){const a=i.lastSegment(),c=i.popLast();n.addOnCommittedListener(()=>{this.zt.add(i)});const p={collectionId:a,parent:Bo(c)};return iy(n).put(p)}return Nt.resolve()}getCollectionParents(n,i){const a=[],c=IDBKeyRange.bound([i,""],[R(i),""],!1,!0);return iy(n).Lt(c).next(p=>{for(const C of p){if(C.collectionId!==i)break;a.push(ta(C.parent))}return a})}}function iy(s){return eo(s,bu.store)}const el={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Ls(n,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xh(s,n,i){const a=s.store(si.store),c=s.store(Es.store),p=[],C=IDBKeyRange.only(i.batchId);let M=0;const B=a.Kt({range:C},(ve,Ue,ft)=>(M++,ft.delete()));p.push(B.next(()=>{Dn(1===M)}));const X=[];for(const ve of i.mutations){const Ue=Es.key(n,ve.key.path,i.batchId);p.push(c.delete(Ue)),X.push(ve.key)}return Nt.waitFor(p).next(()=>X)}function Fd(s){if(!s)return 0;let n;if(s.document)n=s.document;else if(s.unknownDocument)n=s.unknownDocument;else{if(!s.noDocument)throw _n();n=s.noDocument}return JSON.stringify(n).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class kc{constructor(n,i,a,c){this.userId=n,this.N=i,this.Ht=a,this.referenceDelegate=c,this.Jt={}}static Yt(n,i,a,c){Dn(""!==n.uid);const p=n.isAuthenticated()?n.uid:"";return new kc(p,i,a,c)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(n).Kt({index:si.userMutationsIndex,range:a},(c,p,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(n,i,a,c){const p=kl(n),C=Ru(n);return C.add({}).next(M=>{Dn("number"==typeof M);const B=new Kh(M,i,a,c),X=function(ft,xt,Kt){const Cn=Kt.baseMutations.map(Li=>Ol(ft.Wt,Li)),sr=Kt.mutations.map(Li=>Ol(ft.Wt,Li));return new si(xt,Kt.batchId,Kt.localWriteTime.toMillis(),Cn,sr)}(this.N,this.userId,B),ve=[];let Ue=new ti((ft,xt)=>E(ft.canonicalString(),xt.canonicalString()));for(const ft of c){const xt=Es.key(this.userId,ft.key.path,M);Ue=Ue.add(ft.key.path.popLast()),ve.push(C.put(X)),ve.push(p.put(xt,Es.PLACEHOLDER))}return Ue.forEach(ft=>{ve.push(this.Ht.addToCollectionParentIndex(n,ft))}),n.addOnCommittedListener(()=>{this.Jt[M]=B.keys()}),Nt.waitFor(ve).next(()=>B)})}lookupMutationBatch(n,i){return Ru(n).get(i).next(a=>a?(Dn(a.userId===this.userId),Su(this.N,a)):null)}Xt(n,i){return this.Jt[i]?Nt.resolve(this.Jt[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const c=a.keys();return this.Jt[i]=c,c}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,c=IDBKeyRange.lowerBound([this.userId,a]);let p=null;return Ru(n).Kt({index:si.userMutationsIndex,range:c},(C,M,B)=>{M.userId===this.userId&&(Dn(M.batchId>=a),p=Su(this.N,M)),B.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ru(n).Kt({index:si.userMutationsIndex,range:i,reverse:!0},(c,p,C)=>{a=p.batchId,C.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(n).Lt(si.userMutationsIndex,i).next(a=>a.map(c=>Su(this.N,c)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Es.prefixForPath(this.userId,i.path),c=IDBKeyRange.lowerBound(a),p=[];return kl(n).Kt({range:c},(C,M,B)=>{const[X,ve,Ue]=C,ft=ta(ve);if(X===this.userId&&i.path.isEqual(ft))return Ru(n).get(Ue).next(xt=>{if(!xt)throw _n();Dn(xt.userId===this.userId),p.push(Su(this.N,xt))});B.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new ti(E);const c=[];return i.forEach(p=>{const C=Es.prefixForPath(this.userId,p.path),M=IDBKeyRange.lowerBound(C),B=kl(n).Kt({range:M},(X,ve,Ue)=>{const[ft,xt,Kt]=X,Cn=ta(xt);ft===this.userId&&p.path.isEqual(Cn)?a=a.add(Kt):Ue.done()});c.push(B)}),Nt.waitFor(c).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,c=a.length+1,p=Es.prefixForPath(this.userId,a),C=IDBKeyRange.lowerBound(p);let M=new ti(E);return kl(n).Kt({range:C},(B,X,ve)=>{const[Ue,ft,xt]=B,Kt=ta(ft);Ue===this.userId&&a.isPrefixOf(Kt)?Kt.length===c&&(M=M.add(xt)):ve.done()}).next(()=>this.Zt(n,M))}Zt(n,i){const a=[],c=[];return i.forEach(p=>{c.push(Ru(n).get(p).next(C=>{if(null===C)throw _n();Dn(C.userId===this.userId),a.push(Su(this.N,C))}))}),Nt.waitFor(c).next(()=>a)}removeMutationBatch(n,i){return Xh(n.Qt,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.te(i.batchId)}),Nt.forEach(a,c=>this.referenceDelegate.markPotentiallyOrphaned(n,c))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return Nt.resolve();const a=IDBKeyRange.lowerBound(Es.prefixForUser(this.userId)),c=[];return kl(n).Kt({range:a},(p,C,M)=>{if(p[0]===this.userId){const B=ta(p[1]);c.push(B)}else M.done()}).next(()=>{Dn(0===c.length)})})}containsKey(n,i){return ng(n,this.userId,i)}ee(n){return rg(n).get(this.userId).next(i=>i||new qa(this.userId,-1,""))}}function ng(s,n,i){const a=Es.prefixForPath(n,i.path),c=a[1],p=IDBKeyRange.lowerBound(a);let C=!1;return kl(s).Kt({range:p,qt:!0},(M,B,X)=>{const[ve,Ue,ft]=M;ve===n&&Ue===c&&(C=!0),X.done()}).next(()=>C)}function Ru(s){return eo(s,si.store)}function kl(s){return eo(s,Es.store)}function rg(s){return eo(s,qa.store)}class tl{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new tl(0)}static ie(){return new tl(-1)}}class sy{constructor(n,i){this.referenceDelegate=n,this.N=i}allocateTargetId(n){return this.re(n).next(i=>{const a=new tl(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(i=>U.fromTimestamp(new k(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.re(n).next(c=>(c.highestListenSequenceNumber=i,a&&(c.lastRemoteSnapshotVersion=a.toTimestamp()),i>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=i),this.oe(n,c)))}addTargetData(n,i){return this.ce(n,i).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ae(i,a),this.oe(n,a))))}updateTargetData(n,i){return this.ce(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>nl(n).delete(i.targetId)).next(()=>this.re(n)).next(a=>(Dn(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,i,a){let c=0;const p=[];return nl(n).Kt((C,M)=>{const B=Xu(M);B.sequenceNumber<=i&&null===a.get(B.targetId)&&(c++,p.push(this.removeTargetData(n,B)))}).next(()=>Nt.waitFor(p)).next(()=>c)}forEachTarget(n,i){return nl(n).Kt((a,c)=>{const p=Xu(c);i(p)})}re(n){return Ld(n).get(Xs.key).next(i=>(Dn(null!==i),i))}oe(n,i){return Ld(n).put(Xs.key,i)}ce(n,i){return nl(n).put(eg(this.N,i))}ae(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(i=>i.targetCount)}getTargetData(n,i){const a=Po(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let p=null;return nl(n).Kt({range:c,index:po.queryTargetsIndexName},(C,M,B)=>{const X=Xu(M);Ns(i,X.target)&&(p=X,B.done())}).next(()=>p)}addMatchingKeys(n,i,a){const c=[],p=Ya(n);return i.forEach(C=>{const M=Bo(C.path);c.push(p.put(new us(a,M))),c.push(this.referenceDelegate.addReference(n,a,C))}),Nt.waitFor(c)}removeMatchingKeys(n,i,a){const c=Ya(n);return Nt.forEach(i,p=>{const C=Bo(p.path);return Nt.waitFor([c.delete([a,C]),this.referenceDelegate.removeReference(n,a,p)])})}removeMatchingKeysForTargetId(n,i){const a=Ya(n),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),c=Ya(n);let p=Pr();return c.Kt({range:a,qt:!0},(C,M,B)=>{const X=ta(C[1]),ve=new wn(X);p=p.add(ve)}).next(()=>p)}containsKey(n,i){const a=Bo(i.path),c=IDBKeyRange.bound([a],[R(a)],!1,!0);let p=0;return Ya(n).Kt({index:us.documentTargetsIndex,qt:!0,range:c},([C,M],B,X)=>{0!==C&&(p++,X.done())}).next(()=>p>0)}Tt(n,i){return nl(n).get(i).next(a=>a?Xu(a):null)}}function nl(s){return eo(s,po.store)}function Ld(s){return eo(s,Xs.store)}function Ya(s){return eo(s,us.store)}function Qa(s){return ef.apply(this,arguments)}function ef(){return ef=(0,f.Z)(function*(s){if(s.code!==st.FAILED_PRECONDITION||s.message!==Yp)throw s;Gt("LocalStore","Unexpectedly lost primary lease")}),ef.apply(this,arguments)}function ig([s,n],[i,a]){const c=E(s,i);return 0===c?E(n,a):c}class sg{constructor(n){this.ue=n,this.buffer=new ti(ig),this.he=0}le(){return++this.he}fe(n){const i=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ig(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class og{constructor(n,i){this.garbageCollector=n,this.asyncQueue=i,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var i=this;const a=this.de?3e5:6e4;Gt("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,f.Z)(function*(){i.we=null,i.de=!0;try{yield n.collectGarbage(i.garbageCollector)}catch(c){Qu(c)?Gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c):yield Qa(c)}yield i._e(n)}))}}class rl{constructor(n,i){this.me=n,this.params=i}calculateTargetCount(n,i){return this.me.ge(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return Nt.resolve(Mi.T);const a=new sg(i);return this.me.forEachTarget(n,c=>a.fe(c.sequenceNumber)).next(()=>this.me.ye(n,c=>a.fe(c))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.me.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.me.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(el)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),el):this.pe(n,i))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,i){let a,c,p,C,M,B,X;const ve=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Ue=>(Ue>this.params.maximumSequenceNumbersToCollect?(Gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ue}`),c=this.params.maximumSequenceNumbersToCollect):c=Ue,C=Date.now(),this.nthSequenceNumber(n,c))).next(Ue=>(a=Ue,M=Date.now(),this.removeTargets(n,a,i))).next(Ue=>(p=Ue,B=Date.now(),this.removeOrphanedDocuments(n,a))).next(Ue=>(X=Date.now(),gu()<=he.in.DEBUG&&Gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-ve}ms\n\tDetermined least recently used ${c} in `+(M-C)+`ms\n\tRemoved ${p} targets in `+(B-M)+`ms\n\tRemoved ${Ue} documents in `+(X-B)+`ms\nTotal Duration: ${X-ve}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:p,documentsRemoved:Ue})))}}class ag{constructor(n,i){this.db=n,this.garbageCollector=new rl(this,i)}ge(n){const i=this.Te(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(c=>a+c))}Te(n){let i=0;return this.ye(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}ye(n,i){return this.Ee(n,(a,c)=>i(c))}addReference(n,i,a){return Fc(n,a)}removeReference(n,i,a){return Fc(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return Fc(n,i)}Ie(n,i){return function(a,c){let p=!1;return rg(a).jt(C=>ng(a,C,c).next(M=>(M&&(p=!0),Nt.resolve(!M)))).next(()=>p)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let p=0;return this.Ee(n,(C,M)=>{if(M<=i){const B=this.Ie(n,C).next(X=>{if(!X)return p++,a.getEntry(n,C).next(()=>(a.removeEntry(C),Ya(n).delete([0,Bo(C.path)])))});c.push(B)}}).next(()=>Nt.waitFor(c)).next(()=>a.apply(n)).next(()=>p)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return Fc(n,i)}Ee(n,i){const a=Ya(n);let c,p=Mi.T;return a.Kt({index:us.documentTargetsIndex},([C,M],{path:B,sequenceNumber:X})=>{0===C?(p!==Mi.T&&i(new wn(ta(c)),p),p=X,c=B):p=Mi.T}).next(()=>{p!==Mi.T&&i(new wn(ta(c)),p)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Fc(s,n){return Ya(s).put((a=s.currentSequenceNumber,new us(0,Bo(n.path),a)));var a}class Fl{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={}}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[c,p]of a)if(this.equalsFn(c,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),c=this.inner[a];if(void 0!==c){for(let p=0;p<c.length;p++)if(this.equalsFn(c[p][0],n))return void(c[p]=[n,i]);c.push([n,i])}else this.inner[a]=[[n,i]]}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1}forEach(n){Se(this.inner,(i,a)=>{for(const[c,p]of a)n(c,p)})}isEmpty(){return ht(this.inner)}}class Lc{constructor(){this.changes=new Fl(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}getReadTime(n){const i=this.changes.get(n);return i?i.readTime:U.min()}addEntry(n,i){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:i})}removeEntry(n,i=null){this.assertNotApplied(),this.changes.set(n,{document:Fr.newInvalidDocument(n),readTime:i})}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?Nt.resolve(a.document):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class oy{constructor(n,i){this.N=n,this.Ht=i}addEntry(n,i,a){return Ja(n).put(Ll(i),a)}removeEntry(n,i){const a=Ja(n),c=Ll(i);return a.delete(c)}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.Ae(n,a)))}getEntry(n,i){return Ja(n).get(Ll(i)).next(a=>this.Re(i,a))}be(n,i){return Ja(n).get(Ll(i)).next(a=>({document:this.Re(i,a),size:Fd(a)}))}getEntries(n,i){let a=Ji();return this.Pe(n,i,(c,p)=>{const C=this.Re(c,p);a=a.insert(c,C)}).next(()=>a)}ve(n,i){let a=Ji(),c=new ki(wn.comparator);return this.Pe(n,i,(p,C)=>{const M=this.Re(p,C);a=a.insert(p,M),c=c.insert(p,Fd(C))}).next(()=>({documents:a,Ve:c}))}Pe(n,i,a){if(i.isEmpty())return Nt.resolve();const c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),p=i.getIterator();let C=p.getNext();return Ja(n).Kt({range:c},(M,B,X)=>{const ve=wn.fromSegments(M);for(;C&&wn.comparator(C,ve)<0;)a(C,null),C=p.getNext();C&&C.isEqual(ve)&&(a(C,B),C=p.hasNext()?p.getNext():null),C?X.Mt(C.path.toArray()):X.done()}).next(()=>{for(;C;)a(C,null),C=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(n,i,a){let c=Ji();const p=i.path.length+1,C={};if(a.isEqual(U.min())){const M=i.path.toArray();C.range=IDBKeyRange.lowerBound(M)}else{const M=i.path.toArray(),B=Xp(a);C.range=IDBKeyRange.lowerBound([M,B],!0),C.index=Ai.collectionReadTimeIndex}return Ja(n).Kt(C,(M,B,X)=>{if(M.length!==p)return;const ve=jo(this.N,B);i.path.isPrefixOf(ve.key.path)?ei(i,ve)&&(c=c.insert(ve.key,ve)):X.done()}).next(()=>c)}newChangeBuffer(n){return new ug(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return tf(n).get(ba.key).next(i=>(Dn(!!i),i))}Ae(n,i){return tf(n).put(ba.key,i)}Re(n,i){if(i){const a=jo(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(U.min()))return a}return Fr.newInvalidDocument(n)}}class ug extends Lc{constructor(n,i){super(),this.Se=n,this.trackRemovals=i,this.De=new Fl(a=>a.toString(),(a,c)=>a.isEqual(c))}applyChanges(n){const i=[];let a=0,c=new ti((p,C)=>E(p.canonicalString(),C.canonicalString()));return this.changes.forEach((p,C)=>{const M=this.De.get(p);if(C.document.isValidDocument()){const B=ry(this.Se.N,C.document,this.getReadTime(p));c=c.add(p.path.popLast()),a+=Fd(B)-M,i.push(this.Se.addEntry(n,p,B))}else if(a-=M,this.trackRemovals){const B=ry(this.Se.N,Fr.newNoDocument(p,U.min()),this.getReadTime(p));i.push(this.Se.addEntry(n,p,B))}else i.push(this.Se.removeEntry(n,p))}),c.forEach(p=>{i.push(this.Se.Ht.addToCollectionParentIndex(n,p))}),i.push(this.Se.updateMetadata(n,a)),Nt.waitFor(i)}getFromCache(n,i){return this.Se.be(n,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(n,i){return this.Se.ve(n,i).next(({documents:a,Ve:c})=>(c.forEach((p,C)=>{this.De.set(p,C)}),a))}}function tf(s){return eo(s,ba.store)}function Ja(s){return eo(s,Ai.store)}function Ll(s){return s.path.toArray()}class lg{constructor(n){this.N=n}Ct(n,i,a,c){Dn(a<c&&a>=0&&c<=11);const p=new Od("createOrUpgrade",i);var M;a<1&&c>=1&&(n.createObjectStore(To.store),(M=n).createObjectStore(qa.store,{keyPath:qa.keyPath}),M.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0}),M.createObjectStore(Es.store),Vc(n),function(M){M.createObjectStore(Ai.store)}(n));let C=Nt.resolve();return a<3&&c>=3&&(0!==a&&(function(M){M.deleteObjectStore(us.store),M.deleteObjectStore(po.store),M.deleteObjectStore(Xs.store)}(n),Vc(n)),C=C.next(()=>function(M){const B=M.store(Xs.store),X=new Xs(0,0,U.min().toTimestamp(),0);return B.put(Xs.key,X)}(p))),a<4&&c>=4&&(0!==a&&(C=C.next(()=>function(M,B){return B.store(si.store).Lt().next(X=>{M.deleteObjectStore(si.store),M.createObjectStore(si.store,{keyPath:si.keyPath,autoIncrement:!0}).createIndex(si.userMutationsIndex,si.userMutationsKeyPath,{unique:!0});const ve=B.store(si.store),Ue=X.map(ft=>ve.put(ft));return Nt.waitFor(Ue)})}(n,p))),C=C.next(()=>{!function(M){M.createObjectStore(Za.store,{keyPath:Za.keyPath})}(n)})),a<5&&c>=5&&(C=C.next(()=>this.Ce(p))),a<6&&c>=6&&(C=C.next(()=>(function(M){M.createObjectStore(ba.store)}(n),this.Ne(p)))),a<7&&c>=7&&(C=C.next(()=>this.xe(p))),a<8&&c>=8&&(C=C.next(()=>this.ke(n,p))),a<9&&c>=9&&(C=C.next(()=>{(function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")})(n),function(M){const B=M.objectStore(Ai.store);B.createIndex(Ai.readTimeIndex,Ai.readTimeIndexPath,{unique:!1}),B.createIndex(Ai.collectionReadTimeIndex,Ai.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(C=C.next(()=>this.$e(p))),a<11&&c>=11&&(C=C.next(()=>{(function(M){M.createObjectStore(xc.store,{keyPath:xc.keyPath})})(n),function(M){M.createObjectStore(Yu.store,{keyPath:Yu.keyPath})}(n)})),C}Ne(n){let i=0;return n.store(Ai.store).Kt((a,c)=>{i+=Fd(c)}).next(()=>{const a=new ba(i);return n.store(ba.store).put(ba.key,a)})}Ce(n){const i=n.store(qa.store),a=n.store(si.store);return i.Lt().next(c=>Nt.forEach(c,p=>{const C=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return a.Lt(si.userMutationsIndex,C).next(M=>Nt.forEach(M,B=>{Dn(B.userId===p.userId);const X=Su(this.N,B);return Xh(n,p.userId,X).next(()=>{})}))}))}xe(n){const i=n.store(us.store),a=n.store(Ai.store);return n.store(Xs.store).get(Xs.key).next(c=>{const p=[];return a.Kt((C,M)=>{const B=new sn(C),X=[0,Bo(B)];p.push(i.get(X).next(ve=>ve?Nt.resolve():i.put(new us(0,Bo(B),c.highestListenSequenceNumber))))}).next(()=>Nt.waitFor(p))})}ke(n,i){n.createObjectStore(bu.store,{keyPath:bu.keyPath});const a=i.store(bu.store),c=new Pc,p=C=>{if(c.add(C)){const M=C.lastSegment(),B=C.popLast();return a.put({collectionId:M,parent:Bo(B)})}};return i.store(Ai.store).Kt({qt:!0},(C,M)=>{const B=new sn(C);return p(B.popLast())}).next(()=>i.store(Es.store).Kt({qt:!0},([C,M,B],X)=>{const ve=ta(M);return p(ve.popLast())}))}$e(n){const i=n.store(po.store);return i.Kt((a,c)=>{const p=Xu(c),C=eg(this.N,p);return i.put(C)})}}function Vc(s){s.createObjectStore(us.store,{keyPath:us.keyPath}).createIndex(us.documentTargetsIndex,us.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(po.store,{keyPath:po.keyPath}).createIndex(po.queryTargetsIndexName,po.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Xs.store)}const Vl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vd{constructor(n,i,a,c,p,C,M,B,X,ve){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.Oe=p,this.window=C,this.document=M,this.Fe=X,this.Me=ve,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Ue=>Promise.resolve(),!Vd.bt())throw new kt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ag(this,c),this.We=i+"main",this.N=new Ju(B),this.Ge=new na(this.We,11,new lg(this.N)),this.ze=new sy(this.referenceDelegate,this.N),this.Ht=new tg,this.He=new oy(this.N,this.Ht),this.Je=new Oc,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ve&&Nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(st.FAILED_PRECONDITION,Vl);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Mi(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var i=this;return this.Qe=function(){var a=(0,f.Z)(function*(c){if(i.started)return n(c)});return function(c){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var i=(0,f.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,f.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Uc(n).put(new Za(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(i=>this.isPrimary&&!i?this.on(n).next(()=>!1):!!i&&this.cn(n).next(()=>!0))).catch(n=>{if(Qu(n))return Gt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return il(n).get(To.key).next(i=>Nt.resolve(this.an(i)))}un(n){return Uc(n).delete(this.clientId)}hn(){var n=this;return(0,f.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const c=eo(a,Za.store);return c.Lt().next(p=>{const C=n.fn(p,18e5),M=p.filter(B=>-1===C.indexOf(B));return Nt.forEach(M,B=>c.delete(B.clientId)).next(()=>M)})}).catch(()=>[]);if(n.Ye)for(const a of i)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Nt.resolve(!0):il(n).get(To.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.an(i)&&this.networkEnabled)return!0;if(!this.an(i)){if(!i.allowTabSynchronization)throw new kt(st.FAILED_PRECONDITION,Vl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uc(n).Lt().next(a=>void 0===this.fn(a,5e3).find(c=>{if(this.clientId!==c.clientId){const C=!this.inForeground&&c.inForeground,M=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||C&&M)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Gt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,f.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[To.store,Za.store],i=>{const a=new zh(i,Mi.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,i){return n.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Uc(n).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return kc.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,i,a){let p;return Gt("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===i?"readonly":"readwrite",Nd,C=>(p=new zh(C,this.Le?this.Le.next():Mi.T),"readwrite-primary"===i?this.sn(p).next(M=>!!M||this.rn(p)).next(M=>{if(!M)throw Nr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new kt(st.FAILED_PRECONDITION,Yp);return a(p)}).next(M=>this.cn(p).next(()=>M)):this.Tn(p).next(()=>a(p)))).then(C=>(p.raiseOnCommittedEvent(),C))}Tn(n){return il(n).get(To.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.an(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new kt(st.FAILED_PRECONDITION,Vl)})}cn(n){const i=new To(this.clientId,this.allowTabSynchronization,Date.now());return il(n).put(To.key,i)}static bt(){return na.bt()}on(n){const i=il(n);return i.get(To.key).next(a=>this.an(a)?(Gt("IndexedDbPersistence","Releasing primary lease."),i.delete(To.key)):Nt.resolve())}ln(n,i){const a=Date.now();return!(n<a-i||n>a&&(Nr(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,fe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(n)));return Gt("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Nr("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Nr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function il(s){return eo(s,To.store)}function Uc(s){return eo(s,Za.store)}function Bc(s,n){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+n+"/"+i+"/"}class jc{constructor(n,i){this.progress=n,this.En=i}}class cg{constructor(n,i,a){this.He=n,this.In=i,this.Ht=a}An(n,i){return this.In.getAllMutationBatchesAffectingDocumentKey(n,i).next(a=>this.Rn(n,i,a))}Rn(n,i,a){return this.He.getEntry(n,i).next(c=>{for(const p of a)p.applyToLocalView(c);return c})}bn(n,i){n.forEach((a,c)=>{for(const p of i)p.applyToLocalView(c)})}Pn(n,i){return this.He.getEntries(n,i).next(a=>this.vn(n,a).next(()=>a))}vn(n,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(n,i,a){return wn.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Vn(n,i.path):pc(i)?this.Sn(n,i,a):this.Dn(n,i,a);var c}Vn(n,i){return this.An(n,new wn(i)).next(a=>{let c=Ic();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}Sn(n,i,a){const c=i.collectionGroup;let p=Ic();return this.Ht.getCollectionParents(n,c).next(C=>Nt.forEach(C,M=>{const B=(X=i,ve=M.child(c),new pr(ve,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,ve;return this.Dn(n,B,a).next(X=>{X.forEach((ve,Ue)=>{p=p.insert(ve,Ue)})})}).next(()=>p))}Dn(n,i,a){let c,p;return this.He.getDocumentsMatchingQuery(n,i,a).next(C=>(c=C,this.In.getAllMutationBatchesAffectingQuery(n,i))).next(C=>(p=C,this.Cn(n,p,c).next(M=>{c=M;for(const B of p)for(const X of B.mutations){const ve=X.key;let Ue=c.get(ve);null==Ue&&(Ue=Fr.newInvalidDocument(ve),c=c.insert(ve,Ue)),Id(X,Ue,B.localWriteTime),Ue.isFoundDocument()||(c=c.remove(ve))}}))).next(()=>(c.forEach((C,M)=>{ei(i,M)||(c=c.remove(C))}),c))}Cn(n,i,a){let c=Pr();for(const C of i)for(const M of C.mutations)M instanceof Vo&&null===a.get(M.key)&&(c=c.add(M.key));let p=a;return this.He.getEntries(n,c).next(C=>(C.forEach((M,B)=>{B.isFoundDocument()&&(p=p.insert(M,B))}),p))}}class Ud{constructor(n,i,a,c){this.targetId=n,this.fromCache=i,this.Nn=a,this.xn=c}static kn(n,i){let a=Pr(),c=Pr();for(const p of i.docChanges)switch(p.type){case 0:a=a.add(p.doc.key);break;case 1:c=c.add(p.doc.key)}return new Ud(n,i.fromCache,a,c)}}class dg{$n(n){this.On=n}getDocumentsMatchingQuery(n,i,a,c){return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(U.min())?this.Fn(n,i):this.On.Pn(n,c).next(p=>{const C=this.Mn(i,p);return(Ys(i)||Os(i))&&this.Ln(i.limitType,C,c,a)?this.Fn(n,i):(gu()<=he.in.DEBUG&&Gt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gc(i)),this.On.getDocumentsMatchingQuery(n,i,a).next(M=>(C.forEach(B=>{M=M.insert(B.key,B)}),M)))});var p}Mn(n,i){let a=new ti(mc(n));return i.forEach((c,p)=>{ei(n,p)&&(a=a.add(p))}),a}Ln(n,i,a,c){if(a.size!==i.size)return!0;const p="F"===n?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(c)>0)}Fn(n,i){return gu()<=he.in.DEBUG&&Gt("QueryEngine","Using full collection scan to execute query:",gc(i)),this.On.getDocumentsMatchingQuery(n,i,U.min())}}class ay{constructor(n,i,a,c){this.persistence=n,this.Bn=i,this.N=c,this.Un=new ki(E),this.qn=new Fl(p=>Po(p),Ns),this.Kn=U.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new cg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.Un))}}function nf(s,n,i,a){return new ay(s,n,i,a)}function Bd(s,n){return jd.apply(this,arguments)}function jd(){return jd=(0,f.Z)(function*(s,n){const i=jt(s);let a=i.In,c=i.Qn;const p=yield i.persistence.runTransaction("Handle user change","readonly",C=>{let M;return i.In.getAllMutationBatches(C).next(B=>(M=B,a=i.persistence.getMutationQueue(n),c=new cg(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(C))).next(B=>{const X=[],ve=[];let Ue=Pr();for(const ft of M){X.push(ft.batchId);for(const xt of ft.mutations)Ue=Ue.add(xt.key)}for(const ft of B){ve.push(ft.batchId);for(const xt of ft.mutations)Ue=Ue.add(xt.key)}return c.Pn(C,Ue).next(ft=>({Wn:ft,removedBatchIds:X,addedBatchIds:ve}))})});return i.In=a,i.Qn=c,i.Bn.$n(i.Qn),p}),jd.apply(this,arguments)}function bv(s,n){const i=jt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=n.batch.keys(),p=i.jn.newChangeBuffer({trackRemovals:!0});return function(C,M,B,X){const ve=B.batch,Ue=ve.keys();let ft=Nt.resolve();return Ue.forEach(xt=>{ft=ft.next(()=>X.getEntry(M,xt)).next(Kt=>{const Cn=B.docVersions.get(xt);Dn(null!==Cn),Kt.version.compareTo(Cn)<0&&(ve.applyToRemoteDocument(Kt,B),Kt.isValidDocument()&&X.addEntry(Kt,B.commitVersion))})}),ft.next(()=>C.In.removeMutationBatch(M,ve))}(i,a,n,p).next(()=>p.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,c))})}function rf(s){const n=jt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.ze.getLastRemoteSnapshotVersion(i))}function uy(s,n){const i=jt(s),a=n.snapshotVersion;let c=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const C=i.jn.newChangeBuffer({trackRemovals:!0});c=i.Un;const M=[];n.targetChanges.forEach((X,ve)=>{const Ue=c.get(ve);if(!Ue)return;M.push(i.ze.removeMatchingKeys(p,X.removedDocuments,ve).next(()=>i.ze.addMatchingKeys(p,X.addedDocuments,ve)));const ft=X.resumeToken;if(ft.approximateByteSize()>0){const xt=Ue.withResumeToken(ft,a).withSequenceNumber(p.currentSequenceNumber);c=c.insert(ve,xt),Kt=Ue,sr=X,Dn((Cn=xt).resumeToken.approximateByteSize()>0),(0===Kt.resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||sr.addedDocuments.size+sr.modifiedDocuments.size+sr.removedDocuments.size>0)&&M.push(i.ze.updateTargetData(p,xt))}var Kt,Cn,sr});let B=Ji();if(n.documentUpdates.forEach((X,ve)=>{n.resolvedLimboDocuments.has(X)&&M.push(i.persistence.referenceDelegate.updateLimboDocument(p,X))}),M.push(sf(p,C,n.documentUpdates,a,void 0).next(X=>{B=X})),!a.isEqual(U.min())){const X=i.ze.getLastRemoteSnapshotVersion(p).next(ve=>i.ze.setTargetsMetadata(p,p.currentSequenceNumber,a));M.push(X)}return Nt.waitFor(M).next(()=>C.apply(p)).next(()=>i.Qn.vn(p,B)).next(()=>B)}).then(p=>(i.Un=c,p))}function sf(s,n,i,a,c){let p=Pr();return i.forEach(C=>p=p.add(C)),n.getEntries(s,p).next(C=>{let M=Ji();return i.forEach((B,X)=>{const ve=C.get(B),Ue=(null==c?void 0:c.get(B))||a;X.isNoDocument()&&X.version.isEqual(U.min())?(n.removeEntry(B,Ue),M=M.insert(B,X)):!ve.isValidDocument()||X.version.compareTo(ve.version)>0||0===X.version.compareTo(ve.version)&&ve.hasPendingWrites?(n.addEntry(X,Ue),M=M.insert(B,X)):Gt("LocalStore","Ignoring outdated watch update for ",B,". Current version:",ve.version," Watch version:",X.version)}),M})}function ly(s,n){const i=jt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.In.getNextMutationBatchAfterBatchId(a,n)))}function Ul(s,n){const i=jt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return i.ze.getTargetData(a,n).next(p=>p?(c=p,Nt.resolve(c)):i.ze.allocateTargetId(a).next(C=>(c=new Au(n,C,0,a.currentSequenceNumber),i.ze.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=i.Un.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(n,a.targetId)),a})}function Vs(s,n,i){return af.apply(this,arguments)}function af(){return af=(0,f.Z)(function*(s,n,i){const a=jt(s),c=a.Un.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",p,C=>a.persistence.referenceDelegate.removeTarget(C,c)))}catch(C){if(!Qu(C))throw C;Gt("LocalStore",`Failed to update sequence numbers for target ${n}: ${C}`)}a.Un=a.Un.remove(n),a.qn.delete(c.target)}),af.apply(this,arguments)}function $c(s,n,i){const a=jt(s);let c=U.min(),p=Pr();return a.persistence.runTransaction("Execute query","readonly",C=>function(M,B,X){const ve=jt(M),Ue=ve.qn.get(X);return void 0!==Ue?Nt.resolve(ve.Un.get(Ue)):ve.ze.getTargetData(B,X)}(a,C,Ps(n)).next(M=>{if(M)return c=M.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(C,M.targetId).next(B=>{p=B})}).next(()=>a.Bn.getDocumentsMatchingQuery(C,n,i?c:U.min(),i?p:Pr())).next(M=>({documents:M,Gn:p})))}function hg(s,n){const i=jt(s),a=jt(i.ze),c=i.Un.get(n);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",p=>a.Tt(p,n).next(C=>C?C.target:null))}function fg(s){const n=jt(s);return n.persistence.runTransaction("Get new document changes","readonly",i=>function(a,c,p){const C=jt(a);let M=Ji(),B=Xp(p);const X=Ja(c),ve=IDBKeyRange.lowerBound(B,!0);return X.Kt({index:Ai.readTimeIndex,range:ve},(Ue,ft)=>{const xt=jo(C.N,ft);M=M.insert(xt.key,xt),B=ft.readTime}).next(()=>({En:M,readTime:Zh(B)}))}(n.jn,i,n.Kn)).then(({En:i,readTime:a})=>(n.Kn=a,i))}function uf(){return uf=(0,f.Z)(function*(s){const n=jt(s);return n.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const c=Ja(a);let p=U.min();return c.Kt({index:Ai.readTimeIndex,reverse:!0},(C,M,B)=>{M.readTime&&(p=Zh(M.readTime)),B.done()}).next(()=>p)}(i)).then(i=>{n.Kn=i})}),uf.apply(this,arguments)}function lf(){return lf=(0,f.Z)(function*(s,n,i,a){const c=jt(s);let p=Pr(),C=Ji(),M=Cc();for(const ve of i){const Ue=n.zn(ve.metadata.name);ve.document&&(p=p.add(Ue)),C=C.insert(Ue,n.Hn(ve)),M=M.insert(Ue,n.Jn(ve.metadata.readTime))}const B=c.jn.newChangeBuffer({trackRemovals:!0}),X=yield Ul(c,(ve=a,Ps(_i(sn.fromString(`__bundle__/docs/${ve}`)))));var ve;return c.persistence.runTransaction("Apply bundle documents","readwrite",ve=>sf(ve,B,C,U.min(),M).next(Ue=>(B.apply(ve),Ue)).next(Ue=>c.ze.removeMatchingKeysForTargetId(ve,X.targetId).next(()=>c.ze.addMatchingKeys(ve,p,X.targetId)).next(()=>c.Qn.vn(ve,Ue)).next(()=>Ue)))}),lf.apply(this,arguments)}function dy(s,n){return cf.apply(this,arguments)}function cf(){return cf=(0,f.Z)(function*(s,n,i=Pr()){const a=yield Ul(s,Ps(kd(n.bundledQuery))),c=jt(s);return c.persistence.runTransaction("Save named query","readwrite",p=>{const C=vi(n.readTime);if(a.snapshotVersion.compareTo(C)>=0)return c.Je.saveNamedQuery(p,n);const M=a.withResumeToken(br.EMPTY_BYTE_STRING,C);return c.Un=c.Un.insert(M.targetId,M),c.ze.updateTargetData(p,M).next(()=>c.ze.removeMatchingKeysForTargetId(p,a.targetId)).next(()=>c.ze.addMatchingKeys(p,i,a.targetId)).next(()=>c.Je.saveNamedQuery(p,n))})}),cf.apply(this,arguments)}class Jn{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,i){return Nt.resolve(this.Yn.get(i))}saveBundleMetadata(n,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:vi(a.createTime)}),Nt.resolve()}getNamedQuery(n,i){return Nt.resolve(this.Xn.get(i))}saveNamedQuery(n,i){return this.Xn.set(i.name,{name:(a=i).name,query:kd(a.bundledQuery),readTime:vi(a.readTime)}),Nt.resolve();var a}}class $d{constructor(){this.Zn=new ti(Xi.ts),this.es=new ti(Xi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,i){const a=new Xi(n,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.rs(new Xi(n,i))}os(n,i){n.forEach(a=>this.removeReference(a,i))}cs(n){const i=new wn(new sn([])),a=new Xi(i,n),c=new Xi(i,n+1),p=[];return this.es.forEachInRange([a,c],C=>{this.rs(C),p.push(C.key)}),p}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const i=new wn(new sn([])),a=new Xi(i,n),c=new Xi(i,n+1);let p=Pr();return this.es.forEachInRange([a,c],C=>{p=p.add(C.key)}),p}containsKey(n){const i=new Xi(n,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Xi{constructor(n,i){this.key=n,this.ls=i}static ts(n,i){return wn.comparator(n.key,i.key)||E(n.ls,i.ls)}static ns(n,i){return E(n.ls,i.ls)||wn.comparator(n.key,i.key)}}class gg{constructor(n,i){this.Ht=n,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new ti(Xi.ts)}checkEmpty(n){return Nt.resolve(0===this.In.length)}addMutationBatch(n,i,a,c){const p=this.fs;this.fs++;const C=new Kh(p,i,a,c);this.In.push(C);for(const M of c)this.ds=this.ds.add(new Xi(M.key,p)),this.Ht.addToCollectionParentIndex(n,M.key.path.popLast());return Nt.resolve(C)}lookupMutationBatch(n,i){return Nt.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(n,i){const c=this._s(i+1),p=c<0?0:c;return Nt.resolve(this.In.length>p?this.In[p]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Nt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Xi(i,0),c=new Xi(i,Number.POSITIVE_INFINITY),p=[];return this.ds.forEachInRange([a,c],C=>{const M=this.ws(C.ls);p.push(M)}),Nt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new ti(E);return i.forEach(c=>{const p=new Xi(c,0),C=new Xi(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([p,C],M=>{a=a.add(M.ls)})}),Nt.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,c=a.length+1;let p=a;wn.isDocumentKey(p)||(p=p.child(""));const C=new Xi(new wn(p),0);let M=new ti(E);return this.ds.forEachWhile(B=>{const X=B.key.path;return!!a.isPrefixOf(X)&&(X.length===c&&(M=M.add(B.ls)),!0)},C),Nt.resolve(this.gs(M))}gs(n){const i=[];return n.forEach(a=>{const c=this.ws(a);null!==c&&i.push(c)}),i}removeMutationBatch(n,i){Dn(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return Nt.forEach(i.mutations,c=>{const p=new Xi(c.key,i.batchId);return a=a.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,i){const a=new Xi(i,0),c=this.ds.firstAfterOrEqual(a);return Nt.resolve(i.isEqual(c&&c.key))}performConsistencyCheck(n){return Nt.resolve()}ys(n,i){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const i=this._s(n);return i<0||i>=this.In.length?null:this.In[i]}}class Hd{constructor(n,i){this.Ht=n,this.ps=i,this.docs=new ki(wn.comparator),this.size=0}addEntry(n,i,a){const c=i.key,p=this.docs.get(c),C=p?p.size:0,M=this.ps(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:M,readTime:a}),this.size+=M-C,this.Ht.addToCollectionParentIndex(n,c.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return Nt.resolve(a?a.document.clone():Fr.newInvalidDocument(i))}getEntries(n,i){let a=Ji();return i.forEach(c=>{const p=this.docs.get(c);a=a.insert(c,p?p.document.clone():Fr.newInvalidDocument(c))}),Nt.resolve(a)}getDocumentsMatchingQuery(n,i,a){let c=Ji();const p=new wn(i.path.child("")),C=this.docs.getIteratorFrom(p);for(;C.hasNext();){const{key:M,value:{document:B,readTime:X}}=C.getNext();if(!i.path.isPrefixOf(M.path))break;X.compareTo(a)<=0||ei(i,B)&&(c=c.insert(B.key,B.clone()))}return Nt.resolve(c)}Ts(n,i){return Nt.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new ra(this)}getSize(n){return Nt.resolve(this.size)}}class ra extends Lc{constructor(n){super(),this.Se=n}applyChanges(n){const i=[];return this.changes.forEach((a,c)=>{c.document.isValidDocument()?i.push(this.Se.addEntry(n,c.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Nt.waitFor(i)}getFromCache(n,i){return this.Se.getEntry(n,i)}getAllFromCache(n,i){return this.Se.getEntries(n,i)}}class mg{constructor(n){this.persistence=n,this.Es=new Fl(i=>Po(i),Ns),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Is=0,this.As=new $d,this.targetCount=0,this.Rs=tl.se()}forEachTarget(n,i){return this.Es.forEach((a,c)=>i(c)),Nt.resolve()}getLastRemoteSnapshotVersion(n){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Nt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),Nt.resolve()}ce(n){this.Es.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.Rs=new tl(i),this.highestTargetId=i),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,i){return this.ce(i),this.targetCount+=1,Nt.resolve()}updateTargetData(n,i){return this.ce(i),Nt.resolve()}removeTargetData(n,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(n,i,a){let c=0;const p=[];return this.Es.forEach((C,M)=>{M.sequenceNumber<=i&&null===a.get(M.targetId)&&(this.Es.delete(C),p.push(this.removeMatchingKeysForTargetId(n,M.targetId)),c++)}),Nt.waitFor(p).next(()=>c)}getTargetCount(n){return Nt.resolve(this.targetCount)}getTargetData(n,i){const a=this.Es.get(i)||null;return Nt.resolve(a)}addMatchingKeys(n,i,a){return this.As.ss(i,a),Nt.resolve()}removeMatchingKeys(n,i,a){this.As.os(i,a);const c=this.persistence.referenceDelegate,p=[];return c&&i.forEach(C=>{p.push(c.markPotentiallyOrphaned(n,C))}),Nt.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.As.cs(i),Nt.resolve()}getMatchingKeysForTargetId(n,i){const a=this.As.hs(i);return Nt.resolve(a)}containsKey(n,i){return Nt.resolve(this.As.containsKey(i))}}class hy{constructor(n,i){this.bs={},this.Le=new Mi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new mg(this),this.Ht=new Jh,this.He=new Hd(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Ju(i),this.Je=new Jn(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let i=this.bs[n.toKey()];return i||(i=new gg(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,i,a){Gt("MemoryPersistence","Starting transaction:",n);const c=new df(this.Le.next());return this.referenceDelegate.vs(),a(c).next(p=>this.referenceDelegate.Vs(c).next(()=>p)).toPromise().then(p=>(c.raiseOnCommittedEvent(),p))}Ss(n,i){return Nt.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,i)))}}class df extends Qp{constructor(n){super(),this.currentSequenceNumber=n}}class ia{constructor(n){this.persistence=n,this.Ds=new $d,this.Cs=null}static Ns(n){return new ia(n)}get xs(){if(this.Cs)return this.Cs;throw _n()}addReference(n,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),Nt.resolve()}removeReference(n,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),Nt.resolve()}markPotentiallyOrphaned(n,i){return this.xs.add(i.toString()),Nt.resolve()}removeTarget(n,i){this.Ds.cs(i.targetId).forEach(c=>this.xs.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(c=>{c.forEach(p=>this.xs.add(p.toString()))}).next(()=>a.removeTargetData(n,i))}vs(){this.Cs=new Set}Vs(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.xs,a=>{const c=wn.fromPath(a);return this.ks(n,c).next(p=>{p||i.removeEntry(c)})}).next(()=>(this.Cs=null,i.apply(n)))}updateLimboDocument(n,i){return this.ks(n,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(n){return 0}ks(n,i){return Nt.or([()=>Nt.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ss(n,i)])}}function Wd(s,n){return`firestore_clients_${s}_${n}`}function hf(s,n,i){let a=`firestore_mutations_${s}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function Hc(s,n){return`firestore_targets_${s}_${n}`}class ff{constructor(n,i,a,c){this.user=n,this.batchId=i,this.state=a,this.error=c}static $s(n,i,a){const c=JSON.parse(a);let p,C="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return C&&c.error&&(C="string"==typeof c.error.message&&"string"==typeof c.error.code,C&&(p=new kt(c.error.code,c.error.message))),C?new ff(n,i,c.state,p):(Nr("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Bl{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static $s(n,i){const a=JSON.parse(i);let c,p="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(c=new kt(a.error.code,a.error.message))),p?new Bl(n,a.state,c):(Nr("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class pf{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static $s(n,i){const a=JSON.parse(i);let c="object"==typeof a&&a.activeTargetIds instanceof Array,p=Ml();for(let C=0;c&&C<a.activeTargetIds.length;++C)c=Il(a.activeTargetIds[C]),p=p.add(a.activeTargetIds[C]);return c?new pf(n,p):(Nr("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class jl{constructor(n,i){this.clientId=n,this.onlineState=i}static $s(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new jl(i.clientId,i.onlineState):(Nr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class $l{constructor(){this.activeTargetIds=Ml()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Wc{constructor(n,i,a,c,p){this.window=n,this.Oe=i,this.persistenceKey=a,this.Ls=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ki(E),this.started=!1,this.Ks=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.js=Wd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new $l),this.Ws=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(M){return`firestore_bundle_loaded_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,f.Z)(function*(){const i=yield n.syncEngine.pn();for(const c of i){if(c===n.Ls)continue;const p=n.getItem(Wd(n.persistenceKey,c));if(p){const C=pf.$s(c,p);C&&(n.qs=n.qs.insert(C.clientId,C))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const c=n.Xs(a);c&&n.Zs(c)}for(const c of n.Ks)n.Us(c);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let i=!1;return this.qs.forEach((a,c)=>{c.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,i,a){this.ei(n,i,a),this.ni(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(Hc(this.persistenceKey,n));if(a){const c=Bl.$s(n,a);c&&(i=c.state)}}return this.si.Fs(n),this.Ys(),i}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Hc(this.persistenceKey,n))}updateQueryState(n,i,a){this.ii(n,i,a)}handleUserChange(n,i,a){i.forEach(c=>{this.ni(c)}),this.currentUser=n,a.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return Gt("SharedClientState","READ",n,i),i}setItem(n,i){Gt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){Gt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var i=this;const a=n;if(a.storageArea===this.storage){if(Gt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,f.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const c=i.ci(a.key);return i.ai(c,null)}{const c=i.ui(a.key,a.newValue);if(c)return i.ai(c.clientId,c)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const c=i.hi(a.key,a.newValue);if(c)return i.li(c)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const c=i.fi(a.key,a.newValue);if(c)return i.di(c)}}else if(a.key===i.Hs){if(null!==a.newValue){const c=i.Xs(a.newValue);if(c)return i.Zs(c)}}else if(a.key===i.Qs){const c=function(p){let C=Mi.T;if(null!=p)try{const M=JSON.parse(p);Dn("number"==typeof M),C=M}catch(M){Nr("SharedClientState","Failed to read sequence number from WebStorage",M)}return C}(a.newValue);c!==Mi.T&&i.sequenceNumberHandler(c)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,i,a){const c=new ff(this.currentUser,n,i,a),p=hf(this.persistenceKey,this.currentUser,n);this.setItem(p,c.Os())}ni(n){const i=hf(this.persistenceKey,this.currentUser,n);this.removeItem(i)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,i,a){const c=Hc(this.persistenceKey,n),p=new Bl(n,i,a);this.setItem(c,p.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(n){const i=this.Ws.exec(n);return i?i[1]:null}ui(n,i){const a=this.ci(n);return pf.$s(a,i)}hi(n,i){const a=this.Gs.exec(n),c=Number(a[1]);return ff.$s(new Qr(void 0!==a[2]?a[2]:null),c,i)}fi(n,i){const a=this.zs.exec(n),c=Number(a[1]);return Bl.$s(c,i)}Xs(n){return jl.$s(n)}li(n){var i=this;return(0,f.Z)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine._i(n.batchId,n.state,n.error);Gt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ai(n,i){const a=i?this.qs.insert(n,i):this.qs.remove(n),c=this.ti(this.qs),p=this.ti(a),C=[],M=[];return p.forEach(B=>{c.has(B)||C.push(B)}),c.forEach(B=>{p.has(B)||M.push(B)}),this.syncEngine.gi(C,M).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let i=Ml();return n.forEach((a,c)=>{i=i.unionWith(c.activeTargetIds)}),i}}class Gd{constructor(){this.yi=new $l,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,i,a){this.pi[n]=i}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new $l,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class gf{Ti(n){}shutdown(){}}class fy{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gy{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class my extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,i,a,c){const p=this.Bi(n,i);Gt("RestConnection","Sending: ",p,a);const C={};return this.Ui(C,c),this.qi(n,p,C,a).then(M=>(Gt("RestConnection","Received: ",M),M),M=>{throw Zs("RestConnection",`${n} failed with error: `,M,"url: ",p,"request:",a),M})}Ki(n,i,a,c){return this.Li(n,i,a,c)}Ui(n,i){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Ko,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(n[a]=i.authHeaders[a])}Bi(n,i){return`${this.Fi}/v1/${i}:${py[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,i,a,c){return new Promise((p,C)=>{const M=new _l;M.listenOnce(pu.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case li.NO_ERROR:const X=M.getResponseJson();Gt("Connection","XHR received:",JSON.stringify(X)),p(X);break;case li.TIMEOUT:Gt("Connection",'RPC "'+n+'" timed out'),C(new kt(st.DEADLINE_EXCEEDED,"Request time out"));break;case li.HTTP_ERROR:const ve=M.getStatus();if(Gt("Connection",'RPC "'+n+'" failed with status:',ve,"response text:",M.getResponseText()),ve>0){const Ue=M.getResponseJson().error;if(Ue&&Ue.status&&Ue.message){const ft=function(xt){const Kt=xt.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Kt)>=0?Kt:st.UNKNOWN}(Ue.status);C(new kt(ft,Ue.message))}else C(new kt(st.UNKNOWN,"Server responded with status "+M.getStatus()))}else C(new kt(st.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{Gt("Connection",'RPC "'+n+'" completed.')}});const B=JSON.stringify(c);M.send(i,"POST",B,a,15)})}ji(n,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],c=qs(),p=oo(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Rs({})),this.Ui(C.initMessageHeaders,i),(0,fe.uI)()||(0,fe.b$)()||(0,fe.d)()||(0,fe.w1)()||(0,fe.Mn)()||(0,fe.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const M=a.join("");Gt("Connection","Creating WebChannel: "+M,C);const B=c.createWebChannel(M,C);let X=!1,ve=!1;const Ue=new gy({vi:xt=>{ve?Gt("Connection","Not sending because WebChannel is closed:",xt):(X||(Gt("Connection","Opening WebChannel transport."),B.open(),X=!0),Gt("Connection","WebChannel sending:",xt),B.send(xt))},Vi:()=>B.close()}),ft=(xt,Kt,Cn)=>{xt.listen(Kt,sr=>{try{Cn(sr)}catch(Li){setTimeout(()=>{throw Li},0)}})};return ft(B,ys.EventType.OPEN,()=>{ve||Gt("Connection","WebChannel transport opened.")}),ft(B,ys.EventType.CLOSE,()=>{ve||(ve=!0,Gt("Connection","WebChannel transport closed"),Ue.$i())}),ft(B,ys.EventType.ERROR,xt=>{ve||(ve=!0,Zs("Connection","WebChannel transport errored:",xt),Ue.$i(new kt(st.UNAVAILABLE,"The operation could not be completed")))}),ft(B,ys.EventType.MESSAGE,xt=>{var Kt;if(!ve){const Cn=xt.data[0];Dn(!!Cn);const sr=Cn,Li=sr.error||(null===(Kt=sr[0])||void 0===Kt?void 0:Kt.error);if(Li){Gt("Connection","WebChannel received error:",Li);const ua=Li.status;let oc=function(Ih){const yp=ci[Ih];if(void 0!==yp)return Ca(yp)}(ua),ac=Li.message;void 0===oc&&(oc=st.INTERNAL,ac="Unknown error status: "+ua+" with message "+Li.message),ve=!0,Ue.$i(new kt(oc,ac)),B.close()}else Gt("Connection","WebChannel received:",Cn),Ue.Oi(Cn)}}),ft(p,ya.STAT_EVENT,xt=>{xt.stat===ss.PROXY?Gt("Connection","Detected buffering proxy"):xt.stat===ss.NOPROXY&&Gt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ue.ki()},0),Ue}}function yg(){return"undefined"!=typeof window?window:null}function Gc(){return"undefined"!=typeof document?document:null}function zd(s){return new Kr(s,!0)}class mf{constructor(n,i,a=1e3,c=1.5,p=6e4){this.Oe=n,this.timerId=i,this.Qi=a,this.Wi=c,this.Gi=p,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),c=Math.max(0,i-a);c>0&&Gt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,c,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class yy{constructor(n,i,a,c,p,C,M){this.Oe=n,this.er=a,this.nr=c,this.sr=p,this.credentialsProvider=C,this.listener=M,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new mf(n,i)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var n=this;return(0,f.Z)(function*(){n.ur()&&(yield n.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(n){this.gr(),this.stream.send(n)}_r(){var n=this;return(0,f.Z)(function*(){if(n.hr())return n.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(n,i){var a=this;return(0,f.Z)(function*(){a.gr(),a.yr(),a.ar.cancel(),a.ir++,4!==n?a.ar.reset():i&&i.code===st.RESOURCE_EXHAUSTED?(Nr(i.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),a.ar.Yi()):i&&i.code===st.UNAUTHENTICATED&&3!==a.state&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.pr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(i)})()}pr(){}auth(){this.state=1;const n=this.Tr(this.ir),i=this.ir;this.credentialsProvider.getToken().then(a=>{this.ir===i&&this.Er(a)},a=>{n(()=>{const c=new kt(st.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Ir(c)})})}Er(n){const i=this.Tr(this.ir);this.stream=this.Ar(n),this.stream.Si(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.Ir(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}lr(){var n=this;this.state=5,this.ar.Xi((0,f.Z)(function*(){n.state=0,n.start()}))}Ir(n){return Gt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Tr(n){return i=>{this.Oe.enqueueAndForget(()=>this.ir===n?i():(Gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _g extends yy{constructor(n,i,a,c,p){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,p),this.N=c}Ar(n){return this.sr.ji("Listen",n)}onMessage(n){this.ar.reset();const i=function(s,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(B=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:_n(),c=n.targetChange.targetIds||[],p=function(B,X){return B.D?(Dn(void 0===X||"string"==typeof X),br.fromBase64String(X||"")):(Dn(void 0===X||X instanceof Uint8Array),br.fromUint8Array(X||new Uint8Array))}(s,n.targetChange.resumeToken),C=n.targetChange.cause,M=C&&function(B){const X=void 0===B.code?st.UNKNOWN:Ca(B.code);return new kt(X,B.message||"")}(C);i=new j(a,c,p,M||null)}else if("documentChange"in n){const a=n.documentChange,c=bo(s,a.document.name),p=vi(a.document.updateTime),C=new Xr({mapValue:{fields:a.document.fields}}),M=Fr.newFoundDocument(c,p,C);i=new g(a.targetIds||[],a.removedTargetIds||[],M.key,M)}else if("documentDelete"in n){const a=n.documentDelete,c=bo(s,a.document),p=a.readTime?vi(a.readTime):U.min(),C=Fr.newNoDocument(c,p);i=new g([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in n){const a=n.documentRemove,c=bo(s,a.document);i=new g([],a.removedTargetIds||[],c,null)}else{if(!("filter"in n))return _n();{const a=n.filter,p=new Ec(a.count||0);i=new T(a.targetId,p)}}var B;return i}(this.N,n),a=function(c){if(!("targetChange"in c))return U.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?U.min():p.readTime?vi(p.readTime):U.min()}(n);return this.listener.Rr(i,a)}br(n){const i={};i.database=Ka(this.N),i.addTarget=function(c,p){let C;const M=p.target;return C=vu(M)?{documents:Hp(c,M)}:{query:Wp(c,M)},C.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?C.resumeToken=Da(c,p.resumeToken):p.snapshotVersion.compareTo(U.min())>0&&(C.readTime=Qs(c,p.snapshotVersion.toTimestamp())),C}(this.N,n);const a=function(s,n){const i=function(a,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.mr(i)}Pr(n){const i={};i.database=Ka(this.N),i.removeTarget=n,this.mr(i)}}class vg extends yy{constructor(n,i,a,c,p){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,p),this.N=c,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(n){return this.sr.ji("Write",n)}onMessage(n){if(Dn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.vr){this.ar.reset();const i=function(s,n){return s&&s.length>0?(Dn(void 0!==n),s.map(i=>function(a,c){let p=vi(a.updateTime?a.updateTime:c);return p.isEqual(U.min())&&(p=vi(c)),new wu(p,a.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=vi(n.commitTime);return this.listener.Dr(a,i)}return Dn(!n.writeResults||0===n.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const n={};n.database=Ka(this.N),this.mr(n)}Sr(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>Ol(this.N,a))};this.mr(i)}}class _y extends class{}{constructor(n,i,a){super(),this.credentials=n,this.sr=i,this.N=a,this.kr=!1}$r(){if(this.kr)throw new kt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Li(n,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===st.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new kt(st.UNKNOWN,c.toString())})}Ki(n,i,a){return this.$r(),this.credentials.getToken().then(c=>this.sr.Ki(n,i,a,c)).catch(c=>{throw"FirebaseError"===c.name?(c.code===st.UNAUTHENTICATED&&this.credentials.invalidateToken(),c):new kt(st.UNKNOWN,c.toString())})}terminate(){this.kr=!0}}class yf{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(n){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Br("Offline")))}set(n){this.Kr(),this.Or=0,"Online"===n&&(this.Mr=!1),this.Br(n)}Br(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Ur(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Nr(i),this.Mr=!1):Gt("OnlineStateTracker",i)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Tv{constructor(n,i,a,c,p){var C=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=p,this.zr.Ti(M=>{a.enqueueAndForget((0,f.Z)(function*(){var B;Aa(C)&&(Gt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,f.Z)(function*(X){const ve=jt(X);ve.Wr.add(4),yield zc(ve),ve.Hr.set("Unknown"),ve.Wr.delete(4),yield Kd(ve)}),function(X){return B.apply(this,arguments)})(C))}))}),this.Hr=new yf(a,c)}}function Kd(s){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,f.Z)(function*(s){if(Aa(s))for(const n of s.Gr)yield n(!0)}),Eg.apply(this,arguments)}function zc(s){return wg.apply(this,arguments)}function wg(){return wg=(0,f.Z)(function*(s){for(const n of s.Gr)yield n(!1)}),wg.apply(this,arguments)}function _f(s,n){const i=jt(s);i.Qr.has(n.targetId)||(i.Qr.set(n.targetId,n),Ta(i)?Cg(i):Xa(i).hr()&&Ig(i,n))}function qd(s,n){const i=jt(s),a=Xa(i);i.Qr.delete(n),a.hr()&&vy(i,n),0===i.Qr.size&&(a.hr()?a.wr():Aa(i)&&i.Hr.set("Unknown"))}function Ig(s,n){s.Jr.Y(n.targetId),Xa(s).br(n)}function vy(s,n){s.Jr.Y(n),Xa(s).Pr(n)}function Cg(s){s.Jr=new Je({getRemoteKeysForTarget:n=>s.remoteSyncer.getRemoteKeysForTarget(n),Tt:n=>s.Qr.get(n)||null}),Xa(s).start(),s.Hr.Lr()}function Ta(s){return Aa(s)&&!Xa(s).ur()&&s.Qr.size>0}function Aa(s){return 0===jt(s).Wr.size}function Dg(s){s.Jr=void 0}function bg(s){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,f.Z)(function*(s){s.Qr.forEach((n,i)=>{Ig(s,n)})}),Kc.apply(this,arguments)}function Tg(s,n){return qc.apply(this,arguments)}function qc(){return qc=(0,f.Z)(function*(s,n){Dg(s),Ta(s)?(s.Hr.qr(n),Cg(s)):s.Hr.set("Unknown")}),qc.apply(this,arguments)}function Ey(s,n,i){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,f.Z)(function*(s,n,i){if(s.Hr.set("Online"),n instanceof j&&2===n.state&&n.cause)try{yield(a=(0,f.Z)(function*(c,p){const C=p.cause;for(const M of p.targetIds)c.Qr.has(M)&&(yield c.remoteSyncer.rejectListen(M,C),c.Qr.delete(M),c.Jr.removeTarget(M))}),function(c,p){return a.apply(this,arguments)})(s,n)}catch(a){Gt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield Zc(s,a)}else if(n instanceof g?s.Jr.rt(n):n instanceof T?s.Jr.ft(n):s.Jr.at(n),!i.isEqual(U.min()))try{const a=yield rf(s.localStore);i.compareTo(a)>=0&&(yield function(c,p){const C=c.Jr._t(p);return C.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const X=c.Qr.get(B);X&&c.Qr.set(B,X.withResumeToken(M.resumeToken,p))}}),C.targetMismatches.forEach(M=>{const B=c.Qr.get(M);if(!B)return;c.Qr.set(M,B.withResumeToken(br.EMPTY_BYTE_STRING,B.snapshotVersion)),vy(c,M);const X=new Au(B.target,M,1,B.sequenceNumber);Ig(c,X)}),c.remoteSyncer.applyRemoteEvent(C)}(s,i))}catch(a){Gt("RemoteStore","Failed to raise snapshot:",a),yield Zc(s,a)}var a}),Sa.apply(this,arguments)}function Zc(s,n,i){return vf.apply(this,arguments)}function vf(){return vf=(0,f.Z)(function*(s,n,i){if(!Qu(n))throw n;s.Wr.add(1),yield zc(s),s.Hr.set("Offline"),i||(i=()=>rf(s.localStore)),s.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Gt("RemoteStore","Retrying IndexedDB access"),yield i(),s.Wr.delete(1),yield Kd(s)}))}),vf.apply(this,arguments)}function Zd(s,n){return n().catch(i=>Zc(s,i,n))}function Hl(s){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,f.Z)(function*(s){const n=jt(s),i=Nu(n);let a=n.jr.length>0?n.jr[n.jr.length-1].batchId:-1;for(;wy(n);)try{const c=yield ly(n.localStore,a);if(null===c){0===n.jr.length&&i.wr();break}a=c.batchId,Iy(n,c)}catch(c){yield Zc(n,c)}Wl(n)&&sl(n)}),Yd.apply(this,arguments)}function wy(s){return Aa(s)&&s.jr.length<10}function Iy(s,n){s.jr.push(n);const i=Nu(s);i.hr()&&i.Vr&&i.Sr(n.mutations)}function Wl(s){return Aa(s)&&!Nu(s).ur()&&s.jr.length>0}function sl(s){Nu(s).start()}function Ef(s){return xu.apply(this,arguments)}function xu(){return xu=(0,f.Z)(function*(s){Nu(s).Nr()}),xu.apply(this,arguments)}function Yc(s){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,f.Z)(function*(s){const n=Nu(s);for(const i of s.jr)n.Sr(i.mutations)}),Mu.apply(this,arguments)}function Cy(s,n,i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,f.Z)(function*(s,n,i){const a=s.jr.shift(),c=qh.from(a,n,i);yield Zd(s,()=>s.remoteSyncer.applySuccessfulWrite(c)),yield Hl(s)}),Qd.apply(this,arguments)}function Ag(s,n){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,f.Z)(function*(s,n){var i;n&&Nu(s).Vr&&(yield(i=(0,f.Z)(function*(a,c){if(wc(p=c.code)&&p!==st.ABORTED){const C=a.jr.shift();Nu(a).dr(),yield Zd(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,c)),yield Hl(a)}var p}),function(a,c){return i.apply(this,arguments)})(s,n)),Wl(s)&&sl(s)}),Qc.apply(this,arguments)}function Jc(s,n){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,f.Z)(function*(s,n){const i=jt(s);n?(i.Wr.delete(2),yield Kd(i)):n||(i.Wr.add(2),yield zc(i),i.Hr.set("Unknown"))}),Jd.apply(this,arguments)}function Xa(s){return s.Yr||(s.Yr=function(n,i,a){const c=jt(n);return c.$r(),new _g(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:bg.bind(null,s),Ci:Tg.bind(null,s),Rr:Ey.bind(null,s)}),s.Gr.push(function(){var n=(0,f.Z)(function*(i){i?(s.Yr.dr(),Ta(s)?Cg(s):s.Hr.set("Unknown")):(yield s.Yr.stop(),Dg(s))});return function(i){return n.apply(this,arguments)}}())),s.Yr}function Nu(s){return s.Xr||(s.Xr=function(n,i,a){const c=jt(n);return c.$r(),new vg(i,c.sr,c.credentials,c.N,a)}(s.datastore,s.asyncQueue,{Si:Ef.bind(null,s),Ci:Ag.bind(null,s),Cr:Yc.bind(null,s),Dr:Cy.bind(null,s)}),s.Gr.push(function(){var n=(0,f.Z)(function*(i){i?(s.Xr.dr(),yield Hl(s)):(yield s.Xr.stop(),s.jr.length>0&&(Gt("RemoteStore",`Stopping write stream with ${s.jr.length} pending writes`),s.jr=[]))});return function(i){return n.apply(this,arguments)}}())),s.Xr}class Xd{constructor(n,i,a,c,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=p,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(n,i,a,c,p){const C=Date.now()+a,M=new Xd(n,i,C,c,p);return M.start(a),M}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(st.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xc(s,n){if(Nr("AsyncQueue",`${n}: ${s}`),Qu(s))return new kt(st.UNAVAILABLE,`${n}: ${s}`);throw s}class ol{constructor(n){this.comparator=n?(i,a)=>n(i,a)||wn.comparator(i.key,a.key):(i,a)=>wn.comparator(i.key,a.key),this.keyedMap=Ic(),this.sortedSet=new ki(this.comparator)}static emptySet(n){return new ol(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ol)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const c=i.getNext().key,p=a.getNext().key;if(!c.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new ol;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class wf{constructor(){this.Zr=new ki(wn.comparator)}track(n){const i=n.doc.key,a=this.Zr.get(i);a?0!==n.type&&3===a.type?this.Zr=this.Zr.insert(i,n):3===n.type&&1!==a.type?this.Zr=this.Zr.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Zr=this.Zr.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Zr=this.Zr.remove(i):1===n.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:n.doc}):_n():this.Zr=this.Zr.insert(i,n)}eo(){const n=[];return this.Zr.inorderTraversal((i,a)=>{n.push(a)}),n}}class Gl{constructor(n,i,a,c,p,C,M,B){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=p,this.fromCache=C,this.syncStateChanged=M,this.excludesMetadataChanges=B}static fromInitialDocuments(n,i,a,c){const p=[];return i.forEach(C=>{p.push({type:0,doc:C})}),new Gl(n,i,ol.emptySet(i),p,a,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Co(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0}}class Sg{constructor(){this.no=void 0,this.listeners=[]}}class Dy{constructor(){this.queries=new Fl(n=>Ha(n),Co),this.onlineState="Unknown",this.so=new Set}}function If(s,n){return no.apply(this,arguments)}function no(){return no=(0,f.Z)(function*(s,n){const i=jt(s),a=n.query;let c=!1,p=i.queries.get(a);if(p||(c=!0,p=new Sg),c)try{p.no=yield i.onListen(a)}catch(C){const M=Xc(C,`Initialization of query '${gc(n.query)}' failed`);return void n.onError(M)}i.queries.set(a,p),p.listeners.push(n),n.io(i.onlineState),p.no&&n.ro(p.no)&&eh(i)}),no.apply(this,arguments)}function Cf(s,n){return Df.apply(this,arguments)}function Df(){return Df=(0,f.Z)(function*(s,n){const i=jt(s),a=n.query;let c=!1;const p=i.queries.get(a);if(p){const C=p.listeners.indexOf(n);C>=0&&(p.listeners.splice(C,1),c=0===p.listeners.length)}if(c)return i.queries.delete(a),i.onUnlisten(a)}),Df.apply(this,arguments)}function Av(s,n){const i=jt(s);let a=!1;for(const c of n){const C=i.queries.get(c.query);if(C){for(const M of C.listeners)M.ro(c)&&(a=!0);C.no=c}}a&&eh(i)}function Sv(s,n,i){const a=jt(s),c=a.queries.get(n);if(c)for(const p of c.listeners)p.onError(i);a.queries.delete(n)}function eh(s){s.so.forEach(n=>{n.next()})}class Rg{constructor(n,i,a){this.query=n,this.oo=i,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=a||{}}ro(n){if(!this.options.includeMetadataChanges){const a=[];for(const c of n.docChanges)3!==c.type&&a.push(c);n=new Gl(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let i=!1;return this.co?this.uo(n)&&(this.oo.next(n),i=!0):this.ho(n,this.onlineState)&&(this.lo(n),i=!0),this.ao=n,i}onError(n){this.oo.error(n)}io(n){this.onlineState=n;let i=!1;return this.ao&&!this.co&&this.ho(this.ao,n)&&(this.lo(this.ao),i=!0),i}ho(n,i){return!n.fromCache||!(this.options.fo&&"Offline"!==i||n.docs.isEmpty()&&"Offline"!==i)}uo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(n){n=Gl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.co=!0,this.oo.next(n)}}class by{constructor(n,i){this.payload=n,this.byteLength=i}wo(){return"metadata"in this.payload}}class th{constructor(n){this.N=n}zn(n){return bo(this.N,n)}Hn(n){return n.metadata.exists?Zu(this.N,n.document,!1):Fr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return vi(n)}}class xg{constructor(n,i,a){this._o=n,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=Mg(n)}mo(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++i):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}yo(n){const i=new Map,a=new th(this.N);for(const c of n)if(c.metadata.queries){const p=a.zn(c.metadata.name);for(const C of c.metadata.queries){const M=(i.get(C)||Pr()).add(p);i.set(C,M)}}return i}complete(){var n=this;return(0,f.Z)(function*(){const i=yield function(s,n,i,a){return lf.apply(this,arguments)}(n.localStore,new th(n.N),n.documents,n._o.id),a=n.yo(n.documents);for(const c of n.queries)yield dy(n.localStore,c,a.get(c.name));return n.progress.taskState="Success",new jc(Object.assign({},n.progress),i)})()}}function Mg(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Ng{constructor(n){this.key=n}}class Og{constructor(n){this.key=n}}class bf{constructor(n,i){this.query=n,this.po=i,this.To=null,this.current=!1,this.Eo=Pr(),this.mutatedKeys=Pr(),this.Io=mc(n),this.Ao=new ol(this.Io)}get Ro(){return this.po}bo(n,i){const a=i?i.Po:new wf,c=i?i.Ao:this.Ao;let p=i?i.mutatedKeys:this.mutatedKeys,C=c,M=!1;const B=Ys(this.query)&&c.size===this.query.limit?c.last():null,X=Os(this.query)&&c.size===this.query.limit?c.first():null;if(n.inorderTraversal((ve,Ue)=>{const ft=c.get(ve),xt=ei(this.query,Ue)?Ue:null,Kt=!!ft&&this.mutatedKeys.has(ft.key),Cn=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let sr=!1;ft&&xt?ft.data.isEqual(xt.data)?Kt!==Cn&&(a.track({type:3,doc:xt}),sr=!0):this.vo(ft,xt)||(a.track({type:2,doc:xt}),sr=!0,(B&&this.Io(xt,B)>0||X&&this.Io(xt,X)<0)&&(M=!0)):!ft&&xt?(a.track({type:0,doc:xt}),sr=!0):ft&&!xt&&(a.track({type:1,doc:ft}),sr=!0,(B||X)&&(M=!0)),sr&&(xt?(C=C.add(xt),p=Cn?p.add(ve):p.delete(ve)):(C=C.delete(ve),p=p.delete(ve)))}),Ys(this.query)||Os(this.query))for(;C.size>this.query.limit;){const ve=Ys(this.query)?C.last():C.first();C=C.delete(ve.key),p=p.delete(ve.key),a.track({type:1,doc:ve})}return{Ao:C,Po:a,Ln:M,mutatedKeys:p}}vo(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a){const c=this.Ao;this.Ao=n.Ao,this.mutatedKeys=n.mutatedKeys;const p=n.Po.eo();p.sort((X,ve)=>function(Ue,ft){const xt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return xt(Ue)-xt(ft)}(X.type,ve.type)||this.Io(X.doc,ve.doc)),this.Vo(a);const C=i?this.So():[],M=0===this.Eo.size&&this.current?1:0,B=M!==this.To;return this.To=M,0!==p.length||B?{snapshot:new Gl(this.query,n.Ao,c,p,n.mutatedKeys,0===M,B,!1),Do:C}:{Do:C}}io(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new wf,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(n){return!this.po.has(n)&&!!this.Ao.has(n)&&!this.Ao.get(n).hasLocalMutations}Vo(n){n&&(n.addedDocuments.forEach(i=>this.po=this.po.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.po=this.po.delete(i)),this.current=n.current)}So(){if(!this.current)return[];const n=this.Eo;this.Eo=Pr(),this.Ao.forEach(a=>{this.Co(a.key)&&(this.Eo=this.Eo.add(a.key))});const i=[];return n.forEach(a=>{this.Eo.has(a)||i.push(new Og(a))}),this.Eo.forEach(a=>{n.has(a)||i.push(new Ng(a))}),i}No(n){this.po=n.Gn,this.Eo=Pr();const i=this.bo(n.documents);return this.applyChanges(i,!0)}xo(){return Gl.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Ty{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Pg{constructor(n){this.key=n,this.ko=!1}}class Ay{constructor(n,i,a,c,p,C){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=p,this.maxConcurrentLimboResolutions=C,this.$o={},this.Oo=new Fl(M=>Ha(M),Co),this.Fo=new Map,this.Mo=new Set,this.Lo=new ki(wn.comparator),this.Bo=new Map,this.Uo=new $d,this.qo={},this.Ko=new Map,this.jo=tl.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Sy(s,n){return nh.apply(this,arguments)}function nh(){return nh=(0,f.Z)(function*(s,n){const i=id(s);let a,c;const p=i.Oo.get(n);if(p)a=p.targetId,i.sharedClientState.addLocalQueryTarget(a),c=p.view.xo();else{const C=yield Ul(i.localStore,Ps(n)),M=i.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,c=yield rh(i,n,a,"current"===M),i.isPrimaryClient&&_f(i.remoteStore,C)}return c}),nh.apply(this,arguments)}function rh(s,n,i,a){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,f.Z)(function*(s,n,i,a){s.Wo=(ve,Ue,ft)=>{return(xt=(0,f.Z)(function*(Kt,Cn,sr,Li){let ua=Cn.view.bo(sr);ua.Ln&&(ua=yield $c(Kt.localStore,Cn.query,!1).then(({documents:Ih})=>Cn.view.bo(Ih,ua)));const oc=Li&&Li.targetChanges.get(Cn.targetId),ac=Cn.view.applyChanges(ua,Kt.isPrimaryClient,oc);return Of(Kt,Cn.targetId,ac.Do),ac.snapshot}),function(Kt,Cn,sr,Li){return xt.apply(this,arguments)})(s,ve,Ue,ft);var xt};const c=yield $c(s.localStore,n,!0),p=new bf(n,c.Gn),C=p.bo(c.documents),M=h.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),B=p.applyChanges(C,s.isPrimaryClient,M);Of(s,i,B.Do);const X=new Ty(n,i,p);return s.Oo.set(n,X),s.Fo.has(i)?s.Fo.get(i).push(n):s.Fo.set(i,[n]),B.snapshot}),Tf.apply(this,arguments)}function Ra(s,n){return ed.apply(this,arguments)}function ed(){return ed=(0,f.Z)(function*(s,n){const i=jt(s),a=i.Oo.get(n),c=i.Fo.get(a.targetId);if(c.length>1)return i.Fo.set(a.targetId,c.filter(p=>!Co(p,n))),void i.Oo.delete(n);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Vs(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),qd(i.remoteStore,a.targetId),al(i,a.targetId)}).catch(Qa))):(al(i,a.targetId),yield Vs(i.localStore,a.targetId,!0))}),ed.apply(this,arguments)}function Af(){return Af=(0,f.Z)(function*(s,n,i){const a=Uf(s);try{const c=yield function(p,C){const M=jt(p),B=k.now(),X=C.reduce((Ue,ft)=>Ue.add(ft.key),Pr());let ve;return M.persistence.runTransaction("Locally write mutations","readwrite",Ue=>M.Qn.Pn(Ue,X).next(ft=>{ve=ft;const xt=[];for(const Kt of C){const Cn=jh(Kt,ve.get(Kt.key));null!=Cn&&xt.push(new Vo(Kt.key,Cn,_u(Cn.value.mapValue),bi.exists(!0)))}return M.In.addMutationBatch(Ue,B,xt,C)})).then(Ue=>(Ue.applyToLocalDocumentSet(ve),{batchId:Ue.batchId,changes:ve}))}(a.localStore,n);a.sharedClientState.addPendingMutation(c.batchId),function(p,C,M){let B=p.qo[p.currentUser.toKey()];B||(B=new ki(E)),B=B.insert(C,M),p.qo[p.currentUser.toKey()]=B}(a,c.batchId,i),yield eu(a,c.changes),yield Hl(a.remoteStore)}catch(c){const p=Xc(c,"Failed to persist write");i.reject(p)}}),Af.apply(this,arguments)}function xy(s,n){return ih.apply(this,arguments)}function ih(){return ih=(0,f.Z)(function*(s,n){const i=jt(s);try{const a=yield uy(i.localStore,n);n.targetChanges.forEach((c,p)=>{const C=i.Bo.get(p);C&&(Dn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?C.ko=!0:c.modifiedDocuments.size>0?Dn(C.ko):c.removedDocuments.size>0&&(Dn(C.ko),C.ko=!1))}),yield eu(i,a,n)}catch(a){yield Qa(a)}}),ih.apply(this,arguments)}function kg(s,n,i){const a=jt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const c=[];a.Oo.forEach((p,C)=>{const M=C.view.io(n);M.snapshot&&c.push(M.snapshot)}),function(p,C){const M=jt(p);M.onlineState=C;let B=!1;M.queries.forEach((X,ve)=>{for(const Ue of ve.listeners)Ue.io(C)&&(B=!0)}),B&&eh(M)}(a.eventManager,n),c.length&&a.$o.Rr(c),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function My(s,n,i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,f.Z)(function*(s,n,i){const a=jt(s);a.sharedClientState.updateQueryState(n,"rejected",i);const c=a.Bo.get(n),p=c&&c.key;if(p){let C=new ki(wn.comparator);C=C.insert(p,Fr.newNoDocument(p,U.min()));const M=Pr().add(p),B=new w(U.min(),new Map,new ti(E),C,M);yield xy(a,B),a.Lo=a.Lo.remove(p),a.Bo.delete(n),Lg(a)}else yield Vs(a.localStore,n,!1).then(()=>al(a,n,i)).catch(Qa)}),Sf.apply(this,arguments)}function Rf(s,n){return xf.apply(this,arguments)}function xf(){return xf=(0,f.Z)(function*(s,n){const i=jt(s),a=n.batch.batchId;try{const c=yield bv(i.localStore,n);nd(i,a,null),td(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield eu(i,c)}catch(c){yield Qa(c)}}),xf.apply(this,arguments)}function Ny(s,n,i){return zl.apply(this,arguments)}function zl(){return zl=(0,f.Z)(function*(s,n,i){const a=jt(s);try{const c=yield function(p,C){const M=jt(p);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let X;return M.In.lookupMutationBatch(B,C).next(ve=>(Dn(null!==ve),X=ve.keys(),M.In.removeMutationBatch(B,ve))).next(()=>M.In.performConsistencyCheck(B)).next(()=>M.Qn.Pn(B,X))})}(a.localStore,n);nd(a,n,i),td(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield eu(a,c)}catch(c){yield Qa(c)}}),zl.apply(this,arguments)}function Nf(){return Nf=(0,f.Z)(function*(s,n){const i=jt(s);Aa(i.remoteStore)||Gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(p){const C=jt(p);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>C.In.getHighestUnacknowledgedBatchId(M))}(i.localStore);if(-1===a)return void n.resolve();const c=i.Ko.get(a)||[];c.push(n),i.Ko.set(a,c)}catch(a){const c=Xc(a,"Initialization of waitForPendingWrites() operation failed");n.reject(c)}}),Nf.apply(this,arguments)}function td(s,n){(s.Ko.get(n)||[]).forEach(i=>{i.resolve()}),s.Ko.delete(n)}function nd(s,n,i){const a=jt(s);let c=a.qo[a.currentUser.toKey()];if(c){const p=c.get(n);p&&(i?p.reject(i):p.resolve(),c=c.remove(n)),a.qo[a.currentUser.toKey()]=c}}function al(s,n,i=null){s.sharedClientState.removeLocalQueryTarget(n);for(const a of s.Fo.get(n))s.Oo.delete(a),i&&s.$o.Go(a,i);s.Fo.delete(n),s.isPrimaryClient&&s.Uo.cs(n).forEach(a=>{s.Uo.containsKey(a)||Fg(s,a)})}function Fg(s,n){s.Mo.delete(n.path.canonicalString());const i=s.Lo.get(n);null!==i&&(qd(s.remoteStore,i),s.Lo=s.Lo.remove(n),s.Bo.delete(i),Lg(s))}function Of(s,n,i){for(const a of i)a instanceof Ng?(s.Uo.addReference(a.key,n),Pf(s,a)):a instanceof Og?(Gt("SyncEngine","Document no longer in limbo: "+a.key),s.Uo.removeReference(a.key,n),s.Uo.containsKey(a.key)||Fg(s,a.key)):_n()}function Pf(s,n){const i=n.key,a=i.path.canonicalString();s.Lo.get(i)||s.Mo.has(a)||(Gt("SyncEngine","New document in limbo: "+i),s.Mo.add(a),Lg(s))}function Lg(s){for(;s.Mo.size>0&&s.Lo.size<s.maxConcurrentLimboResolutions;){const n=s.Mo.values().next().value;s.Mo.delete(n);const i=new wn(sn.fromString(n)),a=s.jo.next();s.Bo.set(a,new Pg(i)),s.Lo=s.Lo.insert(i,a),_f(s.remoteStore,new Au(Ps(_i(i.path)),a,2,Mi.T))}}function eu(s,n,i){return sh.apply(this,arguments)}function sh(){return sh=(0,f.Z)(function*(s,n,i){const a=jt(s),c=[],p=[],C=[];var M;a.Oo.isEmpty()||(a.Oo.forEach((M,B)=>{C.push(a.Wo(B,n,i).then(X=>{if(X){a.isPrimaryClient&&a.sharedClientState.updateQueryState(B.targetId,X.fromCache?"not-current":"current"),c.push(X);const ve=Ud.kn(B.targetId,X);p.push(ve)}}))}),yield Promise.all(C),a.$o.Rr(c),yield(M=(0,f.Z)(function*(B,X){const ve=jt(B);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ue=>Nt.forEach(X,ft=>Nt.forEach(ft.Nn,xt=>ve.persistence.referenceDelegate.addReference(Ue,ft.targetId,xt)).next(()=>Nt.forEach(ft.xn,xt=>ve.persistence.referenceDelegate.removeReference(Ue,ft.targetId,xt)))))}catch(Ue){if(!Qu(Ue))throw Ue;Gt("LocalStore","Failed to update sequence numbers: "+Ue)}for(const Ue of X){const ft=Ue.targetId;if(!Ue.fromCache){const xt=ve.Un.get(ft),Cn=xt.withLastLimboFreeSnapshotVersion(xt.snapshotVersion);ve.Un=ve.Un.insert(ft,Cn)}}}),function(B,X){return M.apply(this,arguments)})(a.localStore,p))}),sh.apply(this,arguments)}function Vg(s,n){return oh.apply(this,arguments)}function oh(){return oh=(0,f.Z)(function*(s,n){const i=jt(s);if(!i.currentUser.isEqual(n)){Gt("SyncEngine","User change. New user:",n.toKey());const a=yield Bd(i.localStore,n);i.currentUser=n,(c=i).Ko.forEach(C=>{C.forEach(M=>{M.reject(new kt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ko.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield eu(i,a.Wn)}var c}),oh.apply(this,arguments)}function Ug(s,n){const i=jt(s),a=i.Bo.get(n);if(a&&a.ko)return Pr().add(a.key);{let c=Pr();const p=i.Fo.get(n);if(!p)return c;for(const C of p){const M=i.Oo.get(C);c=c.unionWith(M.view.Ro)}return c}}function Bg(s,n){return sa.apply(this,arguments)}function sa(){return sa=(0,f.Z)(function*(s,n){const i=jt(s),a=yield $c(i.localStore,n.query,!0),c=n.view.No(a);return i.isPrimaryClient&&Of(i,n.targetId,c.Do),c}),sa.apply(this,arguments)}function ah(s){return kf.apply(this,arguments)}function kf(){return kf=(0,f.Z)(function*(s){const n=jt(s);return fg(n.localStore).then(i=>eu(n,i))}),kf.apply(this,arguments)}function Oy(s,n,i,a){return jg.apply(this,arguments)}function jg(){return jg=(0,f.Z)(function*(s,n,i,a){const c=jt(s),p=yield function(C,M){const B=jt(C),X=jt(B.In);return B.persistence.runTransaction("Lookup mutation documents","readonly",ve=>X.Xt(ve,M).next(Ue=>Ue?B.Qn.Pn(ve,Ue):Nt.resolve(null)))}(c.localStore,n);var M;null!==p?("pending"===i?yield Hl(c.remoteStore):"acknowledged"===i||"rejected"===i?(nd(c,n,a||null),td(c,n),M=n,jt(jt(c.localStore).In).te(M)):_n(),yield eu(c,p)):Gt("SyncEngine","Cannot apply mutation batch with id: "+n)}),jg.apply(this,arguments)}function uh(){return uh=(0,f.Z)(function*(s,n){const i=jt(s);if(id(i),Uf(i),!0===n&&!0!==i.Qo){const a=i.sharedClientState.getAllActiveQueryTargets(),c=yield Kl(i,a.toArray());i.Qo=!0,yield Jc(i.remoteStore,!0);for(const p of c)_f(i.remoteStore,p)}else if(!1===n&&!1!==i.Qo){const a=[];let c=Promise.resolve();i.Fo.forEach((p,C)=>{i.sharedClientState.isLocalQueryTarget(C)?a.push(C):c=c.then(()=>(al(i,C),Vs(i.localStore,C,!0))),qd(i.remoteStore,C)}),yield c,yield Kl(i,a),function(p){const C=jt(p);C.Bo.forEach((M,B)=>{qd(C.remoteStore,B)}),C.Uo.us(),C.Bo=new Map,C.Lo=new ki(wn.comparator)}(i),i.Qo=!1,yield Jc(i.remoteStore,!1)}}),uh.apply(this,arguments)}function Kl(s,n,i){return ul.apply(this,arguments)}function ul(){return ul=(0,f.Z)(function*(s,n,i){const a=jt(s),c=[],p=[];for(const C of n){let M;const B=a.Fo.get(C);if(B&&0!==B.length){M=yield Ul(a.localStore,Ps(B[0]));for(const X of B){const ve=a.Oo.get(X),Ue=yield Bg(a,ve);Ue.snapshot&&p.push(Ue.snapshot)}}else{const X=yield hg(a.localStore,C);M=yield Ul(a.localStore,X),yield rh(a,$g(X),C,!1)}c.push(M)}return a.$o.Rr(p),c}),ul.apply(this,arguments)}function $g(s){return gr(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Ff(s){const n=jt(s);return jt(jt(n.localStore).persistence).pn()}function Hg(s,n,i,a){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,f.Z)(function*(s,n,i,a){const c=jt(s);if(c.Qo)Gt("SyncEngine","Ignoring unexpected query state notification.");else if(c.Fo.has(n))switch(i){case"current":case"not-current":{const p=yield fg(c.localStore),C=w.createSynthesizedRemoteEventForCurrentChange(n,"current"===i);yield eu(c,p,C);break}case"rejected":yield Vs(c.localStore,n,!0),al(c,n,a);break;default:_n()}}),Lf.apply(this,arguments)}function Wg(s,n,i){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,f.Z)(function*(s,n,i){const a=id(s);if(a.Qo){for(const c of n){if(a.Fo.has(c)){Gt("SyncEngine","Adding an already active target "+c);continue}const p=yield hg(a.localStore,c),C=yield Ul(a.localStore,p);yield rh(a,$g(p),C.targetId,!1),_f(a.remoteStore,C)}for(const c of i)a.Fo.has(c)&&(yield Vs(a.localStore,c,!1).then(()=>{qd(a.remoteStore,c),al(a,c)}).catch(Qa))}}),Vf.apply(this,arguments)}function id(s){const n=jt(s);return n.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ug.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=My.bind(null,n),n.$o.Rr=Av.bind(null,n.eventManager),n.$o.Go=Sv.bind(null,n.eventManager),n}function Uf(s){const n=jt(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Rf.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Ny.bind(null,n),n}class Bf{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,f.Z)(function*(){i.N=zd(n.databaseInfo.databaseId),i.sharedClientState=i.Ho(n),i.persistence=i.Jo(n),yield i.persistence.start(),i.gcScheduler=i.Yo(n),i.localStore=i.Xo(n)})()}Yo(n){return null}Xo(n){return nf(this.persistence,new dg,n.initialUser,this.N)}Jo(n){return new hy(ia.Ns,this.N)}Ho(n){return new Gd}terminate(){var n=this;return(0,f.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class ll extends Bf{constructor(n,i,a){super(),this.Zo=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,f.Z)(function*(){yield i().call(a,n),yield function(s){return uf.apply(this,arguments)}(a.localStore),yield a.Zo.initialize(a,n),yield Uf(a.Zo.syncEngine),yield Hl(a.Zo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Xo(n){return nf(this.persistence,new dg,n.initialUser,this.N)}Yo(n){return new og(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Jo(n){const i=Bc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new Vd(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,yg(),Gc(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(n){return new Gd}}class Gg extends ll{constructor(n,i){super(n,i,!1),this.Zo=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,f.Z)(function*(){yield i().call(a,n);const c=a.Zo.syncEngine;a.sharedClientState instanceof Wc&&(a.sharedClientState.syncEngine={_i:Oy.bind(null,c),mi:Hg.bind(null,c),gi:Wg.bind(null,c),pn:Ff.bind(null,c),wi:ah.bind(null,c)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var p=(0,f.Z)(function*(C){yield function(s,n){return uh.apply(this,arguments)}(a.Zo.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):C||a.gcScheduler.stop())});return function(C){return p.apply(this,arguments)}}())})()}Ho(n){const i=yg();if(!Wc.bt(i))throw new kt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Bc(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Wc(i,n.asyncQueue,a,n.clientId,n.initialUser)}}class jf{initialize(n,i){var a=this;return(0,f.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=c=>kg(a.syncEngine,c,1),a.remoteStore.remoteSyncer.handleCredentialChange=Vg.bind(null,a.syncEngine),yield Jc(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Dy}createDatastore(n){const i=zd(n.databaseInfo.databaseId),a=new my(n.databaseInfo);return new _y(n.credentials,a,i)}createRemoteStore(n){return i=this.localStore,a=this.datastore,c=n.asyncQueue,p=M=>kg(this.syncEngine,M,0),C=fy.bt()?new fy:new gf,new Tv(i,a,c,p,C);var i,a,c,p,C}createSyncEngine(n,i){return function(a,c,p,C,M,B,X){const ve=new Ay(a,c,p,C,M,B);return X&&(ve.Qo=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){return(n=(0,f.Z)(function*(i){const a=jt(i);Gt("RemoteStore","RemoteStore shutting down."),a.Wr.add(5),yield zc(a),a.zr.shutdown(),a.Hr.set("Unknown")}),function(i){return n.apply(this,arguments)})(this.remoteStore);var n}}function zg(s,n=10240){let i=0;return{read:()=>(0,f.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tu{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.tc(this.observer.next,n)}error(n){this.observer.error?this.tc(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}ec(){this.muted=!0}tc(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class ky{constructor(n,i){this.nc=n,this.N=i,this.metadata=new Jr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(a=>{a&&a.wo()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.nc.cancel()}getMetadata(){var n=this;return(0,f.Z)(function*(){return n.metadata.promise})()}zo(){var n=this;return(0,f.Z)(function*(){return yield n.getMetadata(),n.ic()})()}ic(){var n=this;return(0,f.Z)(function*(){const i=yield n.rc();if(null===i)return null;const a=n.sc.decode(i),c=Number(a);isNaN(c)&&n.oc(`length string (${a}) is not valid number`);const p=yield n.cc(c);return new by(JSON.parse(p),i.length+c)})()}ac(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}rc(){var n=this;return(0,f.Z)(function*(){for(;n.ac()<0&&!(yield n.uc()););if(0===n.buffer.length)return null;const i=n.ac();i<0&&n.oc("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}cc(n){var i=this;return(0,f.Z)(function*(){for(;i.buffer.length<n;)(yield i.uc())&&i.oc("Reached the end of bundle when more is expected.");const a=i.sc.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}oc(n){throw this.nc.cancel(),new Error(`Invalid bundle format: ${n}`)}uc(){var n=this;return(0,f.Z)(function*(){const i=yield n.nc.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class Fy{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,f.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new kt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(c=(0,f.Z)(function*(p,C){const M=jt(p),B=Ka(M.N)+"/documents",X={documents:C.map(xt=>Ku(M.N,xt))},ve=yield M.Ki("BatchGetDocuments",B,X),Ue=new Map;ve.forEach(xt=>{const Kt=function(s,n){return"found"in n?function(i,a){Dn(!!a.found);const c=bo(i,a.found.name),p=vi(a.found.updateTime),C=new Xr({mapValue:{fields:a.found.fields}});return Fr.newFoundDocument(c,p,C)}(s,n):"missing"in n?function(i,a){Dn(!!a.missing),Dn(!!a.readTime);const c=bo(i,a.missing),p=vi(a.readTime);return Fr.newNoDocument(c,p)}(s,n):_n()}(M.N,xt);Ue.set(Kt.key.toString(),Kt)});const ft=[];return C.forEach(xt=>{const Kt=Ue.get(xt.toString());Dn(!!Kt),ft.push(Kt)}),ft}),function(p,C){return c.apply(this,arguments)})(i.datastore,n);var c;return a.forEach(c=>i.recordVersion(c)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Rl(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,f.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,c)=>{const p=wn.fromPath(c);n.mutations.push(new Cu(p,n.precondition(p)))}),yield(a=(0,f.Z)(function*(c,p){const C=jt(c),M=Ka(C.N)+"/documents",B={writes:p.map(X=>Ol(C.N,X))};yield C.Li("Commit",M,B)}),function(c,p){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw _n();i=U.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new kt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?bi.updateTime(i):bi.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(U.min()))throw new kt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(i)}return bi.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Ly{constructor(n,i,a,c){this.asyncQueue=n,this.datastore=i,this.updateFunction=a,this.deferred=c,this.hc=5,this.ar=new mf(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var n=this;this.ar.Xi((0,f.Z)(function*(){const i=new Fy(n.datastore),a=n.fc(i);a&&a.then(c=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(c)}).catch(p=>{n.dc(p)}))}).catch(c=>{n.dc(c)})}))}fc(n){try{const i=this.updateFunction(n);return!xs(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}dc(n){this.hc>0&&this.wc(n)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(n)}wc(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||!wc(i)}return!1}}class Vy{constructor(n,i,a){var c=this;this.credentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Qr.UNAUTHENTICATED,this.clientId=b.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var p=(0,f.Z)(function*(C){Gt("FirestoreClient","Received user=",C.uid),yield c.credentialListener(C),c.user=C});return function(C){return p.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,f.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),i.resolve()}catch(a){const c=Xc(a,"Failed to shutdown persistence");i.reject(c)}})),i.promise}}function Uy(s,n){return $f.apply(this,arguments)}function $f(){return $f=(0,f.Z)(function*(s,n){s.asyncQueue.verifyOperationInProgress(),Gt("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield n.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var c=(0,f.Z)(function*(p){a.isEqual(p)||(yield Bd(n.localStore,p),a=p)});return function(p){return c.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=n}),$f.apply(this,arguments)}function Hf(s,n){return ni.apply(this,arguments)}function ni(){return ni=(0,f.Z)(function*(s,n){s.asyncQueue.verifyOperationInProgress();const i=yield sd(s);Gt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield n.initialize(i,a),s.setCredentialChangeListener(c=>{return(p=(0,f.Z)(function*(C,M){const B=jt(C);B.asyncQueue.verifyOperationInProgress(),Gt("RemoteStore","RemoteStore received new credentials");const X=Aa(B);B.Wr.add(3),yield zc(B),X&&B.Hr.set("Unknown"),yield B.remoteSyncer.handleCredentialChange(M),B.Wr.delete(3),yield Kd(B)}),function(C,M){return p.apply(this,arguments)})(n.remoteStore,c);var p}),s.onlineComponents=n}),ni.apply(this,arguments)}function sd(s){return oa.apply(this,arguments)}function oa(){return oa=(0,f.Z)(function*(s){return s.offlineComponents||(Gt("FirestoreClient","Using default OfflineComponentProvider"),yield Uy(s,new Bf)),s.offlineComponents}),oa.apply(this,arguments)}function ql(s){return od.apply(this,arguments)}function od(){return od=(0,f.Z)(function*(s){return s.onlineComponents||(Gt("FirestoreClient","Using default OnlineComponentProvider"),yield Hf(s,new jf)),s.onlineComponents}),od.apply(this,arguments)}function Kg(s){return sd(s).then(n=>n.persistence)}function Wf(s){return sd(s).then(n=>n.localStore)}function Gf(s){return ql(s).then(n=>n.remoteStore)}function lh(s){return ql(s).then(n=>n.syncEngine)}function cl(s){return ch.apply(this,arguments)}function ch(){return ch=(0,f.Z)(function*(s){const n=yield ql(s),i=n.eventManager;return i.onListen=Sy.bind(null,n.syncEngine),i.onUnlisten=Ra.bind(null,n.syncEngine),i}),ch.apply(this,arguments)}function dh(s,n,i={}){const a=new Jr;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,p,C,M,B){const X=new tu({next:Ue=>{p.enqueueAndForget(()=>Cf(c,ve));const ft=Ue.docs.has(C);!ft&&Ue.fromCache?B.reject(new kt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):ft&&Ue.fromCache&&M&&"server"===M.source?B.reject(new kt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ue)},error:Ue=>B.reject(Ue)}),ve=new Rg(_i(C.path),X,{includeMetadataChanges:!0,fo:!0});return If(c,ve)}(yield cl(s),s.asyncQueue,n,i,a)})),a.promise}function zf(s,n,i={}){const a=new Jr;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(c,p,C,M,B){const X=new tu({next:Ue=>{p.enqueueAndForget(()=>Cf(c,ve)),Ue.fromCache&&"server"===M.source?B.reject(new kt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ue)},error:Ue=>B.reject(Ue)}),ve=new Rg(C,X,{includeMetadataChanges:!0,fo:!0});return If(c,ve)}(yield cl(s),s.asyncQueue,n,i,a)})),a.promise}class Wy{constructor(n,i,a,c,p,C,M,B){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=c,this.ssl=p,this.forceLongPolling=C,this.autoDetectLongPolling=M,this.useFetchStreams=B}}class Zl{constructor(n,i){this.projectId=n,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Zl&&n.projectId===this.projectId&&n.database===this.database}}const Kf=new Map;function Qg(s,n,i){if(!i)throw new kt(st.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function qf(s,n,i,a){if(!0===n&&!0===a)throw new kt(st.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Jg(s){if(!wn.isDocumentKey(s))throw new kt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Xg(s){if(wn.isDocumentKey(s))throw new kt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Zf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const n=(i=s).constructor?i.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var i;return"function"==typeof s?"a function":_n()}function Cr(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new kt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zf(s);throw new kt(st.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return s}function hh(s,n){if(n<=0)throw new kt(st.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${n}.`)}class em{constructor(n){var i;if(void 0===n.host){if(void 0!==n.ssl)throw new kt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new kt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,qf("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Yl{constructor(n,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new em({}),this._settingsFrozen=!1,n instanceof Zl?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new kt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(a.options.projectId)}(n))}get app(){if(!this._app)throw new kt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new kt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new em(n),void 0!==n.credentials&&(this._credentials=function(i){if(!i)return new ju;switch(i.type){case"gapi":const a=i.client;return Dn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new lo(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new kt(st.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Kf.get(n);i&&(Gt("ComponentProvider","Removing Datastore"),Kf.delete(n),i.terminate())}(this),Promise.resolve()}}function tm(s,n,i,a={}){var c;const p=(s=Cr(s,Yl))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==n&&Zs("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},p),{host:`${n}:${i}`,ssl:!1})),a.mockUserToken){let C,M;if("string"==typeof a.mockUserToken)C=a.mockUserToken,M=Qr.MOCK_USER;else{C=(0,fe.Sg)(a.mockUserToken,null===(c=s._app)||void 0===c?void 0:c.options.projectId);const B=a.mockUserToken.sub||a.mockUserToken.user_id;if(!B)throw new kt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Qr(B)}s._credentials=new Ba(new mu(C,M))}}class Fi{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Fi(this.firestore,n,this._key)}}class ri{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ri(this.firestore,n,this._query)}}class nu extends ri{constructor(n,i,a){super(n,i,_i(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Fi(this.firestore,null,new wn(n))}withConverter(n){return new nu(this.firestore,n,this._path)}}function Rv(s,n,...i){if(s=(0,fe.m9)(s),Qg("collection","path",n),s instanceof Yl){const a=sn.fromString(n,...i);return Xg(a),new nu(s,null,a)}{if(!(s instanceof Fi||s instanceof nu))throw new kt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(sn.fromString(n,...i));return Xg(a),new nu(s.firestore,null,a)}}function nm(s,n){if(s=Cr(s,Yl),Qg("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new kt(st.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ri(s,null,(i=n,new pr(sn.emptyPath(),i)));var i}function Yf(s,n,...i){if(s=(0,fe.m9)(s),1===arguments.length&&(n=b.I()),Qg("doc","path",n),s instanceof Yl){const a=sn.fromString(n,...i);return Jg(a),new Fi(s,null,new wn(a))}{if(!(s instanceof Fi||s instanceof nu))throw new kt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(sn.fromString(n,...i));return Jg(a),new Fi(s.firestore,s instanceof nu?s.converter:null,new wn(a))}}function rm(s,n){return s=(0,fe.m9)(s),n=(0,fe.m9)(n),(s instanceof Fi||s instanceof nu)&&(n instanceof Fi||n instanceof nu)&&s.firestore===n.firestore&&s.path===n.path&&s.converter===n.converter}function im(s,n){return s=(0,fe.m9)(s),n=(0,fe.m9)(n),s instanceof ri&&n instanceof ri&&s.firestore===n.firestore&&Co(s._query,n._query)&&s.converter===n.converter}class xv{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new mf(this,"async_queue_retry"),this.Rc=()=>{const i=Gc();i&&Gt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ar.tr()};const n=Gc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.bc(),this.Pc(n)}enterRestrictedMode(n){if(!this.gc){this.gc=!0,this.Ic=n||!1;const i=Gc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Rc)}}enqueue(n){if(this.bc(),this.gc)return new Promise(()=>{});const i=new Jr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.mc.push(n),this.vc()))}vc(){var n=this;return(0,f.Z)(function*(){if(0!==n.mc.length){try{yield n.mc[0](),n.mc.shift(),n.ar.reset()}catch(i){if(!Qu(i))throw i;Gt("AsyncQueue","Operation failed with retryable error: "+i)}n.mc.length>0&&n.ar.Xi(()=>n.vc())}})()}Pc(n){const i=this._c.then(()=>(this.Ec=!0,n().catch(a=>{throw this.Tc=a,this.Ec=!1,Nr("INTERNAL UNHANDLED ERROR: ",function(p){let C=p.message||"";return p.stack&&(C=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),C}(a)),a}).then(a=>(this.Ec=!1,a))));return this._c=i,i}enqueueAfterDelay(n,i,a){this.bc(),this.Ac.indexOf(n)>-1&&(i=0);const c=Xd.createAndSchedule(this,n,i,a,p=>this.Vc(p));return this.yc.push(c),c}bc(){this.Tc&&_n()}verifyOperationInProgress(){}Sc(){var n=this;return(0,f.Z)(function*(){let i;do{i=n._c,yield i}while(i!==n._c)})()}Dc(n){for(const i of this.yc)if(i.timerId===n)return!0;return!1}Cc(n){return this.Sc().then(()=>{this.yc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.yc)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.Sc()})}Nc(n){this.Ac.push(n)}Vc(n){const i=this.yc.indexOf(n);this.yc.splice(i,1)}}function fh(s){return function(n,i){if("object"!=typeof n||null===n)return!1;const a=n;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(s)}class Qf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const Gy=-1;class oi extends Yl{constructor(n,i){super(n,i),this.type="firestore",this._queue=new xv,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function zy(s=(0,_.getApp)()){return(0,_._getProvider)(s,"firestore").getImmediate()}function es(s){return s._firestoreClient||sm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function sm(s){var n;const i=s._freezeSettings(),a=(p=(null===(n=s._app)||void 0===n?void 0:n.options.appId)||"",new Wy(s._databaseId,p,s._persistenceKey,(M=i).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var p,M;s._firestoreClient=new Vy(s._credentials,s._queue,a)}function Ky(s,n){Jl(s=Cr(s,oi));const i=es(s),a=s._freezeSettings(),c=new jf;return ud(i,c,new ll(c,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}function qy(s){Jl(s=Cr(s,oi));const n=es(s),i=s._freezeSettings(),a=new jf;return ud(n,a,new Gg(a,i.cacheSizeBytes))}function ud(s,n,i){const a=new Jr;return s.asyncQueue.enqueue((0,f.Z)(function*(){try{yield Uy(s,i),yield Hf(s,n),a.resolve()}catch(c){if(!("FirebaseError"===(p=c).name?p.code===st.FAILED_PRECONDITION||p.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw c;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),a.reject(c)}var p})).then(()=>a.promise)}function Ql(s){if(s._initialized&&!s._terminated)throw new kt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Jr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(i=(0,f.Z)(function*(a){if(!na.bt())return Promise.resolve();const c=a+"main";yield na.delete(c)}),function(a){return i.apply(this,arguments)})(Bc(s._databaseId,s._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}function om(s){return function(n){const i=new Jr;return n.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(s,n){return Nf.apply(this,arguments)}(yield lh(n),i)})),i.promise}(es(s=Cr(s,oi)))}function ld(s){return function(s){return s.asyncQueue.enqueue((0,f.Z)(function*(){const n=yield Kg(s),i=yield Gf(s);return n.setNetworkEnabled(!0),function(a){const c=jt(a);return c.Wr.delete(0),Kd(c)}(i)}))}(es(s=Cr(s,oi)))}function Zy(s){return function(s){return s.asyncQueue.enqueue((0,f.Z)(function*(){const n=yield Kg(s),i=yield Gf(s);return n.setNetworkEnabled(!1),(a=(0,f.Z)(function*(c){const p=jt(c);p.Wr.add(0),yield zc(p),p.Hr.set("Offline")}),function(c){return a.apply(this,arguments)})(i);var a}))}(es(s=Cr(s,oi)))}function Jf(s,n){const i=es(s=Cr(s,oi)),a=new Qf;return function(s,n,i,a){const c=function(p,C){let M;return M="string"==typeof p?(new TextEncoder).encode(p):p,B=function(B,X){if(B instanceof Uint8Array)return zg(B,X);if(B instanceof ArrayBuffer)return zg(new Uint8Array(B),X);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new ky(B,C);var B}(i,zd(n));s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function(s,n,i){const a=jt(s);var c;(c=(0,f.Z)(function*(p,C,M){try{const B=yield C.getMetadata();if(yield function(ft,xt){const Kt=jt(ft),Cn=vi(xt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",sr=>Kt.Je.getBundleMetadata(sr,xt.id)).then(sr=>!!sr&&sr.createTime.compareTo(Cn)>=0)}(p.localStore,B))return yield C.close(),void M._completeWith((ft=B,{taskState:"Success",documentsLoaded:ft.totalDocuments,bytesLoaded:ft.totalBytes,totalDocuments:ft.totalDocuments,totalBytes:ft.totalBytes}));M._updateProgress(Mg(B));const X=new xg(B,p.localStore,C.N);let ve=yield C.zo();for(;ve;){const ft=yield X.mo(ve);ft&&M._updateProgress(ft),ve=yield C.zo()}const Ue=yield X.complete();yield eu(p,Ue.En,void 0),yield function(ft,xt){const Kt=jt(ft);return Kt.persistence.runTransaction("Save bundle","readwrite",Cn=>Kt.Je.saveBundleMetadata(Cn,xt))}(p.localStore,B),M._completeWith(Ue.progress)}catch(B){Zs("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B)}var ft}),function(p,C,M){return c.apply(this,arguments)})(a,n,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield lh(s),c,a)}))}(i,s._databaseId,n,a),a}function xa(s,n){return function(s,n){return s.asyncQueue.enqueue((0,f.Z)(function*(){return function(i,a){const c=jt(i);return c.persistence.runTransaction("Get named query","readonly",p=>c.Je.getNamedQuery(p,a))}(yield Wf(s),n)}))}(es(s=Cr(s,oi)),n).then(i=>i?new ri(s,null,i.query):null)}function Jl(s){if(s._initialized||s._terminated)throw new kt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ei{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new kt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class aa{constructor(n){this._byteString=n}static fromBase64String(n){try{return new aa(br.fromBase64String(n))}catch(i){throw new kt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new aa(br.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ls{constructor(n){this._methodName=n}}class ec{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new kt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new kt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return E(this._lat,n._lat)||E(this._long,n._long)}}const tc=/^__.*__$/;class nc{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new Vo(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ia(n,this.data,i,this.fieldTransforms)}}class dl{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new Vo(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function hl(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class ru{constructor(n,i,a,c,p,C){this.settings=n,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=c,void 0===p&&this.xc(),this.fieldTransforms=p||[],this.fieldMask=C||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(n){return new ru(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.$c({path:a,Fc:!1});return c.Mc(n),c}Lc(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),c=this.$c({path:a,Fc:!1});return c.xc(),c}Bc(n){return this.$c({path:void 0,Fc:!0})}Uc(n){return _h(n,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}xc(){if(this.path)for(let n=0;n<this.path.length;n++)this.Mc(this.path.get(n))}Mc(n){if(0===n.length)throw this.Uc("Document fields must not be empty");if(hl(this.kc)&&tc.test(n))throw this.Uc('Document fields cannot begin and end with "__"')}}class rc{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.N=a||zd(n)}jc(n,i,a,c=!1){return new ru({kc:n,methodName:i,Kc:a,path:Ln.emptyPath(),Fc:!1,qc:c},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function $o(s){const n=s._freezeSettings(),i=zd(s._databaseId);return new rc(s._databaseId,!!n.ignoreUndefinedProperties,i)}function iu(s,n,i,a,c,p={}){const C=s.jc(p.merge||p.mergeFields?2:0,n,i,c);np("Data must be an object, but it was:",C,a);const M=cm(a,C);let B,X;if(p.merge)B=new or(C.fieldMask),X=C.fieldTransforms;else if(p.mergeFields){const ve=[];for(const Ue of p.mergeFields){const ft=yh(n,Ue,i);if(!C.contains(ft))throw new kt(st.INVALID_ARGUMENT,`Field '${ft}' is specified in your field mask but missing from your input data.`);ip(ve,ft)||ve.push(ft)}B=new or(ve),X=C.fieldTransforms.filter(Ue=>B.covers(Ue.field))}else B=null,X=C.fieldTransforms;return new nc(new Xr(M),B,X)}class Ma extends ls{_toFieldTransform(n){if(2!==n.kc)throw n.Uc(1===n.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ma}}function Xf(s,n,i){return new ru({kc:3,Kc:n.settings.Kc,methodName:s._methodName,Fc:i},n.databaseId,n.N,n.ignoreUndefinedProperties)}class ph extends ls{_toFieldTransform(n){return new Wu(n.path,new Fo)}isEqual(n){return n instanceof ph}}class am extends ls{constructor(n,i){super(n),this.Qc=i}_toFieldTransform(n){const i=Xf(this,n,!0),a=this.Qc.map(p=>Ou(p,i)),c=new ks(a);return new Wu(n.path,c)}isEqual(n){return this===n}}class um extends ls{constructor(n,i){super(n),this.Qc=i}_toFieldTransform(n){const i=Xf(this,n,!0),a=this.Qc.map(p=>Ou(p,i)),c=new Lo(a);return new Wu(n.path,c)}isEqual(n){return this===n}}class lm extends ls{constructor(n,i){super(n),this.Wc=i}_toFieldTransform(n){const i=new Xo(n.N,yc(n.N,this.Wc));return new Wu(n.path,i)}isEqual(n){return this===n}}function gh(s,n,i,a){const c=s.jc(1,n,i);np("Data must be an object, but it was:",c,a);const p=[],C=Xr.empty();Se(a,(B,X)=>{const ve=rp(n,B,i);X=(0,fe.m9)(X);const Ue=c.Lc(ve);if(X instanceof Ma)p.push(ve);else{const ft=Ou(X,Ue);null!=ft&&(p.push(ve),C.set(ve,ft))}});const M=new or(p);return new dl(C,M,c.fieldTransforms)}function mh(s,n,i,a,c,p){const C=s.jc(1,n,i),M=[yh(n,a,i)],B=[c];if(p.length%2!=0)throw new kt(st.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ft=0;ft<p.length;ft+=2)M.push(yh(n,p[ft])),B.push(p[ft+1]);const X=[],ve=Xr.empty();for(let ft=M.length-1;ft>=0;--ft)if(!ip(X,M[ft])){const xt=M[ft];let Kt=B[ft];Kt=(0,fe.m9)(Kt);const Cn=C.Lc(xt);if(Kt instanceof Ma)X.push(xt);else{const sr=Ou(Kt,Cn);null!=sr&&(X.push(xt),ve.set(xt,sr))}}const Ue=new or(X);return new dl(ve,Ue,C.fieldTransforms)}function ep(s,n,i,a=!1){return Ou(i,s.jc(a?4:3,n))}function Ou(s,n){if(tp(s=(0,fe.m9)(s)))return np("Unsupported field value:",n,s),cm(s,n);if(s instanceof ls)return function(i,a){if(!hl(a.kc))throw a.Uc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Uc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(s,n),null;if(void 0===s&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.Fc&&4!==n.kc)throw n.Uc("Nested arrays are not supported");return function(i,a){const c=[];let p=0;for(const C of i){let M=Ou(C,a.Bc(p));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),p++}return{arrayValue:{values:c}}}(s,n)}return function(i,a){if(null===(i=(0,fe.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return yc(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=k.fromDate(i);return{timestampValue:Qs(a.N,c)}}if(i instanceof k){const c=new k(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qs(a.N,c)}}if(i instanceof ec)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:Da(a.N,i._byteString)};if(i instanceof Fi){const c=a.databaseId,p=i.firestore._databaseId;if(!p.isEqual(c))throw a.Uc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:za(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Uc(`Unsupported field value: ${Zf(i)}`)}(s,n)}function cm(s,n){const i={};return ht(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Se(s,(a,c)=>{const p=Ou(c,n.Oc(a));null!=p&&(i[a]=p)}),{mapValue:{fields:i}}}function tp(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof k||s instanceof ec||s instanceof aa||s instanceof Fi||s instanceof ls)}function np(s,n,i){if(!tp(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Zf(i);throw n.Uc("an object"===a?s+" a custom object":s+" "+a)}var a}function yh(s,n,i){if((n=(0,fe.m9)(n))instanceof Ei)return n._internalPath;if("string"==typeof n)return rp(s,n);throw _h("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const dm=new RegExp("[~\\*/\\[\\]]");function rp(s,n,i){if(n.search(dm)>=0)throw _h(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ei(...n.split("."))._internalPath}catch(a){throw _h(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,n,i,a,c){const p=a&&!a.isEmpty(),C=void 0!==c;let M=`Function ${n}() called with invalid data`;i&&(M+=" (via `toFirestore()`)"),M+=". ";let B="";return(p||C)&&(B+=" (found",p&&(B+=` in field ${a}`),C&&(B+=` in document ${c}`),B+=")"),new kt(st.INVALID_ARGUMENT,M+s+B)}function ip(s,n){return s.some(i=>i.isEqual(n))}class cd{constructor(n,i,a,c,p){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=c,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(vh("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class hm extends cd{data(){return super.data()}}function vh(s,n){return"string"==typeof n?rp(s,n):n instanceof Ei?n._internalPath:n._delegate._internalPath}class fl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class pl extends cd{constructor(n,i,a,c,p,C){super(n,i,a,c,C),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(vh("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class ic extends pl{data(n={}){return super.data(n)}}class sc{constructor(n,i,a,c){this._firestore=n,this._userDataWriter=i,this._snapshot=c,this.metadata=new fl(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new ic(this._firestore,this._userDataWriter,a.key,a,new fl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new kt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let p=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new ic(a._firestore,a._userDataWriter,C.doc.key,C.doc,new fl(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:p++}))}{let p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>c||3!==C.type).map(C=>{const M=new ic(a._firestore,a._userDataWriter,C.doc.key,C.doc,new fl(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let B=-1,X=-1;return 0!==C.type&&(B=p.indexOf(C.doc.key),p=p.delete(C.doc.key)),1!==C.type&&(p=p.add(C.doc),X=p.indexOf(C.doc.key)),{type:Ov(C.type),doc:M,oldIndex:B,newIndex:X}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ov(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function Yy(s,n){return s instanceof pl&&n instanceof pl?s._firestore===n._firestore&&s._key.isEqual(n._key)&&(null===s._document?null===n._document:s._document.isEqual(n._document))&&s._converter===n._converter:s instanceof sc&&n instanceof sc&&s._firestore===n._firestore&&im(s.query,n.query)&&s.metadata.isEqual(n.metadata)&&s._snapshot.isEqual(n._snapshot)}function Qy(s){if(Os(s)&&0===s.explicitOrderBy.length)throw new kt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dd{}function Jy(s,...n){for(const i of n)s=i._apply(s);return s}class sp extends dd{constructor(n,i,a){super(),this.Gc=n,this.zc=i,this.Hc=a,this.type="where"}_apply(n){const i=$o(n.firestore),a=function(c,p,C,M,B,X,ve){let Ue;if(B.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new kt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on FieldPath.documentId().`);if("in"===X||"not-in"===X){hd(ve,X);const xt=[];for(const Kt of ve)xt.push(up(M,c,Kt));Ue={arrayValue:{values:xt}}}else Ue=up(M,c,ve)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||hd(ve,X),Ue=ep(C,"where",ve,"in"===X||"not-in"===X);const ft=Zi.create(B,X,Ue);return function(xt,Kt){if(Kt.v()){const sr=fc(xt);if(null!==sr&&!sr.isEqual(Kt.field))throw new kt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${sr.toString()}' and '${Kt.field.toString()}'`);const Li=Jo(xt);null!==Li&&gm(0,Kt.field,Li)}const Cn=function(sr,Li){for(const ua of sr.filters)if(Li.indexOf(ua.op)>=0)return ua.op;return null}(xt,function(sr){switch(sr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Kt.op));if(null!==Cn)throw new kt(st.INVALID_ARGUMENT,Cn===Kt.op?`Invalid query. You cannot use more than one '${Kt.op.toString()}' filter.`:`Invalid query. You cannot use '${Kt.op.toString()}' filters with '${Cn.toString()}' filters.`)}(c,ft),ft}(n._query,0,i,n.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ri(n.firestore,n.converter,function(c,p){const C=c.filters.concat([p]);return new pr(c.path,c.collectionGroup,c.explicitOrderBy.slice(),C,c.limit,c.limitType,c.startAt,c.endAt)}(n._query,a))}}function op(s,n,i){const a=n,c=vh("where",s);return new sp(c,a,i)}class Xy extends dd{constructor(n,i){super(),this.Gc=n,this.Jc=i,this.type="orderBy"}_apply(n){const i=function(a,c,p){if(null!==a.startAt)throw new kt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new kt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new Or(c,p);return function(M,B){if(null===Jo(M)){const X=fc(M);null!==X&&gm(0,X,B.field)}}(a,C),C}(n._query,this.Gc,this.Jc);return new ri(n.firestore,n.converter,function(a,c){const p=a.explicitOrderBy.concat([c]);return new pr(a.path,a.collectionGroup,p,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,i))}}function Pv(s,n="asc"){const i=n,a=vh("orderBy",s);return new Xy(a,i)}class e_ extends dd{constructor(n,i,a){super(),this.type=n,this.Yc=i,this.Xc=a}_apply(n){return new ri(n.firestore,n.converter,Tl(n._query,this.Yc,this.Xc))}}function kv(s){return hh("limit",s),new e_("limit",s,"F")}function t_(s){return hh("limitToLast",s),new e_("limitToLast",s,"L")}class ap extends dd{constructor(n,i,a){super(),this.type=n,this.Zc=i,this.ta=a}_apply(n){const i=pm(n,this.type,this.Zc,this.ta);return new ri(n.firestore,n.converter,(c=i,new pr((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,c,a.endAt)));var a,c}}function Fv(...s){return new ap("startAt",s,!0)}function n_(...s){return new ap("startAfter",s,!1)}class gl extends dd{constructor(n,i,a){super(),this.type=n,this.Zc=i,this.ta=a}_apply(n){const i=pm(n,this.type,this.Zc,this.ta);return new ri(n.firestore,n.converter,(c=i,new pr((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,c)));var a,c}}function r_(...s){return new gl("endBefore",s,!0)}function fm(...s){return new gl("endAt",s,!1)}function pm(s,n,i,a){if(i[0]=(0,fe.m9)(i[0]),i[0]instanceof cd)return function(c,p,C,M,B){if(!M)throw new kt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const X=[];for(const ve of Ea(c))if(ve.field.isKeyField())X.push(Hu(p,M.key));else{const Ue=M.data.field(ve.field);if(as(Ue))throw new kt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ue){const ft=ve.field.canonicalString();throw new kt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ft}' (used as the orderBy) does not exist.`)}X.push(Ue)}return new un(X,B)}(s._query,s.firestore._databaseId,n,i[0]._document,a);{const c=$o(s.firestore);return function(p,C,M,B,X,ve){const Ue=p.explicitOrderBy;if(X.length>Ue.length)throw new kt(st.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ft=[];for(let xt=0;xt<X.length;xt++){const Kt=X[xt];if(Ue[xt].field.isKeyField()){if("string"!=typeof Kt)throw new kt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Kt}`);if(!pc(p)&&-1!==Kt.indexOf("/"))throw new kt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${B}() must be a plain document ID, but '${Kt}' contains a slash.`);const Cn=p.path.child(sn.fromString(Kt));if(!wn.isDocumentKey(Cn))throw new kt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${B}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const sr=new wn(Cn);ft.push(Hu(C,sr))}else{const Cn=ep(M,B,Kt);ft.push(Cn)}}return new un(ft,ve)}(s._query,s.firestore._databaseId,c,n,i,a)}}function up(s,n,i){if("string"==typeof(i=(0,fe.m9)(i))){if(""===i)throw new kt(st.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pc(n)&&-1!==i.indexOf("/"))throw new kt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(sn.fromString(i));if(!wn.isDocumentKey(a))throw new kt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Hu(s,new wn(a))}if(i instanceof Fi)return Hu(s,i._key);throw new kt(st.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(i)}.`)}function hd(s,n){if(!Array.isArray(s)||0===s.length)throw new kt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(s.length>10)throw new kt(st.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function gm(s,n,i){if(!i.isEqual(n))throw new kt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Eh{convertValue(n,i="none"){switch(ja(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Er(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Oi(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 10:return this.convertObject(n.mapValue,i);default:throw _n()}}convertObject(n,i){const a={};return Se(n.fields,(c,p)=>{a[c]=this.convertValue(p,i)}),a}convertGeoPoint(n){return new ec(Er(n.latitude),Er(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=co(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(_a(n));default:return null}}convertTimestamp(n){const i=Ni(n);return new k(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=sn.fromString(n);Dn(Wh(a));const c=new Zl(a.get(1),a.get(3)),p=new wn(a.popFirst(5));return c.isEqual(i)||Nr(`Document ${p} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function wh(s,n,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(n,i):s.toFirestore(n):n,a}class i_ extends Eh{constructor(n){super(),this.firestore=n}convertBytes(n){return new aa(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Fi(this.firestore,null,i)}}class mm{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=$o(n)}set(n,i,a){this._verifyNotCommitted();const c=Pu(n,this._firestore),p=wh(c.converter,i,a),C=iu(this._dataReader,"WriteBatch.set",c._key,p,null!==c.converter,a);return this._mutations.push(C.toMutation(c._key,bi.none())),this}update(n,i,a,...c){this._verifyNotCommitted();const p=Pu(n,this._firestore);let C;return C="string"==typeof(i=(0,fe.m9)(i))||i instanceof Ei?mh(this._dataReader,"WriteBatch.update",p._key,i,a,c):gh(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(C.toMutation(p._key,bi.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Pu(n,this._firestore);return this._mutations=this._mutations.concat(new Rl(i._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pu(s,n){if((s=(0,fe.m9)(s)).firestore!==n)throw new kt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function s_(s){s=Cr(s,Fi);const n=Cr(s.firestore,oi);return dh(es(n),s._key).then(i=>hp(n,s,i))}class ku extends Eh{constructor(n){super(),this.firestore=n}convertBytes(n){return new aa(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Fi(this.firestore,null,i)}}function o_(s){s=Cr(s,Fi);const n=Cr(s.firestore,oi),i=es(n),a=new ku(n);return function(s,n){const i=new Jr;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(a=(0,f.Z)(function*(c,p,C){try{const M=yield function(B,X){const ve=jt(B);return ve.persistence.runTransaction("read document","readonly",Ue=>ve.Qn.An(Ue,X))}(c,p);M.isFoundDocument()?C.resolve(M):M.isNoDocument()?C.resolve(null):C.reject(new kt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=Xc(M,`Failed to get document '${p} from cache`);C.reject(B)}}),function(c,p,C){return a.apply(this,arguments)})(yield Wf(s),n,i);var a})),i.promise}(i,s._key).then(c=>new pl(n,a,s._key,c,new fl(null!==c&&c.hasLocalMutations,!0),s.converter))}function ym(s){s=Cr(s,Fi);const n=Cr(s.firestore,oi);return dh(es(n),s._key,{source:"server"}).then(i=>hp(n,s,i))}function _m(s){s=Cr(s,ri);const n=Cr(s.firestore,oi),i=es(n),a=new ku(n);return Qy(s._query),zf(i,s._query).then(c=>new sc(n,a,s,c))}function lp(s){s=Cr(s,ri);const n=Cr(s.firestore,oi),i=es(n),a=new ku(n);return function(s,n){const i=new Jr;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(a=(0,f.Z)(function*(c,p,C){try{const M=yield $c(c,p,!0),B=new bf(p,M.Gn),X=B.bo(M.documents),ve=B.applyChanges(X,!1);C.resolve(ve.snapshot)}catch(M){const B=Xc(M,`Failed to execute query '${p} against cache`);C.reject(B)}}),function(c,p,C){return a.apply(this,arguments)})(yield Wf(s),n,i);var a})),i.promise}(i,s._query).then(c=>new sc(n,a,s,c))}function Lv(s){s=Cr(s,ri);const n=Cr(s.firestore,oi),i=es(n),a=new ku(n);return zf(i,s._query,{source:"server"}).then(c=>new sc(n,a,s,c))}function cp(s,n,i){s=Cr(s,Fi);const a=Cr(s.firestore,oi),c=wh(s.converter,n,i);return Fu(a,[iu($o(a),"setDoc",s._key,c,null!==s.converter,i).toMutation(s._key,bi.none())])}function a_(s,n,i,...a){s=Cr(s,Fi);const c=Cr(s.firestore,oi),p=$o(c);let C;return C="string"==typeof(n=(0,fe.m9)(n))||n instanceof Ei?mh(p,"updateDoc",s._key,n,i,a):gh(p,"updateDoc",s._key,n),Fu(c,[C.toMutation(s._key,bi.exists(!0))])}function Vv(s){return Fu(Cr(s.firestore,oi),[new Rl(s._key,bi.none())])}function fd(s,n){const i=Cr(s.firestore,oi),a=Yf(s),c=wh(s.converter,n);return Fu(i,[iu($o(s.firestore),"addDoc",a._key,c,null!==s.converter,{}).toMutation(a._key,bi.exists(!1))]).then(()=>a)}function vm(s,...n){var i,a,c;s=(0,fe.m9)(s);let p={includeMetadataChanges:!1},C=0;"object"!=typeof n[C]||fh(n[C])||(p=n[C],C++);const M={includeMetadataChanges:p.includeMetadataChanges};if(fh(n[C])){const Ue=n[C];n[C]=null===(i=Ue.next)||void 0===i?void 0:i.bind(Ue),n[C+1]=null===(a=Ue.error)||void 0===a?void 0:a.bind(Ue),n[C+2]=null===(c=Ue.complete)||void 0===c?void 0:c.bind(Ue)}let B,X,ve;if(s instanceof Fi)X=Cr(s.firestore,oi),ve=_i(s._key.path),B={next:Ue=>{n[C]&&n[C](hp(X,s,Ue))},error:n[C+1],complete:n[C+2]};else{const Ue=Cr(s,ri);X=Cr(Ue.firestore,oi),ve=Ue._query;const ft=new ku(X);B={next:xt=>{n[C]&&n[C](new sc(X,ft,Ue,xt))},error:n[C+1],complete:n[C+2]},Qy(s._query)}return function(Ue,ft,xt,Kt){const Cn=new tu(Kt),sr=new Rg(ft,Cn,xt);return Ue.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return If(yield cl(Ue),sr)})),()=>{Cn.ec(),Ue.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return Cf(yield cl(Ue),sr)}))}}(es(X),ve,M,B)}function dp(s,n){return function(s,n){const i=new tu(n);return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return a=yield cl(s),c=i,jt(a).so.add(c),void c.next();var a,c})),()=>{i.ec(),s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return a=yield cl(s),c=i,void jt(a).so.delete(c);var a,c}))}}(es(s=Cr(s,oi)),fh(n)?n:{next:n})}function Fu(s,n){return function(i,a){const c=new Jr;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(s,n,i){return Af.apply(this,arguments)}(yield lh(i),a,c)})),c.promise}(es(s),n)}function hp(s,n,i){const a=i.docs.get(n._key),c=new ku(s);return new pl(s,c,n._key,a,new fl(i.hasPendingWrites,i.fromCache),n.converter)}class fp extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=$o(n)}get(n){const i=Pu(n,this._firestore),a=new i_(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return _n();const p=c[0];if(p.isFoundDocument())return new cd(this._firestore,a,p.key,p,i.converter);if(p.isNoDocument())return new cd(this._firestore,a,i._key,null,i.converter);throw _n()})}set(n,i,a){const c=Pu(n,this._firestore),p=wh(c.converter,i,a),C=iu(this._dataReader,"Transaction.set",c._key,p,null!==c.converter,a);return this._transaction.set(c._key,C),this}update(n,i,a,...c){const p=Pu(n,this._firestore);let C;return C="string"==typeof(i=(0,fe.m9)(i))||i instanceof Ei?mh(this._dataReader,"Transaction.update",p._key,i,a,c):gh(this._dataReader,"Transaction.update",p._key,i),this._transaction.update(p._key,C),this}delete(n){const i=Pu(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Pu(n,this._firestore),a=new ku(this._firestore);return super.get(n).then(c=>new pl(this._firestore,a,i._key,c._document,new fl(!1,!1),i.converter))}}function pp(s,n){return function(s,n){const i=new Jr;return s.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const a=yield(c=s,ql(c).then(p=>p.datastore));var c;new Ly(s.asyncQueue,a,n,i).run()})),i.promise}(es(s=Cr(s,oi)),i=>n(new fp(s,i)))}function Em(){return new Ma("deleteField")}function Uv(){return new ph("serverTimestamp")}function u_(...s){return new am("arrayUnion",s)}function gp(...s){return new um("arrayRemove",s)}function mp(s){return new lm("increment",s)}!function(s,n=!0){Ko=_.SDK_VERSION,(0,_._registerComponent)(new $.wA("firestore",(i,{options:a})=>{const c=i.getProvider("app").getImmediate(),p=new oi(c,new $u(i.getProvider("auth-internal")));return a=Object.assign({useFetchStreams:n},a),p._setSettings(a),p},"PUBLIC")),(0,_.registerVersion)(ao,"3.3.1",s),(0,_.registerVersion)(ao,"3.3.1","esm2017")}()},4213:(Lt,je,N)=>{"use strict";N.d(je,{BH:()=>Qe,LL:()=>pe,ZR:()=>$e,zI:()=>le,US:()=>Ae,tV:()=>Pe,$s:()=>nr,r3:()=>Vt,Sg:()=>Ke,ne:()=>er,vZ:()=>Rn,ZB:()=>ie,pd:()=>Un,m9:()=>mn,z$:()=>_t,jU:()=>Me,ru:()=>We,d:()=>Le,xb:()=>Jt,w1:()=>gt,hl:()=>Et,uI:()=>yt,UG:()=>oe,b$:()=>qe,G6:()=>xe,Mn:()=>ze,xO:()=>Kn,zd:()=>Zn,eu:()=>ee});const he=function(_e){const me=[];let q=0;for(let F=0;F<_e.length;F++){let V=_e.charCodeAt(F);V<128?me[q++]=V:V<2048?(me[q++]=V>>6|192,me[q++]=63&V|128):55296==(64512&V)&&F+1<_e.length&&56320==(64512&_e.charCodeAt(F+1))?(V=65536+((1023&V)<<10)+(1023&_e.charCodeAt(++F)),me[q++]=V>>18|240,me[q++]=V>>12&63|128,me[q++]=V>>6&63|128,me[q++]=63&V|128):(me[q++]=V>>12|224,me[q++]=V>>6&63|128,me[q++]=63&V|128)}return me},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(_e,me){if(!Array.isArray(_e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let V=0;V<_e.length;V+=3){const Oe=_e[V],se=V+1<_e.length,He=se?_e[V+1]:0,at=V+2<_e.length,Rt=at?_e[V+2]:0;let re=(15&He)<<2|Rt>>6,de=63&Rt;at||(de=64,se||(re=64)),F.push(q[Oe>>2],q[(3&Oe)<<4|He>>4],q[re],q[de])}return F.join("")},encodeString(_e,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(_e):this.encodeByteArray(he(_e),me)},decodeString(_e,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(_e):function(_e){const me=[];let q=0,F=0;for(;q<_e.length;){const V=_e[q++];if(V<128)me[F++]=String.fromCharCode(V);else if(V>191&&V<224){const Oe=_e[q++];me[F++]=String.fromCharCode((31&V)<<6|63&Oe)}else if(V>239&&V<365){const at=((7&V)<<18|(63&_e[q++])<<12|(63&_e[q++])<<6|63&_e[q++])-65536;me[F++]=String.fromCharCode(55296+(at>>10)),me[F++]=String.fromCharCode(56320+(1023&at))}else{const Oe=_e[q++],se=_e[q++];me[F++]=String.fromCharCode((15&V)<<12|(63&Oe)<<6|63&se)}}return me.join("")}(this.decodeStringToByteArray(_e,me))},decodeStringToByteArray(_e,me){this.init_();const q=me?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let V=0;V<_e.length;){const Oe=q[_e.charAt(V++)],He=V<_e.length?q[_e.charAt(V)]:0;++V;const Rt=V<_e.length?q[_e.charAt(V)]:64;++V;const ye=V<_e.length?q[_e.charAt(V)]:64;if(++V,null==Oe||null==He||null==Rt||null==ye)throw Error();F.push(Oe<<2|He>>4),64!==Rt&&(F.push(He<<4&240|Rt>>2),64!==ye&&F.push(Rt<<6&192|ye))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _e=0;_e<this.ENCODED_VALS.length;_e++)this.byteToCharMap_[_e]=this.ENCODED_VALS.charAt(_e),this.charToByteMap_[this.byteToCharMap_[_e]]=_e,this.byteToCharMapWebSafe_[_e]=this.ENCODED_VALS_WEBSAFE.charAt(_e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_e]]=_e,_e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_e)]=_e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_e)]=_e)}}},te=function(_e){return function(_e){const me=he(_e);return Ae.encodeByteArray(me,!0)}(_e).replace(/\./g,"")},Pe=function(_e){try{return Ae.decodeString(_e,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function ie(_e,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===_e&&(_e={});break;case Array:_e=[];break;default:return me}for(const q in me)!me.hasOwnProperty(q)||!Re(q)||(_e[q]=ie(_e[q],me[q]));return _e}function Re(_e){return"__proto__"!==_e}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,q)=>{this.resolve=me,this.reject=q})}wrapCallback(me){return(q,F)=>{q?this.reject(q):this.resolve(F),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(q):me(q,F))}}}function Ke(_e,me){if(_e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=me||"demo-project",V=_e.iat||0,Oe=_e.sub||_e.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:V,exp:V+3600,auth_time:V,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},_e);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(se)),""].join(".")}function _t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(_e){return!1}}function Me(){return"object"==typeof self&&self.self===self}function We(){const _e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof _e&&void 0!==_e.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return _t().indexOf("Electron/")>=0}function gt(){const _e=_t();return _e.indexOf("MSIE ")>=0||_e.indexOf("Trident/")>=0}function ze(){return _t().indexOf("MSAppHost/")>=0}function xe(){return!oe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Et(){return"object"==typeof indexedDB}function ee(){return new Promise((_e,me)=>{try{let q=!0;const F="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(F);V.onsuccess=()=>{V.result.close(),q||self.indexedDB.deleteDatabase(F),_e(!0)},V.onupgradeneeded=()=>{q=!1},V.onerror=()=>{var Oe;me((null===(Oe=V.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(q){me(q)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class $e extends Error{constructor(me,q,F){super(q),this.code=me,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}}class pe{constructor(me,q,F){this.service=me,this.serviceName=q,this.errors=F}create(me,...q){const F=q[0]||{},V=`${this.service}/${me}`,Oe=this.errors[me],se=Oe?function(_e,me){return _e.replace(nt,(q,F)=>{const V=me[F];return null!=V?String(V):`<${F}?>`})}(Oe,F):"Error";return new $e(V,`${this.serviceName}: ${se} (${V}).`,F)}}const nt=/\{\$([^}]+)}/g;function Vt(_e,me){return Object.prototype.hasOwnProperty.call(_e,me)}function Jt(_e){for(const me in _e)if(Object.prototype.hasOwnProperty.call(_e,me))return!1;return!0}function Rn(_e,me){if(_e===me)return!0;const q=Object.keys(_e),F=Object.keys(me);for(const V of q){if(!F.includes(V))return!1;const Oe=_e[V],se=me[V];if(Fn(Oe)&&Fn(se)){if(!Rn(Oe,se))return!1}else if(Oe!==se)return!1}for(const V of F)if(!q.includes(V))return!1;return!0}function Fn(_e){return null!==_e&&"object"==typeof _e}function Kn(_e){const me=[];for(const[q,F]of Object.entries(_e))Array.isArray(F)?F.forEach(V=>{me.push(encodeURIComponent(q)+"="+encodeURIComponent(V))}):me.push(encodeURIComponent(q)+"="+encodeURIComponent(F));return me.length?"&"+me.join("&"):""}function Zn(_e){const me={};return _e.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[V,Oe]=F.split("=");me[decodeURIComponent(V)]=decodeURIComponent(Oe)}}),me}function Un(_e){const me=_e.indexOf("?");if(!me)return"";const q=_e.indexOf("#",me);return _e.substring(me,q>0?q:void 0)}function er(_e,me){const q=new tr(_e,me);return q.subscribe.bind(q)}class tr{constructor(me,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{me(this)}).catch(F=>{this.error(F)})}next(me){this.forEachObserver(q=>{q.next(me)})}error(me){this.forEachObserver(q=>{q.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,q,F){let V;if(void 0===me&&void 0===q&&void 0===F)throw new Error("Missing Observer.");V=function(_e,me){if("object"!=typeof _e||null===_e)return!1;for(const q of["next","error","complete"])if(q in _e&&"function"==typeof _e[q])return!0;return!1}(me)?me:{next:me,error:q,complete:F},void 0===V.next&&(V.next=bn),void 0===V.error&&(V.error=bn),void 0===V.complete&&(V.complete=bn);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(se){}}),this.observers.push(V),Oe}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,me)}sendOne(me,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{q(this.observers[me])}catch(F){"undefined"!=typeof console&&console.error&&console.error(F)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function nr(_e,me=1e3,q=2){const F=me*Math.pow(q,_e),V=Math.round(.5*F*(Math.random()-.5)*2);return Math.min(144e5,F+V)}function mn(_e){return _e&&_e._delegate?_e._delegate:_e}},6621:(Lt,je,N)=>{"use strict";N.d(je,{IH:()=>tn,Gb:()=>nr,Kz:()=>q,Iv:()=>mn});var f=N(8239),_=N(1572),$=N(3855),he=N(4213),fe=N(1177);N(8094);const Ie="analytics",te="firebase_id",ie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Re="https://www.googletagmanager.com/gtag/js",Qe=new $.Yd("@firebase/analytics");function Ke(se){return Promise.all(se.map(He=>He.catch(at=>at)))}function _t(se,He){const at=document.createElement("script");at.src=`${Re}?l=${se}&id=${He}`,at.async=!0,document.head.appendChild(at)}function oe(se,He,at,Rt,Ft,ye){return Me.apply(this,arguments)}function Me(){return(Me=(0,f.Z)(function*(se,He,at,Rt,Ft,ye){const re=Rt[Ft];try{if(re)yield He[re];else{const Ze=(yield Ke(at)).find(et=>et.measurementId===Ft);Ze&&(yield He[Ze.appId])}}catch(de){Qe.error(de)}se("config",Ft,ye)})).apply(this,arguments)}function We(se,He,at,Rt,Ft){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(se,He,at,Rt,Ft){try{let ye=[];if(Ft&&Ft.send_to){let re=Ft.send_to;Array.isArray(re)||(re=[re]);const de=yield Ke(at);for(const Ze of re){const et=de.find(hn=>hn.measurementId===Ze),Qt=et&&He[et.appId];if(!Qt){ye=[];break}ye.push(Qt)}}0===ye.length&&(ye=Object.values(He)),yield Promise.all(ye),se("event",Rt,Ft||{})}catch(ye){Qe.error(ye)}})).apply(this,arguments)}function ze(){const se=window.document.getElementsByTagName("script");for(const He of Object.values(se))if(He.src&&He.src.includes(Re))return He;return null}const xe=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ae=new class{constructor(He={},at=1e3){this.throttleMetadata=He,this.intervalMillis=at}getThrottleMetadata(He){return this.throttleMetadata[He]}setThrottleMetadata(He,at){this.throttleMetadata[He]=at}deleteThrottleMetadata(He){delete this.throttleMetadata[He]}};function Ce(se){return new Headers({Accept:"application/json","x-goog-api-key":se})}function $e(se){return pe.apply(this,arguments)}function pe(){return(pe=(0,f.Z)(function*(se){var He;const{appId:at,apiKey:Rt}=se,Ft={method:"GET",headers:Ce(Rt)},ye=ie.replace("{app-id}",at),re=yield fetch(ye,Ft);if(200!==re.status&&304!==re.status){let de="";try{const Ze=yield re.json();(null===(He=Ze.error)||void 0===He?void 0:He.message)&&(de=Ze.error.message)}catch(Ze){}throw xe.create("config-fetch-failed",{httpStatus:re.status,responseMessage:de})}return re.json()})).apply(this,arguments)}function Tt(se){return nt.apply(this,arguments)}function nt(){return(nt=(0,f.Z)(function*(se,He=ae,at){const{appId:Rt,apiKey:Ft,measurementId:ye}=se.options;if(!Rt)throw xe.create("no-app-id");if(!Ft){if(ye)return{measurementId:ye,appId:Rt};throw xe.create("no-api-key")}const re=He.getThrottleMetadata(Rt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},de=new Ht;return setTimeout((0,f.Z)(function*(){de.abort()}),void 0!==at?at:6e4),Bt({appId:Rt,apiKey:Ft,measurementId:ye},re,de,He)})).apply(this,arguments)}function Bt(se,He,at){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(se,{throttleEndTimeMillis:He,backoffCount:at},Rt,Ft=ae){const{appId:ye,measurementId:re}=se;try{yield Ct(Rt,He)}catch(de){if(re)return Qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${de.message}]`),{appId:ye,measurementId:re};throw de}try{const de=yield $e(se);return Ft.deleteThrottleMetadata(ye),de}catch(de){if(!$t(de)){if(Ft.deleteThrottleMetadata(ye),re)return Qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${de.message}]`),{appId:ye,measurementId:re};throw de}const Ze=503===Number(de.customData.httpStatus)?(0,he.$s)(at,Ft.intervalMillis,30):(0,he.$s)(at,Ft.intervalMillis),et={throttleEndTimeMillis:Date.now()+Ze,backoffCount:at+1};return Ft.setThrottleMetadata(ye,et),Qe.debug(`Calling attemptFetch again in ${Ze} millis`),Bt(se,et,Rt,Ft)}})).apply(this,arguments)}function Ct(se,He){return new Promise((at,Rt)=>{const Ft=Math.max(He-Date.now(),0),ye=setTimeout(at,Ft);se.addEventListener(()=>{clearTimeout(ye),Rt(xe.create("fetch-throttle",{throttleEndTimeMillis:He}))})})}function $t(se){if(!(se instanceof he.ZR&&se.customData))return!1;const He=Number(se.customData.httpStatus);return 429===He||500===He||503===He||504===He}class Ht{constructor(){this.listeners=[]}addEventListener(He){this.listeners.push(He)}abort(){this.listeners.forEach(He=>He())}}function en(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(){if(!(0,he.hl)())return Qe.warn(xe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(se){return Qe.warn(xe.create("indexeddb-unavailable",{errorInfo:se}).message),!1}return!0})).apply(this,arguments)}function cn(){return(cn=(0,f.Z)(function*(se,He,at,Rt,Ft,ye,re){var de;const Ze=Tt(se);Ze.then(yn=>{at[yn.measurementId]=yn.appId,se.options.measurementId&&yn.measurementId!==se.options.measurementId&&Qe.warn(`The measurement ID in the local Firebase config (${se.options.measurementId}) does not match the measurement ID fetched from the server (${yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yn=>Qe.error(yn)),He.push(Ze);const et=en().then(yn=>{if(yn)return Rt.getId()}),[Qt,hn]=yield Promise.all([Ze,et]);ze()||_t(ye,Qt.measurementId),Ft("js",new Date);const dn=null!==(de=null==re?void 0:re.config)&&void 0!==de?de:{};return dn.origin="firebase",dn.update=!0,null!=hn&&(dn[te]=hn),Ft("config",Qt.measurementId,dn),Qt.measurementId})).apply(this,arguments)}class Jt{constructor(He){this.app=He}_delete(){return delete vn[this.app.options.appId],Promise.resolve()}}let vn={},Rn=[];const Fn={};let Un,En,Kn="dataLayer",er=!1;function zt(se,He,at){!function(){const se=[];if((0,he.ru)()&&se.push("This is a browser extension environment."),(0,he.zI)()||se.push("Cookies are not available."),se.length>0){const He=se.map((Rt,Ft)=>`(${Ft+1}) ${Rt}`).join(" "),at=xe.create("invalid-analytics-context",{errorInfo:He});Qe.warn(at.message)}}();const Rt=se.options.appId;if(!Rt)throw xe.create("no-app-id");if(!se.options.apiKey){if(!se.options.measurementId)throw xe.create("no-api-key");Qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${se.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vn[Rt])throw xe.create("already-exists",{id:Rt});if(!er){!function(se){let He=[];Array.isArray(window[se])?He=window[se]:window[se]=He}(Kn);const{wrappedGtag:ye,gtagCore:re}=function(se,He,at,Rt,Ft){let ye=function(...re){window[Rt].push(arguments)};return window[Ft]&&"function"==typeof window[Ft]&&(ye=window[Ft]),window[Ft]=function(se,He,at,Rt){function ye(){return(ye=(0,f.Z)(function*(re,de,Ze){try{"event"===re?yield We(se,He,at,de,Ze):"config"===re?yield oe(se,He,at,Rt,de,Ze):se("set",de)}catch(et){Qe.error(et)}})).apply(this,arguments)}return function(re,de,Ze){return ye.apply(this,arguments)}}(ye,se,He,at),{gtagCore:ye,wrappedGtag:window[Ft]}}(vn,Rn,Fn,Kn,"gtag");En=ye,Un=re,er=!0}return vn[Rt]=function(se,He,at,Rt,Ft,ye,re){return cn.apply(this,arguments)}(se,Rn,Fn,He,Un,Kn,at),new Jt(se)}function qn(){return(qn=(0,f.Z)(function*(se,He,at,Rt,Ft){if(Ft&&Ft.global)se("event",at,Rt);else{const ye=yield He;se("event",at,Object.assign(Object.assign({},Rt),{send_to:ye}))}})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(se,He,at,Rt){if(Rt&&Rt.global)return se("set",{user_id:at}),Promise.resolve();se("config",yield He,{update:!0,user_id:at})})).apply(this,arguments)}function tn(se=(0,_.getApp)()){se=(0,he.m9)(se);const He=(0,_._getProvider)(se,Ie);return He.isInitialized()?He.getImmediate():function(se,He={}){const at=(0,_._getProvider)(se,Ie);if(at.isInitialized()){const Ft=at.getImmediate();if((0,he.vZ)(He,at.getOptions()))return Ft;throw xe.create("already-initialized")}return at.initialize({options:He})}(se)}function nr(){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(se){return!1}})).apply(this,arguments)}function mn(se,He,at){se=(0,he.m9)(se),function(se,He,at,Rt){return Ve.apply(this,arguments)}(En,vn[se.app.options.appId],He,at).catch(Rt=>Qe.error(Rt))}function q(se,He,at,Rt){se=(0,he.m9)(se),function(se,He,at,Rt,Ft){return qn.apply(this,arguments)}(En,vn[se.app.options.appId],He,at,Rt).catch(Ft=>Qe.error(Ft))}const F="@firebase/analytics",V="0.7.4";(0,_._registerComponent)(new fe.wA(Ie,(He,{options:at})=>zt(He.getProvider("app").getImmediate(),He.getProvider("installations-internal").getImmediate(),at),"PUBLIC")),(0,_._registerComponent)(new fe.wA("analytics-internal",function(He){try{const at=He.getProvider(Ie).getImmediate();return{logEvent:(Rt,Ft,ye)=>q(at,Rt,Ft,ye)}}catch(at){throw xe.create("interop-component-reg-failed",{reason:at})}},"PRIVATE")),(0,_.registerVersion)(F,V),(0,_.registerVersion)(F,V,"esm2017")},7713:(Lt,je,N)=>{"use strict";N.d(je,{Mq:()=>f.getApp,C6:()=>f.getApps,ZF:()=>f.initializeApp,KN:()=>f.registerVersion});var f=N(1572);(0,f.registerVersion)("firebase","9.5.0","app")},7892:(Lt,je,N)=>{"use strict";N.d(je,{Z:()=>f.Z});var f=N(6293);f.Z.registerVersion("firebase","9.5.0","app-compat")},2115:(Lt,je,N)=>{"use strict";N.r(je);var f=N(8239),_=N(6293),$=N(6972),he=N(4213),Ie=(N(1572),N(3855),N(1177));function te(){return window}function ie(){return(ie=(0,f.Z)(function*(ye,re,de){var Ze;const{BuildInfo:et}=te();(0,$.ap)(re.sessionId,"AuthEvent did not contain a session ID");const Qt=yield Me(re.sessionId),hn={};return(0,$.aq)()?hn.ibi=et.packageName:(0,$.ar)()?hn.apn=et.packageName:(0,$.as)(ye,"operation-not-supported-in-this-environment"),et.displayName&&(hn.appDisplayName=et.displayName),hn.sessionId=Qt,(0,$.at)(ye,de,re.type,void 0,null!==(Ze=re.eventId)&&void 0!==Ze?Ze:void 0,hn)})).apply(this,arguments)}function Qe(){return(Qe=(0,f.Z)(function*(ye){const{BuildInfo:re}=te(),de={};(0,$.aq)()?de.iosBundleId=re.packageName:(0,$.ar)()?de.androidPackageName=re.packageName:(0,$.as)(ye,"operation-not-supported-in-this-environment"),yield(0,$.au)(ye,de)})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(ye,re,de){const{cordova:Ze}=te();let et=()=>{};try{yield new Promise((Qt,hn)=>{let dn=null;function yn(){var fn;Qt();const Bn=null===(fn=Ze.plugins.browsertab)||void 0===fn?void 0:fn.close;"function"==typeof Bn&&Bn(),"function"==typeof(null==de?void 0:de.close)&&de.close()}function Yn(){dn||(dn=window.setTimeout(()=>{hn((0,$.av)(ye,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===(null==document?void 0:document.visibilityState)&&Yn()}re.addPassiveListener(yn),document.addEventListener("resume",Yn,!1),(0,$.ar)()&&document.addEventListener("visibilitychange",xn,!1),et=()=>{re.removePassiveListener(yn),document.removeEventListener("resume",Yn,!1),document.removeEventListener("visibilitychange",xn,!1),dn&&window.clearTimeout(dn)}})}finally{et()}})).apply(this,arguments)}function Me(ye){return We.apply(this,arguments)}function We(){return(We=(0,f.Z)(function*(ye){const re=qe(ye),de=yield crypto.subtle.digest("SHA-256",re);return Array.from(new Uint8Array(de)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(ye){if((0,$.ap)(/[0-9a-zA-Z]+/.test(ye),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ye);const re=new ArrayBuffer(ye.length),de=new Uint8Array(re);for(let Ze=0;Ze<ye.length;Ze++)de[Ze]=ye.charCodeAt(Ze);return de}class gt extends $.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(re=>{this.resolveInialized=re})}addPassiveListener(re){this.passiveListeners.add(re)}removePassiveListener(re){this.passiveListeners.delete(re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(re){return this.resolveInialized(),this.passiveListeners.forEach(de=>de(re)),super.onEvent(re)}initialized(){var re=this;return(0,f.Z)(function*(){yield re.initPromise})()}}function xe(ye){return Et.apply(this,arguments)}function Et(){return(Et=(0,f.Z)(function*(ye){const re=yield ae()._get(Ce(ye));return re&&(yield ae()._remove(Ce(ye))),re})).apply(this,arguments)}function le(){const ye=[],re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let de=0;de<20;de++){const Ze=Math.floor(Math.random()*re.length);ye.push(re.charAt(Ze))}return ye.join("")}function ae(){return(0,$.ax)($.b)}function Ce(ye){return(0,$.ay)("authEvent",ye.config.apiKey,ye.name)}function Tt(ye){if(!(null==ye?void 0:ye.includes("?")))return{};const[re,...de]=ye.split("?");return(0,he.zd)(de.join("?"))}function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.av)("no-auth-event")}}function Vt(){var ye;return(null===(ye=null==self?void 0:self.location)||void 0===ye?void 0:ye.protocol)||null}function Jt(ye=(0,he.z$)()){return!("file:"!==Vt()&&"ionic:"!==Vt()||!ye.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const ye=self.localStorage,re=$.aG();if(ye)return ye.setItem(re,"1"),ye.removeItem(re),!function(ye=(0,he.z$)()){return(0,he.w1)()&&11===(null==document?void 0:document.documentMode)||function(ye=(0,he.z$)()){return/Edge\/\d+/.test(ye)}(ye)}()||(0,he.hl)()}catch(ye){return Un()&&(0,he.hl)()}return!1}function Un(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function En(){return("http:"===Vt()||"https:"===Vt()||(0,he.ru)()||Jt())&&!((0,he.b$)()||(0,he.UG)())&&Zn()&&!Un()}function er(){return Jt()&&"undefined"!=typeof document}function Ot(){return(Ot=(0,f.Z)(function*(){return!!er()&&new Promise(ye=>{const re=setTimeout(()=>{ye(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(re),ye(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},bn=$.aw,qn="persistence";function ue(ye){return ge.apply(this,arguments)}function ge(){return(ge=(0,f.Z)(function*(ye){yield ye._initializationPromise;const re=dt(),de=$.ay(qn,ye.config.apiKey,ye.name);(null==re?void 0:re.sessionStorage)&&re.sessionStorage.setItem(de,ye._getPersistence())})).apply(this,arguments)}function dt(){return"undefined"!=typeof window?window:null}const St=$.aw;class pt{constructor(){this.browserResolver=$.ax($.k),this.cordovaResolver=$.ax(class{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aA}_initialize(re){var de=this;return(0,f.Z)(function*(){const Ze=re._key();let et=de.eventManagers.get(Ze);return et||(et=new gt(re),de.eventManagers.set(Ze,et),de.attachCallbackListeners(re,et)),et})()}_openPopup(re){(0,$.as)(re,"operation-not-supported-in-this-environment")}_openRedirect(re,de,Ze,et){var Qt=this;return(0,f.Z)(function*(){!function(ye){var re,de,Ze,et,Qt,hn,dn,yn,Yn,xn;const fn=te();(0,$.aw)("function"==typeof(null===(re=null==fn?void 0:fn.universalLinks)||void 0===re?void 0:re.subscribe),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aw)(void 0!==(null===(de=null==fn?void 0:fn.BuildInfo)||void 0===de?void 0:de.packageName),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aw)("function"==typeof(null===(Qt=null===(et=null===(Ze=null==fn?void 0:fn.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===et?void 0:et.browsertab)||void 0===Qt?void 0:Qt.openUrl),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aw)("function"==typeof(null===(yn=null===(dn=null===(hn=null==fn?void 0:fn.cordova)||void 0===hn?void 0:hn.plugins)||void 0===dn?void 0:dn.browsertab)||void 0===yn?void 0:yn.isAvailable),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aw)("function"==typeof(null===(xn=null===(Yn=null==fn?void 0:fn.cordova)||void 0===Yn?void 0:Yn.InAppBrowser)||void 0===xn?void 0:xn.open),ye,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(re);const hn=yield Qt._initialize(re);yield hn.initialized(),hn.resetRedirect(),(0,$.aB)(),yield Qt._originValidation(re);const dn=function(ye,re,de=null){return{type:re,eventId:de,urlResponse:null,sessionId:le(),postBody:null,tenantId:ye.tenantId,error:(0,$.av)(ye,"no-auth-event")}}(re,Ze,et);yield function(ye,re){return ae()._set(Ce(ye),re)}(re,dn);const yn=yield function(ye,re,de){return ie.apply(this,arguments)}(re,dn,de),Yn=yield function(ye){const{cordova:re}=te();return new Promise(de=>{re.plugins.browsertab.isAvailable(Ze=>{let et=null;Ze?re.plugins.browsertab.openUrl(ye):et=re.InAppBrowser.open(ye,(0,$.ao)()?"_blank":"_system","location=yes"),de(et)})})}(yn);return function(ye,re,de){return yt.apply(this,arguments)}(re,hn,Yn)})()}_isIframeWebStorageSupported(re,de){throw new Error("Method not implemented.")}_originValidation(re){const de=re._key();return this.originValidationPromises[de]||(this.originValidationPromises[de]=function(ye){return Qe.apply(this,arguments)}(re)),this.originValidationPromises[de]}attachCallbackListeners(re,de){const{universalLinks:Ze,handleOpenURL:et,BuildInfo:Qt}=te(),hn=setTimeout((0,f.Z)(function*(){yield xe(re),de.onEvent(Ct())}),500),dn=function(){var xn=(0,f.Z)(function*(fn){clearTimeout(hn);const Bn=yield xe(re);let Ut=null;Bn&&(null==fn?void 0:fn.url)&&(Ut=function(ye,re){var de,Ze;const et=function(ye){const re=Tt(ye),de=re.link?decodeURIComponent(re.link):void 0,Ze=Tt(de).link,et=re.deep_link_id?decodeURIComponent(re.deep_link_id):void 0;return Tt(et).link||et||Ze||de||ye}(re);if(et.includes("/__/auth/callback")){const Qt=Tt(et),hn=Qt.firebaseError?function(ye){try{return JSON.parse(ye)}catch(re){return null}}(decodeURIComponent(Qt.firebaseError)):null,dn=null===(Ze=null===(de=null==hn?void 0:hn.code)||void 0===de?void 0:de.split("auth/"))||void 0===Ze?void 0:Ze[1],yn=dn?(0,$.av)(dn):null;return yn?{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,error:yn,urlResponse:null,sessionId:null,postBody:null}:{type:ye.type,eventId:ye.eventId,tenantId:ye.tenantId,sessionId:ye.sessionId,urlResponse:et,postBody:null}}return null}(Bn,fn.url)),de.onEvent(Ut||Ct())});return function(Bn){return xn.apply(this,arguments)}}();void 0!==Ze&&"function"==typeof Ze.subscribe&&Ze.subscribe(null,dn);const yn=et,Yn=`${Qt.packageName.toLowerCase()}://`;te().handleOpenURL=function(){var xn=(0,f.Z)(function*(fn){if(fn.toLowerCase().startsWith(Yn)&&dn({url:fn}),"function"==typeof yn)try{yn(fn)}catch(Bn){console.error(Bn)}});return function(fn){return xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aA}_initialize(re){var de=this;return(0,f.Z)(function*(){return yield de.selectUnderlyingResolver(),de.assertedUnderlyingResolver._initialize(re)})()}_openPopup(re,de,Ze,et){var Qt=this;return(0,f.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openPopup(re,de,Ze,et)})()}_openRedirect(re,de,Ze,et){var Qt=this;return(0,f.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openRedirect(re,de,Ze,et)})()}_isIframeWebStorageSupported(re,de){this.assertedUnderlyingResolver._isIframeWebStorageSupported(re,de)}_originValidation(re){return this.assertedUnderlyingResolver._originValidation(re)}get _shouldInitProactively(){return er()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var re=this;return(0,f.Z)(function*(){if(re.underlyingResolver)return;const de=yield function(){return Ot.apply(this,arguments)}();re.underlyingResolver=de?re.cordovaResolver:re.browserResolver})()}}function Dt(ye){return ye.unwrap()}function Gn(ye){return rn(ye)}function rn(ye){const{_tokenResponse:re}=ye instanceof he.ZR?ye.customData:ye;if(!re)return null;if(!(ye instanceof he.ZR)&&"temporaryProof"in re&&"phoneNumber"in re)return $.P.credentialFromResult(ye);const de=re.providerId;if(!de||de===$.o.PASSWORD)return null;let Ze;switch(de){case $.o.GOOGLE:Ze=$.N;break;case $.o.FACEBOOK:Ze=$.M;break;case $.o.GITHUB:Ze=$.Q;break;case $.o.TWITTER:Ze=$.V;break;default:const{oauthIdToken:et,oauthAccessToken:Qt,oauthTokenSecret:hn,pendingToken:dn,nonce:yn}=re;return Qt||hn||et||dn?dn?de.startsWith("saml.")?$.aJ._create(de,dn):$.I._fromParams({providerId:de,signInMethod:de,pendingToken:dn,idToken:et,accessToken:Qt}):new $.T(de).credential({idToken:et,accessToken:Qt,rawNonce:yn}):null}return ye instanceof he.ZR?Ze.credentialFromError(ye):Ze.credentialFromResult(ye)}function pn(ye,re){return re.catch(de=>{throw de instanceof he.ZR&&function(ye,re){var de;const Ze=null===(de=re.customData)||void 0===de?void 0:de._tokenResponse;if("auth/multi-factor-auth-required"===re.code)re.resolver=new me(ye,$.am(ye,re));else if(Ze){const et=rn(re),Qt=re;et&&(Qt.credential=et,Qt.tenantId=Ze.tenantId||void 0,Qt.email=Ze.email||void 0,Qt.phoneNumber=Ze.phoneNumber||void 0)}}(ye,de),de}).then(de=>{const et=de.user;return{operationType:de.operationType,credential:Gn(de),additionalUserInfo:$.ak(de),user:q.getOrCreate(et)}})}function mn(ye,re){return _e.apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(ye,re){const de=yield re;return{verificationId:de.verificationId,confirm:Ze=>pn(ye,de.confirm(Ze))}})).apply(this,arguments)}class me{constructor(re,de){this.resolver=de,this.auth=re.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(re){return pn(Dt(this.auth),this.resolver.resolveSignIn(re))}}class q{constructor(re){this._delegate=re,this.multiFactor=$.an(re)}static getOrCreate(re){return q.USER_MAP.has(re)||q.USER_MAP.set(re,new q(re)),q.USER_MAP.get(re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(re){return this._delegate.getIdTokenResult(re)}getIdToken(re){return this._delegate.getIdToken(re)}linkAndRetrieveDataWithCredential(re){return this.linkWithCredential(re)}linkWithCredential(re){var de=this;return(0,f.Z)(function*(){return pn(de.auth,$.Y(de._delegate,re))})()}linkWithPhoneNumber(re,de){var Ze=this;return(0,f.Z)(function*(){return mn(Ze.auth,$.l(Ze._delegate,re,de))})()}linkWithPopup(re){var de=this;return(0,f.Z)(function*(){return pn(de.auth,$.d(de._delegate,re,pt))})()}linkWithRedirect(re){var de=this;return(0,f.Z)(function*(){return yield ue($.aC(de.auth)),$.g(de._delegate,re,pt)})()}reauthenticateAndRetrieveDataWithCredential(re){return this.reauthenticateWithCredential(re)}reauthenticateWithCredential(re){var de=this;return(0,f.Z)(function*(){return pn(de.auth,$.Z(de._delegate,re))})()}reauthenticateWithPhoneNumber(re,de){return mn(this.auth,$.r(this._delegate,re,de))}reauthenticateWithPopup(re){return pn(this.auth,$.e(this._delegate,re,pt))}reauthenticateWithRedirect(re){var de=this;return(0,f.Z)(function*(){return yield ue($.aC(de.auth)),$.h(de._delegate,re,pt)})()}sendEmailVerification(re){return $.aa(this._delegate,re)}unlink(re){var de=this;return(0,f.Z)(function*(){return yield $.aj(de._delegate,re),de})()}updateEmail(re){return $.af(this._delegate,re)}updatePassword(re){return $.ag(this._delegate,re)}updatePhoneNumber(re){return $.u(this._delegate,re)}updateProfile(re){return $.ae(this._delegate,re)}verifyBeforeUpdateEmail(re,de){return $.ab(this._delegate,re,de)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}q.USER_MAP=new WeakMap;const F=$.aw;let V=(()=>{class ye{constructor(de,Ze){if(this.app=de,Ze.isInitialized())return this._delegate=Ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=de.options;F(et,"invalid-api-key",{appName:de.name});let Qt=[$.K];if("undefined"!=typeof window){Qt=function(ye,re){const de=dt();if(!(null==de?void 0:de.sessionStorage))return[];const Ze=$.ay(qn,ye,re);switch(de.sessionStorage.getItem(Ze)){case zt.NONE:return[$.K];case zt.LOCAL:return[$.i,$.a];case zt.SESSION:return[$.a];default:return[]}}(et,de.name);for(const dn of[$.i,$.b,$.a])Qt.includes(dn)||Qt.push(dn)}F(et,"invalid-api-key",{appName:de.name});const hn="undefined"!=typeof window?pt:void 0;this._delegate=Ze.initialize({options:{persistence:Qt,popupRedirectResolver:hn}}),this._delegate._updateErrorMap($.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(de){this._delegate.languageCode=de}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(de){this._delegate.tenantId=de}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(de,Ze){$.E(this._delegate,de,Ze)}applyActionCode(de){return $.a1(this._delegate,de)}checkActionCode(de){return $.a2(this._delegate,de)}confirmPasswordReset(de,Ze){return $.a0(this._delegate,de,Ze)}createUserWithEmailAndPassword(de,Ze){var et=this;return(0,f.Z)(function*(){return pn(et._delegate,$.a4(et._delegate,de,Ze))})()}fetchProvidersForEmail(de){return this.fetchSignInMethodsForEmail(de)}fetchSignInMethodsForEmail(de){return $.a9(this._delegate,de)}isSignInWithEmailLink(de){return $.a7(this._delegate,de)}getRedirectResult(){var de=this;return(0,f.Z)(function*(){F(En(),de._delegate,"operation-not-supported-in-this-environment");const Ze=yield $.j(de._delegate,pt);return Ze?pn(de._delegate,Promise.resolve(Ze)):{credential:null,user:null}})()}addFrameworkForLogging(de){!function(ye,re){(0,$.aC)(ye)._logFramework(re)}(this._delegate,de)}onAuthStateChanged(de,Ze,et){const{next:Qt,error:hn,complete:dn}=Oe(de,Ze,et);return this._delegate.onAuthStateChanged(Qt,hn,dn)}onIdTokenChanged(de,Ze,et){const{next:Qt,error:hn,complete:dn}=Oe(de,Ze,et);return this._delegate.onIdTokenChanged(Qt,hn,dn)}sendSignInLinkToEmail(de,Ze){return $.a6(this._delegate,de,Ze)}sendPasswordResetEmail(de,Ze){return $.$(this._delegate,de,Ze||void 0)}setPersistence(de){var Ze=this;return(0,f.Z)(function*(){let et;switch(function(ye,re){bn(Object.values(zt).includes(re),ye,"invalid-persistence-type"),(0,he.b$)()?bn(re!==zt.SESSION,ye,"unsupported-persistence-type"):(0,he.UG)()?bn(re===zt.NONE,ye,"unsupported-persistence-type"):Un()?bn(re===zt.NONE||re===zt.LOCAL&&(0,he.hl)(),ye,"unsupported-persistence-type"):bn(re===zt.NONE||Zn(),ye,"unsupported-persistence-type")}(Ze._delegate,de),de){case zt.SESSION:et=$.a;break;case zt.LOCAL:et=(yield $.ax($.i)._isAvailable())?$.i:$.b;break;case zt.NONE:et=$.K;break;default:return $.as("argument-error",{appName:Ze._delegate.name})}return Ze._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential(de){return this.signInWithCredential(de)}signInAnonymously(){return pn(this._delegate,$.W(this._delegate))}signInWithCredential(de){return pn(this._delegate,$.X(this._delegate,de))}signInWithCustomToken(de){return pn(this._delegate,$._(this._delegate,de))}signInWithEmailAndPassword(de,Ze){return pn(this._delegate,$.a5(this._delegate,de,Ze))}signInWithEmailLink(de,Ze){return pn(this._delegate,$.a8(this._delegate,de,Ze))}signInWithPhoneNumber(de,Ze){return mn(this._delegate,$.s(this._delegate,de,Ze))}signInWithPopup(de){var Ze=this;return(0,f.Z)(function*(){return F(En(),Ze._delegate,"operation-not-supported-in-this-environment"),pn(Ze._delegate,$.c(Ze._delegate,de,pt))})()}signInWithRedirect(de){var Ze=this;return(0,f.Z)(function*(){return F(En(),Ze._delegate,"operation-not-supported-in-this-environment"),yield ue(Ze._delegate),$.f(Ze._delegate,de,pt)})()}updateCurrentUser(de){return this._delegate.updateCurrentUser(de)}verifyPasswordResetCode(de){return $.a3(this._delegate,de)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ye.Persistence=zt,ye})();function Oe(ye,re,de){let Ze=ye;"function"!=typeof ye&&({next:Ze,error:re,complete:de}=ye);const et=Ze;return{next:hn=>et(hn&&q.getOrCreate(hn)),error:re,complete:de}}class se{constructor(){this.providerId="phone",this._delegate=new $.P(Dt(_.Z.auth()))}static credential(re,de){return $.P.credential(re,de)}verifyPhoneNumber(re,de){return this._delegate.verifyPhoneNumber(re,de)}unwrap(){return this._delegate}}se.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,se.PROVIDER_ID=$.P.PROVIDER_ID;const He=$.aw;var ye;(ye=_.Z).INTERNAL.registerComponent(new Ie.wA("auth-compat",re=>{const de=re.getProvider("app-compat").getImmediate(),Ze=re.getProvider("auth");return new V(de,Ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.L,FacebookAuthProvider:$.M,GithubAuthProvider:$.Q,GoogleAuthProvider:$.N,OAuthProvider:$.T,SAMLAuthProvider:$.U,PhoneAuthProvider:se,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:class{constructor(re,de,Ze=_.Z.app()){var et;He(null===(et=Ze.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Ze.name}),this._delegate=new $.R(re,de,Ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:$.V,Auth:V,AuthCredential:$.G,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ye.registerVersion("@firebase/auth-compat","0.2.3")},4995:function(Lt,je){!function(N){"use strict";function f(oe){return Array.prototype.slice.call(oe)}function _(oe){return new Promise(function(Me,We){oe.onsuccess=function(){Me(oe.result)},oe.onerror=function(){We(oe.error)}})}function $(oe,Me,We){var qe,Le=new Promise(function(gt,ze){_(qe=oe[Me].apply(oe,We)).then(gt,ze)});return Le.request=qe,Le}function he(oe,Me,We){var qe=$(oe,Me,We);return qe.then(function(Le){if(Le)return new Y(Le,qe.request)})}function fe(oe,Me,We){We.forEach(function(qe){Object.defineProperty(oe.prototype,qe,{get:function(){return this[Me][qe]},set:function(Le){this[Me][qe]=Le}})})}function Ae(oe,Me,We,qe){qe.forEach(function(Le){Le in We.prototype&&(oe.prototype[Le]=function(){return $(this[Me],Le,arguments)})})}function Ie(oe,Me,We,qe){qe.forEach(function(Le){Le in We.prototype&&(oe.prototype[Le]=function(){return this[Me][Le].apply(this[Me],arguments)})})}function te(oe,Me,We,qe){qe.forEach(function(Le){Le in We.prototype&&(oe.prototype[Le]=function(){return he(this[Me],Le,arguments)})})}function Pe(oe){this._index=oe}function Y(oe,Me){this._cursor=oe,this._request=Me}function ie(oe){this._store=oe}function Re(oe){this._tx=oe,this.complete=new Promise(function(Me,We){oe.oncomplete=function(){Me()},oe.onerror=function(){We(oe.error)},oe.onabort=function(){We(oe.error)}})}function Qe(oe,Me,We){this._db=oe,this.oldVersion=Me,this.transaction=new Re(We)}function Ke(oe){this._db=oe}fe(Pe,"_index",["name","keyPath","multiEntry","unique"]),Ae(Pe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),te(Pe,"_index",IDBIndex,["openCursor","openKeyCursor"]),fe(Y,"_cursor",["direction","key","primaryKey","value"]),Ae(Y,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(oe){oe in IDBCursor.prototype&&(Y.prototype[oe]=function(){var Me=this,We=arguments;return Promise.resolve().then(function(){return Me._cursor[oe].apply(Me._cursor,We),_(Me._request).then(function(qe){if(qe)return new Y(qe,Me._request)})})})}),ie.prototype.createIndex=function(){return new Pe(this._store.createIndex.apply(this._store,arguments))},ie.prototype.index=function(){return new Pe(this._store.index.apply(this._store,arguments))},fe(ie,"_store",["name","keyPath","indexNames","autoIncrement"]),Ae(ie,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),te(ie,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ie(ie,"_store",IDBObjectStore,["deleteIndex"]),Re.prototype.objectStore=function(){return new ie(this._tx.objectStore.apply(this._tx,arguments))},fe(Re,"_tx",["objectStoreNames","mode"]),Ie(Re,"_tx",IDBTransaction,["abort"]),Qe.prototype.createObjectStore=function(){return new ie(this._db.createObjectStore.apply(this._db,arguments))},fe(Qe,"_db",["name","version","objectStoreNames"]),Ie(Qe,"_db",IDBDatabase,["deleteObjectStore","close"]),Ke.prototype.transaction=function(){return new Re(this._db.transaction.apply(this._db,arguments))},fe(Ke,"_db",["name","version","objectStoreNames"]),Ie(Ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(oe){[ie,Pe].forEach(function(Me){oe in Me.prototype&&(Me.prototype[oe.replace("open","iterate")]=function(){var We=f(arguments),qe=We[We.length-1],Le=this._store||this._index,gt=Le[oe].apply(Le,We.slice(0,-1));gt.onsuccess=function(){qe(gt.result)}})})}),[Pe,ie].forEach(function(oe){oe.prototype.getAll||(oe.prototype.getAll=function(Me,We){var qe=this,Le=[];return new Promise(function(gt){qe.iterateCursor(Me,function(ze){ze?(Le.push(ze.value),void 0===We||Le.length!=We?ze.continue():gt(Le)):gt(Le)})})})}),N.openDb=function(oe,Me,We){var qe=$(indexedDB,"open",[oe,Me]),Le=qe.request;return Le&&(Le.onupgradeneeded=function(gt){We&&We(new Qe(Le.result,gt.oldVersion,Le.transaction))}),qe.then(function(gt){return new Ke(gt)})},N.deleteDb=function(oe){return $(indexedDB,"deleteDatabase",[oe])},Object.defineProperty(N,"__esModule",{value:!0})}(je)},8305:(Lt,je,N)=>{"use strict";N.d(je,{y:()=>Y});var f=N(3113),_=N(7908),$=N(4816),he=N(4623);var Ie=N(5367),te=N(5044),Pe=N(8706);let Y=(()=>{class Ke{constructor(yt){yt&&(this._subscribe=yt)}lift(yt){const oe=new Ke;return oe.source=this,oe.operator=yt,oe}subscribe(yt,oe,Me){const We=function(Ke){return Ke&&Ke instanceof f.Lv||function(Ke){return Ke&&(0,te.m)(Ke.next)&&(0,te.m)(Ke.error)&&(0,te.m)(Ke.complete)}(Ke)&&(0,_.Nn)(Ke)}(yt)?yt:new f.Hp(yt,oe,Me);return(0,Pe.x)(()=>{const{operator:qe,source:Le}=this;We.add(qe?qe.call(We,Le):Le?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(yt){try{return this._subscribe(yt)}catch(oe){yt.error(oe)}}forEach(yt,oe){return new(oe=ie(oe))((Me,We)=>{let qe;qe=this.subscribe(Le=>{try{yt(Le)}catch(gt){We(gt),null==qe||qe.unsubscribe()}},We,Me)})}_subscribe(yt){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(yt)}[$.L](){return this}pipe(...yt){return function(Ke){return 0===Ke.length?he.y:1===Ke.length?Ke[0]:function(yt){return Ke.reduce((oe,Me)=>Me(oe),yt)}}(yt)(this)}toPromise(yt){return new(yt=ie(yt))((oe,Me)=>{let We;this.subscribe(qe=>We=qe,qe=>Me(qe),()=>oe(We))})}}return Ke.create=_t=>new Ke(_t),Ke})();function ie(Ke){var _t;return null!==(_t=null!=Ke?Ke:Ie.v.Promise)&&void 0!==_t?_t:Promise}},273:(Lt,je,N)=>{"use strict";N.d(je,{x:()=>Ie});var f=N(8305),_=N(7908);const he=(0,N(4893).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=N(3980),Ae=N(8706);let Ie=(()=>{class Pe extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Re=new te(this,this);return Re.operator=ie,Re}_throwIfClosed(){if(this.closed)throw new he}next(ie){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Re=this.observers.slice();for(const Qe of Re)Qe.next(ie)}})}error(ie){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Re}=this;for(;Re.length;)Re.shift().error(ie)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Re,isStopped:Qe,observers:Ke}=this;return Re||Qe?_.Lc:(Ke.push(ie),new _.w0(()=>(0,fe.P)(Ke,ie)))}_checkFinalizedStatuses(ie){const{hasError:Re,thrownError:Qe,isStopped:Ke}=this;Re?ie.error(Qe):Ke&&ie.complete()}asObservable(){const ie=new f.y;return ie.source=this,ie}}return Pe.create=(Y,ie)=>new te(Y,ie),Pe})();class te extends Ie{constructor(Y,ie){super(),this.destination=Y,this.source=ie}next(Y){var ie,Re;null===(Re=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Re||Re.call(ie,Y)}error(Y){var ie,Re;null===(Re=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Re||Re.call(ie,Y)}complete(){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===ie||ie.call(Y)}_subscribe(Y){var ie,Re;return null!==(Re=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Y))&&void 0!==Re?Re:_.Lc}}},3113:(Lt,je,N)=>{"use strict";N.d(je,{Hp:()=>Qe,Lv:()=>Re});var f=N(5044),_=N(7908),$=N(5367),he=N(5160);function fe(){}const Ae=Pe("C",void 0,void 0);function Pe(Me,We,qe){return{kind:Me,value:We,error:qe}}var Y=N(2496),ie=N(8706);class Re extends _.w0{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,_.Nn)(We)&&We.add(this)):this.destination=oe}static create(We,qe,Le){return new Qe(We,qe,Le)}next(We){this.isStopped?yt(Pe("N",We,void 0),this):this._next(We)}error(We){this.isStopped?yt(Pe("E",void 0,We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?yt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Qe extends Re{constructor(We,qe,Le){let gt;if(super(),(0,f.m)(We))gt=We;else if(We){let ze;({next:gt,error:qe,complete:Le}=We),this&&$.v.useDeprecatedNextContext?(ze=Object.create(We),ze.unsubscribe=()=>this.unsubscribe()):ze=We,gt=null==gt?void 0:gt.bind(ze),qe=null==qe?void 0:qe.bind(ze),Le=null==Le?void 0:Le.bind(ze)}this.destination={next:gt?Ke(gt):fe,error:Ke(null!=qe?qe:_t),complete:Le?Ke(Le):fe}}}function Ke(Me,We){return(...qe)=>{try{Me(...qe)}catch(Le){$.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Le):(0,he.h)(Le)}}}function _t(Me){throw Me}function yt(Me,We){const{onStoppedNotification:qe}=$.v;qe&&Y.z.setTimeout(()=>qe(Me,We))}const oe={closed:!0,next:fe,error:_t,complete:fe}},7908:(Lt,je,N)=>{"use strict";N.d(je,{Lc:()=>Ae,w0:()=>fe,Nn:()=>Ie});var f=N(5044);const $=(0,N(4893).d)(Pe=>function(ie){Pe(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Re,Qe)=>`${Qe+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var he=N(3980);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ke of ie)Ke.remove(this);else ie.remove(this);const{initialTeardown:Re}=this;if((0,f.m)(Re))try{Re()}catch(Ke){Y=Ke instanceof $?Ke.errors:[Ke]}const{_teardowns:Qe}=this;if(Qe){this._teardowns=null;for(const Ke of Qe)try{te(Ke)}catch(_t){Y=null!=Y?Y:[],_t instanceof $?Y=[...Y,..._t.errors]:Y.push(_t)}}if(Y)throw new $(Y)}}add(Y){var ie;if(Y&&Y!==this)if(this.closed)te(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._teardowns=null!==(ie=this._teardowns)&&void 0!==ie?ie:[]).push(Y)}}_hasParent(Y){const{_parentage:ie}=this;return ie===Y||Array.isArray(ie)&&ie.includes(Y)}_addParent(Y){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(Y),ie):ie?[ie,Y]:Y}_removeParent(Y){const{_parentage:ie}=this;ie===Y?this._parentage=null:Array.isArray(ie)&&(0,he.P)(ie,Y)}remove(Y){const{_teardowns:ie}=this;ie&&(0,he.P)(ie,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Pe=new fe;return Pe.closed=!0,Pe})();const Ae=fe.EMPTY;function Ie(Pe){return Pe instanceof fe||Pe&&"closed"in Pe&&(0,f.m)(Pe.remove)&&(0,f.m)(Pe.add)&&(0,f.m)(Pe.unsubscribe)}function te(Pe){(0,f.m)(Pe)?Pe():Pe.unsubscribe()}},5367:(Lt,je,N)=>{"use strict";N.d(je,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1404:(Lt,je,N)=>{"use strict";N.d(je,{z:()=>fe});var f=N(5373),$=N(8830),he=N(5947);function fe(...Ae){return(0,f.J)(1)((0,he.D)(Ae,(0,$.yG)(Ae)))}},5583:(Lt,je,N)=>{"use strict";N.d(je,{E:()=>_});const _=new(N(8305).y)(fe=>fe.complete())},5947:(Lt,je,N)=>{"use strict";N.d(je,{D:()=>gt});var f=N(9985),_=N(4763),$=N(5222),Ae=N(8305),te=N(5497),Pe=N(5044),Y=N(8395);function Re(ze,vt){if(!ze)throw new Error("Iterable cannot be null");return new Ae.y(xe=>{(0,Y.f)(xe,vt,()=>{const Et=ze[Symbol.asyncIterator]();(0,Y.f)(xe,vt,()=>{Et.next().then(ee=>{ee.done?xe.complete():xe.next(ee.value)})},0,!0)})})}var Qe=N(1073),Ke=N(2442),_t=N(1537),yt=N(2317),oe=N(9908),Me=N(3754),We=N(7751);function gt(ze,vt){return vt?function(ze,vt){if(null!=ze){if((0,Qe.c)(ze))return function(ze,vt){return(0,f.Xf)(ze).pipe((0,$.R)(vt),(0,_.Q)(vt))}(ze,vt);if((0,_t.z)(ze))return function(ze,vt){return new Ae.y(xe=>{let Et=0;return vt.schedule(function(){Et===ze.length?xe.complete():(xe.next(ze[Et++]),xe.closed||this.schedule())})})}(ze,vt);if((0,Ke.t)(ze))return function(ze,vt){return(0,f.Xf)(ze).pipe((0,$.R)(vt),(0,_.Q)(vt))}(ze,vt);if((0,oe.D)(ze))return Re(ze,vt);if((0,yt.T)(ze))return function(ze,vt){return new Ae.y(xe=>{let Et;return(0,Y.f)(xe,vt,()=>{Et=ze[te.h](),(0,Y.f)(xe,vt,()=>{let ee,le;try{({value:ee,done:le}=Et.next())}catch(ae){return void xe.error(ae)}le?xe.complete():xe.next(ee)},0,!0)}),()=>(0,Pe.m)(null==Et?void 0:Et.return)&&Et.return()})}(ze,vt);if((0,We.L)(ze))return function(ze,vt){return Re((0,We.Q)(ze),vt)}(ze,vt)}throw(0,Me.z)(ze)}(ze,vt):(0,f.Xf)(ze)}},9985:(Lt,je,N)=>{"use strict";N.d(je,{Xf:()=>Qe});var f=N(9162),_=N(1537),$=N(2442),he=N(8305),fe=N(1073),Ae=N(9908),Ie=N(3754),te=N(2317),Pe=N(7751),Y=N(5044),ie=N(5160),Re=N(4816);function Qe(Le){if(Le instanceof he.y)return Le;if(null!=Le){if((0,fe.c)(Le))return function(Le){return new he.y(gt=>{const ze=Le[Re.L]();if((0,Y.m)(ze.subscribe))return ze.subscribe(gt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,_.z)(Le))return function(Le){return new he.y(gt=>{for(let ze=0;ze<Le.length&&!gt.closed;ze++)gt.next(Le[ze]);gt.complete()})}(Le);if((0,$.t)(Le))return function(Le){return new he.y(gt=>{Le.then(ze=>{gt.closed||(gt.next(ze),gt.complete())},ze=>gt.error(ze)).then(null,ie.h)})}(Le);if((0,Ae.D)(Le))return Me(Le);if((0,te.T)(Le))return function(Le){return new he.y(gt=>{for(const ze of Le)if(gt.next(ze),gt.closed)return;gt.complete()})}(Le);if((0,Pe.L)(Le))return function(Le){return Me((0,Pe.Q)(Le))}(Le)}throw(0,Ie.z)(Le)}function Me(Le){return new he.y(gt=>{(function(Le,gt){var ze,vt,xe,Et;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ze=(0,f.KL)(Le);!(vt=yield ze.next()).done;)if(gt.next(vt.value),gt.closed)return}catch(ee){xe={error:ee}}finally{try{vt&&!vt.done&&(Et=ze.return)&&(yield Et.call(ze))}finally{if(xe)throw xe.error}}gt.complete()})})(Le,gt).catch(ze=>gt.error(ze))})}},3719:(Lt,je,N)=>{"use strict";N.d(je,{T:()=>Ae});var f=N(5373),_=N(9985),$=N(5583),he=N(8830),fe=N(5947);function Ae(...Ie){const te=(0,he.yG)(Ie),Pe=(0,he._6)(Ie,1/0),Y=Ie;return Y.length?1===Y.length?(0,_.Xf)(Y[0]):(0,f.J)(Pe)((0,fe.D)(Y,te)):$.E}},2997:(Lt,je,N)=>{"use strict";N.d(je,{of:()=>$});var f=N(8830),_=N(5947);function $(...he){const fe=(0,f.yG)(he);return(0,_.D)(he,fe)}},8889:(Lt,je,N)=>{"use strict";N.d(je,{Q:()=>_});var f=N(3113);class _ extends f.Lv{constructor(he,fe,Ae,Ie,te){super(he),this.onFinalize=te,this._next=fe?function(Pe){try{fe(Pe)}catch(Y){he.error(Y)}}:super._next,this._error=Ie?function(Pe){try{Ie(Pe)}catch(Y){he.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(Pe){he.error(Pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}},4799:(Lt,je,N)=>{"use strict";N.d(je,{b:()=>$});var f=N(5724),_=N(5044);function $(he,fe){return(0,_.m)(fe)?(0,f.z)(he,fe,1):(0,f.z)(he,1)}},8975:(Lt,je,N)=>{"use strict";N.d(je,{d:()=>$});var f=N(9947),_=N(8889);function $(he){return(0,f.e)((fe,Ae)=>{let Ie=!1;fe.subscribe(new _.Q(Ae,te=>{Ie=!0,Ae.next(te)},()=>{Ie||Ae.next(he),Ae.complete()}))})}},5488:(Lt,je,N)=>{"use strict";N.d(je,{x:()=>he});var f=N(4623),_=N(9947),$=N(8889);function he(Ae,Ie=f.y){return Ae=null!=Ae?Ae:fe,(0,_.e)((te,Pe)=>{let Y,ie=!0;te.subscribe(new $.Q(Pe,Re=>{const Qe=Ie(Re);(ie||!Ae(Y,Qe))&&(ie=!1,Y=Qe,Pe.next(Re))}))})}function fe(Ae,Ie){return Ae===Ie}},461:(Lt,je,N)=>{"use strict";N.d(je,{h:()=>$});var f=N(9947),_=N(8889);function $(he,fe){return(0,f.e)((Ae,Ie)=>{let te=0;Ae.subscribe(new _.Q(Ie,Pe=>he.call(fe,Pe,te++)&&Ie.next(Pe)))})}},6047:(Lt,je,N)=>{"use strict";N.d(je,{P:()=>Ie});var f=N(5907),_=N(461),$=N(9468),he=N(8975),fe=N(4724),Ae=N(4623);function Ie(te,Pe){const Y=arguments.length>=2;return ie=>ie.pipe(te?(0,_.h)((Re,Qe)=>te(Re,Qe,ie)):Ae.y,(0,$.q)(1),Y?(0,he.d)(Pe):(0,fe.T)(()=>new f.K))}},4753:(Lt,je,N)=>{"use strict";N.d(je,{U:()=>$});var f=N(9947),_=N(8889);function $(he,fe){return(0,f.e)((Ae,Ie)=>{let te=0;Ae.subscribe(new _.Q(Ie,Pe=>{Ie.next(he.call(fe,Pe,te++))}))})}},5373:(Lt,je,N)=>{"use strict";N.d(je,{J:()=>$});var f=N(5724),_=N(4623);function $(he=1/0){return(0,f.z)(_.y,he)}},5724:(Lt,je,N)=>{"use strict";N.d(je,{z:()=>te});var f=N(4753),_=N(9985),$=N(9947),fe=(N(8395),N(8889)),Ie=N(5044);function te(Pe,Y,ie=1/0){return(0,Ie.m)(Y)?te((Re,Qe)=>(0,f.U)((Ke,_t)=>Y(Re,Ke,Qe,_t))((0,_.Xf)(Pe(Re,Qe))),ie):("number"==typeof Y&&(ie=Y),(0,$.e)((Re,Qe)=>function(Pe,Y,ie,Re,Qe,Ke,_t,yt){const oe=[];let Me=0,We=0,qe=!1;const Le=()=>{qe&&!oe.length&&!Me&&Y.complete()},gt=vt=>Me<Re?ze(vt):oe.push(vt),ze=vt=>{Me++;let xe=!1;(0,_.Xf)(ie(vt,We++)).subscribe(new fe.Q(Y,Et=>{Y.next(Et)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Me--;oe.length&&Me<Re;){const Et=oe.shift();ze(Et)}Le()}catch(Et){Y.error(Et)}}))};return Pe.subscribe(new fe.Q(Y,gt,()=>{qe=!0,Le()})),()=>{}}(Re,Qe,Pe,ie)))}},4763:(Lt,je,N)=>{"use strict";N.d(je,{Q:()=>he});var f=N(8395),_=N(9947),$=N(8889);function he(fe,Ae=0){return(0,_.e)((Ie,te)=>{Ie.subscribe(new $.Q(te,Pe=>(0,f.f)(te,fe,()=>te.next(Pe),Ae),()=>(0,f.f)(te,fe,()=>te.complete(),Ae),Pe=>(0,f.f)(te,fe,()=>te.error(Pe),Ae)))})}},7518:(Lt,je,N)=>{"use strict";N.d(je,{G:()=>$});var f=N(9947),_=N(8889);function $(){return(0,f.e)((he,fe)=>{let Ae,Ie=!1;he.subscribe(new _.Q(fe,te=>{const Pe=Ae;Ae=te,Ie&&fe.next([Pe,te]),Ie=!0}))})}},9495:(Lt,je,N)=>{"use strict";N.d(je,{R:()=>he});var f=N(9947),_=N(8889);function $(fe,Ae,Ie,te,Pe){return(Y,ie)=>{let Re=Ie,Qe=Ae,Ke=0;Y.subscribe(new _.Q(ie,_t=>{const yt=Ke++;Qe=Re?fe(Qe,_t,yt):(Re=!0,_t),te&&ie.next(Qe)},Pe&&(()=>{Re&&ie.next(Qe),ie.complete()})))}}function he(fe,Ae){return(0,f.e)($(fe,Ae,arguments.length>=2,!0))}},3174:(Lt,je,N)=>{"use strict";N.d(je,{B:()=>Ae});var f=N(5947),_=N(9468),$=N(273),he=N(3113),fe=N(9947);function Ae(te={}){const{connector:Pe=(()=>new $.x),resetOnError:Y=!0,resetOnComplete:ie=!0,resetOnRefCountZero:Re=!0}=te;return Qe=>{let Ke=null,_t=null,yt=null,oe=0,Me=!1,We=!1;const qe=()=>{null==_t||_t.unsubscribe(),_t=null},Le=()=>{qe(),Ke=yt=null,Me=We=!1},gt=()=>{const ze=Ke;Le(),null==ze||ze.unsubscribe()};return(0,fe.e)((ze,vt)=>{oe++,!We&&!Me&&qe();const xe=yt=null!=yt?yt:Pe();vt.add(()=>{oe--,0===oe&&!We&&!Me&&(_t=Ie(gt,Re))}),xe.subscribe(vt),Ke||(Ke=new he.Hp({next:Et=>xe.next(Et),error:Et=>{We=!0,qe(),_t=Ie(Le,Y,Et),xe.error(Et)},complete:()=>{Me=!0,qe(),_t=Ie(Le,ie),xe.complete()}}),(0,f.D)(ze).subscribe(Ke))})(Qe)}}function Ie(te,Pe,...Y){return!0===Pe?(te(),null):!1===Pe?null:Pe(...Y).pipe((0,_.q)(1)).subscribe(()=>te())}},3970:(Lt,je,N)=>{"use strict";N.d(je,{O:()=>he});var f=N(1404),_=N(8830),$=N(9947);function he(...fe){const Ae=(0,_.yG)(fe);return(0,$.e)((Ie,te)=>{(Ae?(0,f.z)(fe,Ie,Ae):(0,f.z)(fe,Ie)).subscribe(te)})}},5222:(Lt,je,N)=>{"use strict";N.d(je,{R:()=>_});var f=N(9947);function _($,he=0){return(0,f.e)((fe,Ae)=>{Ae.add($.schedule(()=>fe.subscribe(Ae),he))})}},3067:(Lt,je,N)=>{"use strict";N.d(je,{w:()=>he});var f=N(9985),_=N(9947),$=N(8889);function he(fe,Ae){return(0,_.e)((Ie,te)=>{let Pe=null,Y=0,ie=!1;const Re=()=>ie&&!Pe&&te.complete();Ie.subscribe(new $.Q(te,Qe=>{null==Pe||Pe.unsubscribe();let Ke=0;const _t=Y++;(0,f.Xf)(fe(Qe,_t)).subscribe(Pe=new $.Q(te,yt=>te.next(Ae?Ae(Qe,yt,_t,Ke++):yt),()=>{Pe=null,Re()}))},()=>{ie=!0,Re()}))})}},9468:(Lt,je,N)=>{"use strict";N.d(je,{q:()=>he});var f=N(5583),_=N(9947),$=N(8889);function he(fe){return fe<=0?()=>f.E:(0,_.e)((Ae,Ie)=>{let te=0;Ae.subscribe(new $.Q(Ie,Pe=>{++te<=fe&&(Ie.next(Pe),fe<=te&&Ie.complete())}))})}},7384:(Lt,je,N)=>{"use strict";N.d(je,{b:()=>fe});var f=N(5044),_=N(9947),$=N(8889),he=N(4623);function fe(Ae,Ie,te){const Pe=(0,f.m)(Ae)||Ie||te?{next:Ae,error:Ie,complete:te}:Ae;return Pe?(0,_.e)((Y,ie)=>{var Re;null===(Re=Pe.subscribe)||void 0===Re||Re.call(Pe);let Qe=!0;Y.subscribe(new $.Q(ie,Ke=>{var _t;null===(_t=Pe.next)||void 0===_t||_t.call(Pe,Ke),ie.next(Ke)},()=>{var Ke;Qe=!1,null===(Ke=Pe.complete)||void 0===Ke||Ke.call(Pe),ie.complete()},Ke=>{var _t;Qe=!1,null===(_t=Pe.error)||void 0===_t||_t.call(Pe,Ke),ie.error(Ke)},()=>{var Ke,_t;Qe&&(null===(Ke=Pe.unsubscribe)||void 0===Ke||Ke.call(Pe)),null===(_t=Pe.finalize)||void 0===_t||_t.call(Pe)}))}):he.y}},4724:(Lt,je,N)=>{"use strict";N.d(je,{T:()=>he});var f=N(5907),_=N(9947),$=N(8889);function he(Ae=fe){return(0,_.e)((Ie,te)=>{let Pe=!1;Ie.subscribe(new $.Q(te,Y=>{Pe=!0,te.next(Y)},()=>Pe?te.complete():te.error(Ae())))})}function fe(){return new f.K}},2869:(Lt,je,N)=>{"use strict";N.d(je,{o:()=>fe});var f=N(7908);class _ extends f.w0{constructor(Ie,te){super()}schedule(Ie,te=0){return this}}const $={setInterval(...Ae){const{delegate:Ie}=$;return((null==Ie?void 0:Ie.setInterval)||setInterval)(...Ae)},clearInterval(Ae){const{delegate:Ie}=$;return((null==Ie?void 0:Ie.clearInterval)||clearInterval)(Ae)},delegate:void 0};var he=N(3980);class fe extends _{constructor(Ie,te){super(Ie,te),this.scheduler=Ie,this.work=te,this.pending=!1}schedule(Ie,te=0){if(this.closed)return this;this.state=Ie;const Pe=this.id,Y=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(Y,Pe,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(Y,this.id,te),this}requestAsyncId(Ie,te,Pe=0){return $.setInterval(Ie.flush.bind(Ie,this),Pe)}recycleAsyncId(Ie,te,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return te;$.clearInterval(te)}execute(Ie,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(Ie,te);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,te){let Y,Pe=!1;try{this.work(Ie)}catch(ie){Pe=!0,Y=ie||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:te}=this,{actions:Pe}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Pe,this),null!=Ie&&(this.id=this.recycleAsyncId(te,Ie,null)),this.delay=null,super.unsubscribe()}}}},8843:(Lt,je,N)=>{"use strict";N.d(je,{v:()=>$});var f=N(1733);class _{constructor(fe,Ae=_.now){this.schedulerActionCtor=fe,this.now=Ae}schedule(fe,Ae=0,Ie){return new this.schedulerActionCtor(this,fe).schedule(Ie,Ae)}}_.now=f.l.now;class $ extends _{constructor(fe,Ae=_.now){super(fe,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Ae}=this;if(this._active)return void Ae.push(fe);let Ie;this._active=!0;do{if(Ie=fe.execute(fe.state,fe.delay))break}while(fe=Ae.shift());if(this._active=!1,Ie){for(;fe=Ae.shift();)fe.unsubscribe();throw Ie}}}},2210:(Lt,je,N)=>{"use strict";N.d(je,{z:()=>$});var f=N(2869);const $=new(N(8843).v)(f.o)},1733:(Lt,je,N)=>{"use strict";N.d(je,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},2496:(Lt,je,N)=>{"use strict";N.d(je,{z:()=>f});const f={setTimeout(..._){const{delegate:$}=f;return((null==$?void 0:$.setTimeout)||setTimeout)(..._)},clearTimeout(_){const{delegate:$}=f;return((null==$?void 0:$.clearTimeout)||clearTimeout)(_)},delegate:void 0}},5497:(Lt,je,N)=>{"use strict";N.d(je,{h:()=>_});const _="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Lt,je,N)=>{"use strict";N.d(je,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},5907:(Lt,je,N)=>{"use strict";N.d(je,{K:()=>_});const _=(0,N(4893).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},8830:(Lt,je,N)=>{"use strict";N.d(je,{_6:()=>Ae,jO:()=>he,yG:()=>fe});var f=N(5044);function $(Ie){return Ie[Ie.length-1]}function he(Ie){return(0,f.m)($(Ie))?Ie.pop():void 0}function fe(Ie){return function(Ie){return Ie&&(0,f.m)(Ie.schedule)}($(Ie))?Ie.pop():void 0}function Ae(Ie,te){return"number"==typeof $(Ie)?Ie.pop():te}},886:(Lt,je,N)=>{"use strict";N.d(je,{D:()=>fe});const{isArray:f}=Array,{getPrototypeOf:_,prototype:$,keys:he}=Object;function fe(Ie){if(1===Ie.length){const te=Ie[0];if(f(te))return{args:te,keys:null};if(function(Ie){return Ie&&"object"==typeof Ie&&_(Ie)===$}(te)){const Pe=he(te);return{args:Pe.map(Y=>te[Y]),keys:Pe}}}return{args:Ie,keys:null}}},3980:(Lt,je,N)=>{"use strict";function f(_,$){if(_){const he=_.indexOf($);0<=he&&_.splice(he,1)}}N.d(je,{P:()=>f})},4893:(Lt,je,N)=>{"use strict";function f(_){const he=_(fe=>{Error.call(fe),fe.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}N.d(je,{d:()=>f})},2857:(Lt,je,N)=>{"use strict";function f(_,$){return _.reduce((he,fe,Ae)=>(he[fe]=$[Ae],he),{})}N.d(je,{n:()=>f})},8706:(Lt,je,N)=>{"use strict";N.d(je,{x:()=>$,O:()=>he});var f=N(5367);let _=null;function $(fe){if(f.v.useDeprecatedSynchronousErrorHandling){const Ae=!_;if(Ae&&(_={errorThrown:!1,error:null}),fe(),Ae){const{errorThrown:Ie,error:te}=_;if(_=null,Ie)throw te}}else fe()}function he(fe){f.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=fe)}},8395:(Lt,je,N)=>{"use strict";function f(_,$,he,fe=0,Ae=!1){const Ie=$.schedule(function(){he(),Ae?_.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(_.add(Ie),!Ae)return Ie}N.d(je,{f:()=>f})},4623:(Lt,je,N)=>{"use strict";function f(_){return _}N.d(je,{y:()=>f})},1537:(Lt,je,N)=>{"use strict";N.d(je,{z:()=>f});const f=_=>_&&"number"==typeof _.length&&"function"!=typeof _},9908:(Lt,je,N)=>{"use strict";N.d(je,{D:()=>_});var f=N(5044);function _($){return Symbol.asyncIterator&&(0,f.m)(null==$?void 0:$[Symbol.asyncIterator])}},5044:(Lt,je,N)=>{"use strict";function f(_){return"function"==typeof _}N.d(je,{m:()=>f})},1073:(Lt,je,N)=>{"use strict";N.d(je,{c:()=>$});var f=N(4816),_=N(5044);function $(he){return(0,_.m)(he[f.L])}},2317:(Lt,je,N)=>{"use strict";N.d(je,{T:()=>$});var f=N(5497),_=N(5044);function $(he){return(0,_.m)(null==he?void 0:he[f.h])}},2442:(Lt,je,N)=>{"use strict";N.d(je,{t:()=>_});var f=N(5044);function _($){return(0,f.m)(null==$?void 0:$.then)}},7751:(Lt,je,N)=>{"use strict";N.d(je,{Q:()=>$,L:()=>he});var f=N(9162),_=N(5044);function $(fe){return(0,f.FC)(this,arguments,function*(){const Ie=fe.getReader();try{for(;;){const{value:te,done:Pe}=yield(0,f.qq)(Ie.read());if(Pe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(te)}}finally{Ie.releaseLock()}})}function he(fe){return(0,_.m)(null==fe?void 0:fe.getReader)}},9947:(Lt,je,N)=>{"use strict";N.d(je,{A:()=>_,e:()=>$});var f=N(5044);function _(he){return(0,f.m)(null==he?void 0:he.lift)}function $(he){return fe=>{if(_(fe))return fe.lift(function(Ae){try{return he(Ae,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},2937:(Lt,je,N)=>{"use strict";N.d(je,{Z:()=>he});var f=N(4753);const{isArray:_}=Array;function he(fe){return(0,f.U)(Ae=>function(fe,Ae){return _(Ae)?fe(...Ae):fe(Ae)}(fe,Ae))}},5160:(Lt,je,N)=>{"use strict";N.d(je,{h:()=>$});var f=N(5367),_=N(2496);function $(he){_.z.setTimeout(()=>{const{onUnhandledError:fe}=f.v;if(!fe)throw he;fe(he)})}},3754:(Lt,je,N)=>{"use strict";function f(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(je,{z:()=>f})},6636:(Lt,je,N)=>{"use strict";N.d(je,{J:()=>fe});var f=N(8305),_=N(3668),$=N(7843),he=N(1e3);let fe=(()=>{class Ae{constructor(te,Pe){this.firebaseAuth=te,this.firestore=Pe,this.userCollection=this.firestore.collection("users")}isAuthenticated(){return new f.y(te=>{this.firebaseAuth.authState.subscribe({next:Pe=>{te.next(Boolean(Pe))},error:()=>te.next(!1)})})}getUserInfo(){return this.firebaseAuth.authState}login(te,Pe){return new f.y(Y=>{this.firebaseAuth.signInWithEmailAndPassword(te,Pe).then(()=>{Y.next()}).catch(ie=>{Y.error(ie.message)})})}signup(te,Pe){return new f.y(Y=>{this.firebaseAuth.createUserWithEmailAndPassword(te,Pe).then(()=>{Y.next()}).catch(ie=>{Y.error(ie.message)})})}logout(){return new f.y(te=>{this.firebaseAuth.signOut().then(()=>{te.next()}).catch(()=>{te.error()})})}}return Ae.\u0275fac=function(te){return new(te||Ae)(_.LFG($.zQ),_.LFG(he.ST))},Ae.\u0275prov=_.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})()},3339:(Lt,je,N)=>{"use strict";N.d(je,{b:()=>$});var f=N(273),_=N(3668);let $=(()=>{class he{constructor(){this.loading=new f.x}ngOnInit(){this.loading.next(!1)}toggle(Ae){this.loading.next(Ae)}}return he.\u0275fac=function(Ae){return new(Ae||he)},he.\u0275prov=_.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},259:(Lt,je,N)=>{"use strict";N.d(je,{_:()=>$});var f=N(273),_=N(3668);let $=(()=>{class he{constructor(){this.listArr=[],this.list$=new f.x}ngOnInit(){}add(Ae){this.listArr.push(...Ae),this.list$.next(this.listArr)}update(Ae,Ie){this.listArr.splice(Ae,1,Ie),this.list$.next(this.listArr)}remove(Ae){const Ie=[...this.listArr];Ie.splice(Ae,1),this.listArr=Ie,this.list$.next(Ie)}}return he.\u0275fac=function(Ae){return new(Ae||he)},he.\u0275prov=_.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},7524:(Lt,je,N)=>{"use strict";N.d(je,{K:()=>he});var f=N(3668),_=N(6636),$=N(1002);let he=(()=>{class fe{constructor(Ie,te){this.authService=Ie,this.router=te}isAuthenticated(){return this.authService.isAuthenticated()}getUserInfo(){return this.authService.getUserInfo()}login(Ie,te){return this.authService.login(Ie,te)}signup(Ie,te){return this.authService.signup(Ie,te)}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/login"])}})}}return fe.\u0275fac=function(Ie){return new(Ie||fe)(f.LFG(_.J),f.LFG($.F0))},fe.\u0275prov=f.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},9932:(Lt,je,N)=>{"use strict";var f=N(6019),_=N(3668);class $ extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends ${static makeCurrent(){(0,f.HT)(new he)}onAndCancel(J,W,Te){return J.addEventListener(W,Te,!1),()=>{J.removeEventListener(W,Te,!1)}}dispatchEvent(J,W){J.dispatchEvent(W)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,W){return(W=W||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,W){return"window"===W?window:"document"===W?J:"body"===W?J.body:null}getBaseHref(J){const W=(fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null);return null==W?null:function(Z){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",Z);const J=Ie.pathname;return"/"===J.charAt(0)?J:`/${J}`}(W)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,f.Mx)(document.cookie,J)}}let Ie,fe=null;const Pe=new _.OlP("TRANSITION_ID"),ie=[{provide:_.ip1,useFactory:function(Z,J,W){return()=>{W.get(_.CZH).donePromise.then(()=>{const Te=(0,f.q)(),Xe=J.querySelectorAll(`style[ng-transition="${Z}"]`);for(let Yt=0;Yt<Xe.length;Yt++)Te.remove(Xe[Yt])})}},deps:[Pe,f.K0,_.zs3],multi:!0}];class Re{static init(){(0,_.VLi)(new Re)}addToWindow(J){_.dqk.getAngularTestability=(Te,Xe=!0)=>{const Yt=J.findTestabilityInTree(Te,Xe);if(null==Yt)throw new Error("Could not find testability for element.");return Yt},_.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Te=>{const Xe=_.dqk.getAllAngularTestabilities();let Yt=Xe.length,un=!1;const ir=function(Or){un=un||Or,Yt--,0==Yt&&Te(un)};Xe.forEach(function(Or){Or.whenStable(ir)})})}findTestabilityInTree(J,W,Te){if(null==W)return null;const Xe=J.getTestability(W);return null!=Xe?Xe:Te?(0,f.q)().isShadowRoot(W)?this.findTestabilityInTree(J,W.host,!0):this.findTestabilityInTree(J,W.parentElement,!0):null}}let Qe=(()=>{class Z{build(){return new XMLHttpRequest}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const le=new _.OlP("EventManagerPlugins");let ae=(()=>{class Z{constructor(W,Te){this._zone=Te,this._eventNameToPlugin=new Map,W.forEach(Xe=>Xe.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,Te,Xe){return this._findPluginFor(Te).addEventListener(W,Te,Xe)}addGlobalEventListener(W,Te,Xe){return this._findPluginFor(Te).addGlobalEventListener(W,Te,Xe)}getZone(){return this._zone}_findPluginFor(W){const Te=this._eventNameToPlugin.get(W);if(Te)return Te;const Xe=this._plugins;for(let Yt=0;Yt<Xe.length;Yt++){const un=Xe[Yt];if(un.supports(W))return this._eventNameToPlugin.set(W,un),un}throw new Error(`No event manager plugin found for event ${W}`)}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(le),_.LFG(_.R0b))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Ce{constructor(J){this._doc=J}addGlobalEventListener(J,W,Te){const Xe=(0,f.q)().getGlobalEventTarget(this._doc,J);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${W}`);return this.addEventListener(Xe,W,Te)}}let $e=(()=>{class Z{constructor(){this._stylesSet=new Set}addStyles(W){const Te=new Set;W.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),Te.add(Xe))}),this.onStylesAdded(Te)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),pe=(()=>{class Z extends $e{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,Te,Xe){W.forEach(Yt=>{const un=this._doc.createElement("style");un.textContent=Yt,Xe.push(Te.appendChild(un))})}addHost(W){const Te=[];this._addStylesToHost(this._stylesSet,W,Te),this._hostNodes.set(W,Te)}removeHost(W){const Te=this._hostNodes.get(W);Te&&Te.forEach(Tt),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((Te,Xe)=>{this._addStylesToHost(W,Xe,Te)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach(Tt))}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(f.K0))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function Tt(Z){(0,f.q)().remove(Z)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bt=/%COMP%/g;function Vt(Z,J,W){for(let Te=0;Te<J.length;Te++){let Xe=J[Te];Array.isArray(Xe)?Vt(Z,Xe,W):(Xe=Xe.replace(Bt,Z),W.push(Xe))}return W}function cn(Z){return J=>{if("__ngUnwrap__"===J)return Z;!1===Z(J)&&(J.preventDefault(),J.returnValue=!1)}}let vn=(()=>{class Z{constructor(W,Te,Xe){this.eventManager=W,this.sharedStylesHost=Te,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Rn(W)}createRenderer(W,Te){if(!W||!Te)return this.defaultRenderer;switch(Te.encapsulation){case _.ifc.Emulated:{let Xe=this.rendererByCompId.get(Te.id);return Xe||(Xe=new Zn(this.eventManager,this.sharedStylesHost,Te,this.appId),this.rendererByCompId.set(Te.id,Xe)),Xe.applyToHost(W),Xe}case 1:case _.ifc.ShadowDom:return new Un(this.eventManager,this.sharedStylesHost,W,Te);default:if(!this.rendererByCompId.has(Te.id)){const Xe=Vt(Te.id,Te.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(Te.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(ae),_.LFG(pe),_.LFG(_.AFp))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Rn{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,W){return W?document.createElementNS(nt[W]||W,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,W){J.appendChild(W)}insertBefore(J,W,Te){J&&J.insertBefore(W,Te)}removeChild(J,W){J&&J.removeChild(W)}selectRootElement(J,W){let Te="string"==typeof J?document.querySelector(J):J;if(!Te)throw new Error(`The selector "${J}" did not match any elements`);return W||(Te.textContent=""),Te}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,W,Te,Xe){if(Xe){W=Xe+":"+W;const Yt=nt[Xe];Yt?J.setAttributeNS(Yt,W,Te):J.setAttribute(W,Te)}else J.setAttribute(W,Te)}removeAttribute(J,W,Te){if(Te){const Xe=nt[Te];Xe?J.removeAttributeNS(Xe,W):J.removeAttribute(`${Te}:${W}`)}else J.removeAttribute(W)}addClass(J,W){J.classList.add(W)}removeClass(J,W){J.classList.remove(W)}setStyle(J,W,Te,Xe){Xe&(_.JOm.DashCase|_.JOm.Important)?J.style.setProperty(W,Te,Xe&_.JOm.Important?"important":""):J.style[W]=Te}removeStyle(J,W,Te){Te&_.JOm.DashCase?J.style.removeProperty(W):J.style[W]=""}setProperty(J,W,Te){J[W]=Te}setValue(J,W){J.nodeValue=W}listen(J,W,Te){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,W,cn(Te)):this.eventManager.addEventListener(J,W,cn(Te))}}class Zn extends Rn{constructor(J,W,Te,Xe){super(J),this.component=Te;const Yt=Vt(Xe+"-"+Te.id,Te.styles,[]);W.addStyles(Yt),this.contentAttr="_ngcontent-%COMP%".replace(Bt,Xe+"-"+Te.id),this.hostAttr="_nghost-%COMP%".replace(Bt,Xe+"-"+Te.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,W){const Te=super.createElement(J,W);return super.setAttribute(Te,this.contentAttr,""),Te}}class Un extends Rn{constructor(J,W,Te,Xe){super(J),this.sharedStylesHost=W,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Yt=Vt(Xe.id,Xe.styles,[]);for(let un=0;un<Yt.length;un++){const ir=document.createElement("style");ir.textContent=Yt[un],this.shadowRoot.appendChild(ir)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,W){return super.appendChild(this.nodeOrShadowRoot(J),W)}insertBefore(J,W,Te){return super.insertBefore(this.nodeOrShadowRoot(J),W,Te)}removeChild(J,W){return super.removeChild(this.nodeOrShadowRoot(J),W)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let En=(()=>{class Z extends Ce{constructor(W){super(W)}supports(W){return!0}addEventListener(W,Te,Xe){return W.addEventListener(Te,Xe,!1),()=>this.removeEventListener(W,Te,Xe)}removeEventListener(W,Te,Xe){return W.removeEventListener(Te,Xe)}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(f.K0))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Ve=["alt","control","meta","shift"],St={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dt={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let tn=(()=>{class Z extends Ce{constructor(W){super(W)}supports(W){return null!=Z.parseEventName(W)}addEventListener(W,Te,Xe){const Yt=Z.parseEventName(Te),un=Z.eventCallback(Yt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(W,Yt.domEventName,un))}static parseEventName(W){const Te=W.toLowerCase().split("."),Xe=Te.shift();if(0===Te.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Yt=Z._normalizeKey(Te.pop());let un="";if(Ve.forEach(Or=>{const Yi=Te.indexOf(Or);Yi>-1&&(Te.splice(Yi,1),un+=Or+".")}),un+=Yt,0!=Te.length||0===Yt.length)return null;const ir={};return ir.domEventName=Xe,ir.fullKey=un,ir}static getEventFullKey(W){let Te="",Xe=function(Z){let J=Z.key;if(null==J){if(J=Z.keyIdentifier,null==J)return"Unidentified";J.startsWith("U+")&&(J=String.fromCharCode(parseInt(J.substring(2),16)),3===Z.location&&pt.hasOwnProperty(J)&&(J=pt[J]))}return St[J]||J}(W);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),Ve.forEach(Yt=>{Yt!=Xe&&Dt[Yt](W)&&(Te+=Yt+".")}),Te+=Xe,Te}static eventCallback(W,Te,Xe){return Yt=>{Z.getEventFullKey(Yt)===W&&Xe.runGuarded(()=>Te(Yt))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(f.K0))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const se=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:f.bD},{provide:_.g9A,useValue:function(){he.makeCurrent(),Re.init()},multi:!0},{provide:f.K0,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),He=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:le,useClass:En,multi:!0,deps:[f.K0,_.R0b,_.Lbi]},{provide:le,useClass:tn,multi:!0,deps:[f.K0]},[],{provide:vn,useClass:vn,deps:[ae,pe,_.AFp]},{provide:_.FYo,useExisting:vn},{provide:$e,useExisting:pe},{provide:pe,useClass:pe,deps:[f.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:ae,useClass:ae,deps:[le,_.R0b]},{provide:f.JF,useClass:Qe,deps:[]},[]];let at=(()=>{class Z{constructor(W){if(W)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(W){return{ngModule:Z,providers:[{provide:_.AFp,useValue:W.appId},{provide:Pe,useExisting:_.AFp},ie]}}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(Z,12))},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({providers:He,imports:[f.ez,_.hGG]}),Z})(),de=(()=>{class Z{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(f.K0))},Z.\u0275prov=_.Yz7({token:Z,factory:function(W){let Te=null;return Te=W?new W:new de((0,_.LFG)(f.K0)),Te},providedIn:"root"}),Z})();"undefined"!=typeof window&&window;var Ar=N(4522),we=N(2049),tt=N(2997),At=N(461),wt=N(3067),Wn=N(4753),An=N(8305),yr=N(9985),Pn=N(273),hr=N(9947),di=N(8889);class Lr extends di.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var Qn=N(5724),ai=N(5488),Vr=N(3970),hi=N(7518),lr=N(3590),ke=N(7713),Ne=N(4762),Be=N(1002),ut=N(6621),Pt=N(7798),qt=N(6972);function Sr(Z){return new An.y(function(J){return{unsubscribe:(0,qt.t)(Z,J.next.bind(J),J.error.bind(J),J.complete.bind(J))}})}N(4213),N(1572),N(3855),N(1177);class cs{constructor(J){return J}}class Gr{constructor(){return(0,we.vb)("auth")}}const Ri=new _.OlP("angularfire2.auth-instances");function Cs(Z){return(J,W)=>{const Te=J.runOutsideAngular(()=>Z(W));return new cs(Te)}}const ts={provide:Gr,deps:[[new _.FiY,Ri]]},ds={provide:cs,useFactory:function(Z,J){const W=(0,we.JM)("auth",Z,J);return W&&new cs(W)},deps:[[new _.FiY,Ri],lr.Ot]};let $s=(()=>{class Z{constructor(){(0,ke.KN)("angularfire",we.q4.full,"auth")}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({providers:[ds,ts]}),Z})();function ro(Z,...J){return{ngModule:$s,providers:[{provide:Ri,useFactory:Cs(Z),multi:!0,deps:[_.R0b,_.zs3,we.HU,lr.z6,[new _.FiY,Pt.nm],...J]}]}}const Hi=(0,we.u3)(Sr,!0),Zr=(0,we.u3)(qt.n,!0);class gi{constructor(J){return J}}const mt="analytics",Sn=we.nk.async,gs=(0,we.u3)(ut.IH,!0),zi=(0,we.u3)(ut.Kz,!0),da=(0,we.u3)(ut.Iv,!0);let Ws=(()=>{class Z{constructor(W,Te,Xe){let Yt;this.disposables=[],(0,ke.KN)("angularfire",we.q4.full,"user-tracking"),this.initialized=Te.runOutsideAngular(()=>new Promise(un=>{Yt=un})),Sn().then(()=>{const un=Xe.get(gi);un?this.disposables=[Hi(W).subscribe(ir=>{da(un,null==ir?void 0:ir.uid),Yt()})]:Yt()})}ngOnDestroy(){this.disposables.forEach(W=>W.unsubscribe())}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(cs),_.LFG(_.R0b),_.LFG(_.zs3))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const _o="firebase_screen_id",Go="outlet",ms="screen_class",vo="screen_name";let wo=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const so={},ga=Z=>{const J=[Z[ms],Z[Go]].join("#");if(so.hasOwnProperty(J))return so[J];{const W=wo++;return so[J]=W,W}};let zo=(()=>{class Z{constructor(W,Te,Xe,Yt,un,ir){(0,ke.KN)("angularfire",we.q4.full,"screen-tracking"),Sn().then(()=>{const Or=ir.get(gi);!W||!Or||Yt.runOutsideAngular(()=>{this.disposable=((Z,J,W)=>Z.events.pipe((0,At.h)(Xe=>Xe instanceof Be.jw)).pipe((0,wt.w)(Xe=>{var Yt;const ir=(null===(Yt=Z.parseUrl(Z.url.replace(/(?:\().+(?:\))/g,gr=>gr.replace("://",":///"))).root.children[Xe.snapshot.outlet])||void 0===Yt?void 0:Yt.toString())||"",Or=Z.routerState.root.children.map(gr=>gr).find(gr=>gr.outlet===Xe.snapshot.outlet);if(!Or)return(0,tt.of)(null);let Yi=Or;for(;Yi.firstChild;)Yi=Yi.firstChild;const ho=Yi.pathFromRoot.map(gr=>{var _i;return null===(_i=gr.routeConfig)||void 0===_i?void 0:_i.path}).filter(gr=>gr).join("/")||"/",fo={[vo]:ho,page_path:`/${ir}`,firebase_event_origin:"auto",firebase_screen:ho,[Go]:Xe.snapshot.outlet};J&&(fo.page_title=J.getTitle());let pr=Or.component;if(pr){if(pr===Be.fw){let gr=Xe.snapshot;for(;gr.firstChild;)gr=gr.firstChild;pr=gr.component}}else pr=Xe.snapshot.component;if("string"==typeof pr)return(0,tt.of)(Object.assign(Object.assign({},fo),{[ms]:pr}));if(pr){const gr=W.resolveComponentFactory(pr);return(0,tt.of)(Object.assign(Object.assign({},fo),{[ms]:gr.selector}))}return(0,tt.of)(null)}),(0,At.h)(Xe=>!!Xe),(0,Wn.U)(Xe=>Object.assign({firebase_screen_class:Xe[ms],[_o]:ga(Xe)},Xe)),function(Z,J,W,Te){return(0,hr.e)((Xe,Yt)=>{let un;J&&"function"!=typeof J?({duration:W,element:un,connector:Te}=J):un=J;const ir=new Map,Or=pr=>{ir.forEach(pr),pr(Yt)},Yi=pr=>Or(gr=>gr.error(pr)),ho=new Lr(Yt,pr=>{try{const gr=Z(pr);let _i=ir.get(gr);if(!_i){ir.set(gr,_i=Te?Te():new Pn.x);const Ys=function(pr,gr){const _i=new An.y(Ys=>{ho.activeGroups++;const Os=gr.subscribe(Ys);return()=>{Os.unsubscribe(),0==--ho.activeGroups&&ho.teardownAttempted&&ho.unsubscribe()}});return _i.key=pr,_i}(gr,_i);if(Yt.next(Ys),W){const Os=new di.Q(_i,()=>{_i.complete(),null==Os||Os.unsubscribe()},void 0,void 0,()=>ir.delete(gr));ho.add((0,yr.Xf)(W(Ys)).subscribe(Os))}}_i.next(un?un(pr):pr)}catch(gr){Yi(gr)}},()=>Or(pr=>pr.complete()),Yi,()=>ir.clear());Xe.subscribe(ho)})}(Xe=>Xe[Go]),(0,Qn.z)(Xe=>Xe.pipe((0,ai.x)((Yt,un)=>JSON.stringify(Yt)===JSON.stringify(un)),(0,Vr.O)(void 0),(0,hi.G)(),(0,Wn.U)(([Yt,un])=>Yt?Object.assign({firebase_previous_class:Yt[ms],firebase_previous_screen:Yt[vo],firebase_previous_id:Yt[_o]},un):un)))))(W,Te,Xe).pipe((0,wt.w)(Yi=>(0,Ne.mG)(this,void 0,void 0,function*(){return un&&(yield un.initialized),zi(Or,"screen_view",Yi)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(Be.F0,8),_.LFG(de,8),_.LFG(_._Vd),_.LFG(_.R0b),_.LFG(Ws,8),_.LFG(_.zs3))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const zs=new _.OlP("angularfire2.analytics-instances");function ma(Z){return(J,W)=>{if(!we.nk.sync())return null;const Te=J.runOutsideAngular(()=>Z(W));return new gi(Te)}}const zr={provide:class{constructor(){return(0,we.vb)(mt)}},deps:[[new _.FiY,zs]]},Ks={provide:gi,useFactory:function(Z,J){if(!we.nk.sync())return null;const W=(0,we.JM)(mt,Z,J);return W&&new gi(W)},deps:[[new _.FiY,zs],lr.Ot]};let $r=(()=>{class Z{constructor(W,Te){(0,ke.KN)("angularfire",we.q4.full,"analytics")}}return Z.\u0275fac=function(W){return new(W||Z)(_.LFG(zo,8),_.LFG(Ws,8))},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({providers:[Ks,zr,{provide:_.ip1,useValue:we.nk.async,multi:!0}]}),Z})();function Fa(Z,...J){return{ngModule:$r,providers:[{provide:zs,useFactory:ma(Z),multi:!0,deps:[_.R0b,_.zs3,we.HU,lr.z6,...J]}]}}var La=N(7905),Va=N(7843),rs=N(5023);class Ua{constructor(J){return J}}const fu="firestore",oo=new _.OlP("angularfire2.firestore-instances");function pu(Z){return(J,W)=>{const Te=J.runOutsideAngular(()=>Z(W));return new Ua(Te)}}const ya={provide:class{constructor(){return(0,we.vb)(fu)}},deps:[[new _.FiY,oo]]},ss={provide:Ua,useFactory:function(Z,J){const W=(0,we.JM)(fu,Z,J);return W&&new Ua(W)},deps:[[new _.FiY,oo],lr.Ot]};let Rs=(()=>{class Z{constructor(){(0,ke.KN)("angularfire",we.q4.full,"fst")}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({providers:[ss,ya]}),Z})();function ys(Z,...J){return{ngModule:Rs,providers:[{provide:oo,useFactory:pu(Z),multi:!0,deps:[_.R0b,_.zs3,we.HU,lr.z6,[new _.FiY,Gr],[new _.FiY,Pt.nm],...J]}]}}const ce=(0,we.u3)(rs.ad,!0);var Pi=N(7537);const yu_firebase={projectId:"recipe-angular-33811",appId:"1:839076005943:web:55855539e85e8803d957b2",storageBucket:"recipe-angular-33811.appspot.com",apiKey:"AIzaSyB_Dq287kl-HvapgNxbXWRrTUyjQy9dGZU",authDomain:"recipe-angular-33811.firebaseapp.com",messagingSenderId:"839076005943",measurementId:"G-76G5ZHS475"},Cl=[{path:"shopping-list",loadChildren:()=>N.e(787).then(N.bind(N,787)).then(Z=>Z.ShoppingListModule)},{path:"",loadChildren:()=>N.e(543).then(N.bind(N,6543)).then(Z=>Z.RecipeModule)}];let Hu=(()=>{class Z{}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({imports:[[Be.Bz.forRoot(Cl)],Be.Bz]}),Z})();var va=N(7524),Dl=N(259);const Oo=["headerEl"];function cc(Z,J){if(1&Z&&(_.TgZ(0,"span",13),_._uU(1),_.TgZ(2,"span",14),_._uU(3,"Shopping list item"),_.qZA(),_.qZA()),2&Z){const W=_.oxw();_.xp6(1),_.hij(" ",W.shoppingListNo," ")}}function Hr(Z,J){if(1&Z){const W=_.EpF();_.TgZ(0,"div",15),_.TgZ(1,"button",16),_._UZ(2,"span",17),_.qZA(),_.TgZ(3,"ul",18),_.TgZ(4,"li"),_.TgZ(5,"a",19),_.NdJ("click",function(Xe){return _.CHM(W),_.oxw().logout(Xe)}),_._uU(6,"Sign out"),_.qZA(),_.qZA(),_.qZA(),_.qZA()}}function Qo(Z,J){1&Z&&(_.TgZ(0,"a",20),_._uU(1,"Login"),_.qZA())}let Xr=(()=>{class Z{constructor(W,Te,Xe){this.userService=W,this.shoppingListService=Te,this.router=Xe,this.shoppingListNo=0,this.showLoginBtn=!1}ngOnInit(){this.isLoggedIn=this.userService.isAuthenticated(),this.subscription=this.shoppingListService.list$.subscribe(W=>{this.shoppingListNo=W.length}),this.routeSubscription=this.router.events.subscribe(W=>{W instanceof Be.m2&&(this.showLoginBtn=!["/login","/signup"].includes(W.url))})}ngOnDestroy(){this.subscription.unsubscribe()}logout(W){W.preventDefault(),this.userService.logout()}}return Z.\u0275fac=function(W){return new(W||Z)(_.Y36(va.K),_.Y36(Dl._),_.Y36(Be.F0))},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-header"]],viewQuery:function(W,Te){if(1&W&&_.Gf(Oo,7),2&W){let Xe;_.iGM(Xe=_.CRH())&&(Te.headerEl=Xe.first)}},decls:16,vars:7,consts:[[1,"border-bottom","shadow-sm"],[1,"navbar"],[1,"container","d-flex"],[1,"navbar-header","me-sm-auto"],["routerLink","/",1,"navbar-brand","d-inline-flex","align-items-center","gap-2"],["headerEl",""],[1,"ti-book"],[1,"d-inline-flex","align-items-center","gap-3"],["routerLink","/shopping-list",1,"p-0","btn","btn-default","position-relative"],[1,"ti-shopping-cart","icon"],["class","\n              position-absolute\n              top-0\n              start-100\n              translate-middle\n              badge\n              rounded-pill\n              bg-danger\n            ",4,"ngIf"],["class","dropdown text-end",4,"ngIf"],["routerLink","/login","class","btn btn-primary btn-sm",4,"ngIf"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"visually-hidden"],[1,"dropdown","text-end"],["id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","d-block","link-dark","text-decoration-none","dropdown-toggle"],[1,"ti-user","icon"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small","shadow-lg"],["href","#",1,"dropdown-item",3,"click"],["routerLink","/login",1,"btn","btn-primary","btn-sm"]],template:function(W,Te){1&W&&(_.TgZ(0,"header",0),_.TgZ(1,"nav",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"a",4,5),_._UZ(6,"span",6),_._uU(7," Recipes Book "),_.qZA(),_.qZA(),_.TgZ(8,"div",7),_.TgZ(9,"button",8),_._UZ(10,"span",9),_.YNc(11,cc,4,1,"span",10),_.qZA(),_.YNc(12,Hr,7,0,"div",11),_.ALo(13,"async"),_.YNc(14,Qo,2,0,"a",12),_.ALo(15,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&W&&(_.xp6(11),_.Q6J("ngIf",Te.shoppingListNo),_.xp6(1),_.Q6J("ngIf",_.lcZ(13,3,Te.isLoggedIn)),_.xp6(2),_.Q6J("ngIf",Te.showLoginBtn&&!_.lcZ(15,5,Te.isLoggedIn)))},directives:[Be.yS,Be.rH,f.O5],pipes:[f.Ov],styles:[".dropdown-menu[_ngcontent-%COMP%]{right:0;margin:0}.dropdown-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;vertical-align:middle}.dropdown-menu[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:1}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:bold;color:#333}.icon[_ngcontent-%COMP%]{font-size:1.2rem}"]}),Z})();var _u=N(3339);function Fr(Z,J){1&Z&&(_.TgZ(0,"div",1),_.TgZ(1,"p"),_._uU(2,"Loading..."),_.qZA(),_.qZA())}let Ms=(()=>{class Z{constructor(W){this.loadingService=W}ngOnInit(){}}return Z.\u0275fac=function(W){return new(W||Z)(_.Y36(_u.b))},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-loading"]],decls:2,vars:3,consts:[["class","d-flex align-items-center justify-content-center",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"]],template:function(W,Te){1&W&&(_.YNc(0,Fr,3,0,"div",0),_.ALo(1,"async")),2&W&&_.Q6J("ngIf",_.lcZ(1,1,Te.loadingService.loading))},directives:[f.O5],pipes:[f.Ov],styles:["div[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:2}"]}),Z})(),_s=(()=>{class Z{constructor(){}ngOnInit(){}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"text-center","pt-2","pb-2"],["target","_blank","rel","noreferer nopopener","href","https://www.becalm.icu/me"]],template:function(W,Te){1&W&&(_.TgZ(0,"footer",0),_.TgZ(1,"small"),_._uU(2,"Created with \u2764\ufe0f by "),_.TgZ(3,"a",1),_._uU(4,"me."),_.qZA(),_._uU(5," Angular"),_.qZA(),_.qZA())},styles:[""]}),Z})(),Po=(()=>{class Z{constructor(){this.title="udemy-recipe"}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-root"]],decls:5,vars:0,template:function(W,Te){1&W&&(_._UZ(0,"app-header"),_.TgZ(1,"main"),_._UZ(2,"router-outlet"),_.qZA(),_._UZ(3,"app-loading"),_._UZ(4,"app-footer"))},directives:[Xr,Be.lC,Ms,_s],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 103px)}"]}),Z})();var vs=N(6636);const Zi=[{path:"login",component:(()=>{class Z{constructor(W,Te){this.userService=W,this.router=Te,this.loading=new Pn.x,this.errorMessage=new Pn.x}ngOnInit(){}login(W){const Te=W.form.value;this.loading.next(!0),this.errorMessage.next("");const Xe=this.userService.login(Te.email,Te.password).subscribe({next:()=>{this.router.navigate(["/"]),this.loading.next(!1),Xe.unsubscribe()},error:Yt=>{this.loading.next(!1),this.errorMessage.next(`${Yt} Please try again.`),Xe.unsubscribe()},complete(){Xe.unsubscribe()}})}}return Z.\u0275fac=function(W){return new(W||Z)(_.Y36(va.K),_.Y36(Be.F0))},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-login"]],decls:35,vars:9,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col","col-md-8","col-lg-6"],[1,"card","shadow-lg","rounded-3","p-5","mt-5"],[1,"card-body"],[1,"mb-3"],[1,"",3,"ngSubmit"],["f","ngForm"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","ngModel","","name","email","placeholder","example@example.com","required","",1,"form-control","form-control-sm"],[1,"invalid-feedback"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","ngModel","","name","password","required","",1,"form-control","form-control-sm"],[1,"d-block","invalid-feedback"],[1,"text-end"],["routerLink","/signup"],["type","submit",1,"btn","btn-primary","btn-sm","ms-3",3,"disabled"]],template:function(W,Te){if(1&W){const Xe=_.EpF();_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h1",5),_._uU(6,"Login"),_.qZA(),_.TgZ(7,"form",6,7),_.NdJ("ngSubmit",function(){_.CHM(Xe);const un=_.MAs(8);return Te.login(un)}),_.TgZ(9,"div",5),_.TgZ(10,"label",8),_._uU(11,"Email address"),_.qZA(),_._UZ(12,"input",9),_.TgZ(13,"div",10),_._uU(14,"This field is mandatory"),_.qZA(),_.qZA(),_.TgZ(15,"div",5),_.TgZ(16,"label",11),_._uU(17,"Password"),_.qZA(),_._UZ(18,"input",12),_.TgZ(19,"div",10),_._uU(20,"This field is mandatory"),_.qZA(),_.qZA(),_.TgZ(21,"p",13),_._uU(22),_.ALo(23,"async"),_.qZA(),_.TgZ(24,"div",14),_.TgZ(25,"span"),_._uU(26,"Doesn't have account yet?"),_.qZA(),_.TgZ(27,"span"),_._uU(28,"\xa0"),_.qZA(),_.TgZ(29,"a",15),_._uU(30,"Signup"),_.qZA(),_.TgZ(31,"button",16),_.ALo(32,"async"),_._uU(33),_.ALo(34,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&W){const Xe=_.MAs(8);_.xp6(22),_.Oqu(_.lcZ(23,3,Te.errorMessage)),_.xp6(9),_.Q6J("disabled",!Xe.valid||_.lcZ(32,5,Te.loading)),_.xp6(2),_.hij(" ",_.lcZ(34,7,Te.loading)?"Logging in":"Login"," ")}},directives:[Pi._Y,Pi.JL,Pi.F,Pi.Fj,Pi.JJ,Pi.On,Pi.Q7,Be.yS],pipes:[f.Ov],styles:[""]}),Z})()},{path:"signup",component:(()=>{class Z{constructor(W,Te){this.userService=W,this.router=Te,this.loading=new Pn.x,this.errorMessage=new Pn.x}ngOnInit(){}signup(W){const Te=W.form.value;this.loading.next(!0),this.errorMessage.next("");const Xe=this.userService.signup(Te.email,Te.password).subscribe({next:()=>{this.router.navigate(["/login"]),this.loading.next(!1),Xe.unsubscribe()},error:Yt=>{this.loading.next(!1),this.errorMessage.next(`${Yt} Please try again.`),Xe.unsubscribe()},complete(){Xe.unsubscribe()}})}}return Z.\u0275fac=function(W){return new(W||Z)(_.Y36(va.K),_.Y36(Be.F0))},Z.\u0275cmp=_.Xpm({type:Z,selectors:[["app-signup"]],decls:30,vars:6,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col","col-md-8","col-lg-6"],[1,"card","shadow-lg","rounded-3","p-5","mt-5"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],["f","ngForm"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","ngModel","","name","email","required","",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","ngModel","","name","password","required","",1,"form-control"],[1,"d-block","invalid-feedback"],[1,"text-end"],["routerLink","/login"],["type","submit",1,"btn","btn-primary","btn-sm","ms-3",3,"disabled"]],template:function(W,Te){if(1&W){const Xe=_.EpF();_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h1",5),_._uU(6,"Signup"),_.qZA(),_.TgZ(7,"form",6,7),_.NdJ("ngSubmit",function(){_.CHM(Xe);const un=_.MAs(8);return Te.signup(un)}),_.TgZ(9,"div",5),_.TgZ(10,"label",8),_._uU(11,"Email address"),_.qZA(),_._UZ(12,"input",9),_.qZA(),_.TgZ(13,"div",5),_.TgZ(14,"label",10),_._uU(15,"Password"),_.qZA(),_._UZ(16,"input",11),_.qZA(),_.TgZ(17,"p",12),_._uU(18),_.ALo(19,"async"),_.qZA(),_.TgZ(20,"div",13),_.TgZ(21,"span"),_._uU(22,"Already have an account?"),_.qZA(),_.TgZ(23,"span"),_._uU(24,"\xa0"),_.qZA(),_.TgZ(25,"a",14),_._uU(26,"Login"),_.qZA(),_.TgZ(27,"button",15),_.ALo(28,"async"),_._uU(29," Submit "),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&W){const Xe=_.MAs(8);_.xp6(18),_.Oqu(_.lcZ(19,2,Te.errorMessage)),_.xp6(9),_.Q6J("disabled",!Xe.valid||_.lcZ(28,4,Te.loading))}},directives:[Pi._Y,Pi.JL,Pi.F,Pi.Fj,Pi.JJ,Pi.On,Pi.Q7,Be.yS],pipes:[f.Ov],styles:[""]}),Z})()}];let dc=(()=>{class Z{}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=_.oAB({type:Z}),Z.\u0275inj=_.cJS({providers:[vs.J],imports:[[f.ez,Pi.u5,Be.Bz.forChild(Zi)]]}),Z})(),bl=(()=>{class Z{intercept(W,Te){const Xe=W.clone({url:"https://my-json-server.typicode.com/thangkieu/mockjsonserver"+W.url});return Te.handle(Xe)}}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),hc=(()=>{class Z{}return Z.\u0275fac=function(W){return new(W||Z)},Z.\u0275mod=_.oAB({type:Z,bootstrap:[Po]}),Z.\u0275inj=_.cJS({providers:[zo,Ws,{provide:Va.L6,useValue:{appVerificationDisabledForTesting:!0}},{provide:Ar.TP,useClass:bl,multi:!0}],imports:[[at,Ar.JF,f.ez,Pi.u5,dc,Hu,La.hO.initializeApp(yu_firebase),(0,lr.hX)(()=>(0,lr.ZF)(yu_firebase)),ys(()=>ce()),Fa(()=>gs()),ro(()=>Zr())]]}),Z})();(0,_.G48)(),se().bootstrapModule(hc).catch(Z=>console.error(Z))},9162:(Lt,je,N)=>{"use strict";function te(ee,le,ae,Ce){return new(ae||(ae=Promise))(function(pe,Tt){function nt(Ct){try{rt(Ce.next(Ct))}catch($t){Tt($t)}}function Bt(Ct){try{rt(Ce.throw(Ct))}catch($t){Tt($t)}}function rt(Ct){Ct.done?pe(Ct.value):function(pe){return pe instanceof ae?pe:new ae(function(Tt){Tt(pe)})}(Ct.value).then(nt,Bt)}rt((Ce=Ce.apply(ee,le||[])).next())})}function oe(ee){return this instanceof oe?(this.v=ee,this):new oe(ee)}function Me(ee,le,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Ce=ae.apply(ee,le||[]),pe=[];return $e={},Tt("next"),Tt("throw"),Tt("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Tt(Ht){Ce[Ht]&&($e[Ht]=function(en){return new Promise(function(Zt,Vt){pe.push([Ht,en,Zt,Vt])>1||nt(Ht,en)})})}function nt(Ht,en){try{!function(Ht){Ht.value instanceof oe?Promise.resolve(Ht.value.v).then(rt,Ct):$t(pe[0][2],Ht)}(Ce[Ht](en))}catch(Zt){$t(pe[0][3],Zt)}}function rt(Ht){nt("next",Ht)}function Ct(Ht){nt("throw",Ht)}function $t(Ht,en){Ht(en),pe.shift(),pe.length&&nt(pe[0][0],pe[0][1])}}function qe(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,le=ee[Symbol.asyncIterator];return le?le.call(ee):(ee=function(ee){var le="function"==typeof Symbol&&Symbol.iterator,ae=le&&ee[le],Ce=0;if(ae)return ae.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Ce>=ee.length&&(ee=void 0),{value:ee&&ee[Ce++],done:!ee}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ae={},Ce("next"),Ce("throw"),Ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function Ce(pe){ae[pe]=ee[pe]&&function(Tt){return new Promise(function(nt,Bt){!function(pe,Tt,nt,Bt){Promise.resolve(Bt).then(function(rt){pe({value:rt,done:nt})},Tt)}(nt,Bt,(Tt=ee[pe](Tt)).done,Tt.value)})}}}N.d(je,{mG:()=>te,qq:()=>oe,FC:()=>Me,KL:()=>qe})},4762:(Lt,je,N)=>{"use strict";function he(ee,le){var ae={};for(var Ce in ee)Object.prototype.hasOwnProperty.call(ee,Ce)&&le.indexOf(Ce)<0&&(ae[Ce]=ee[Ce]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Ce=Object.getOwnPropertySymbols(ee);$e<Ce.length;$e++)le.indexOf(Ce[$e])<0&&Object.prototype.propertyIsEnumerable.call(ee,Ce[$e])&&(ae[Ce[$e]]=ee[Ce[$e]])}return ae}function te(ee,le,ae,Ce){return new(ae||(ae=Promise))(function(pe,Tt){function nt(Ct){try{rt(Ce.next(Ct))}catch($t){Tt($t)}}function Bt(Ct){try{rt(Ce.throw(Ct))}catch($t){Tt($t)}}function rt(Ct){Ct.done?pe(Ct.value):function(pe){return pe instanceof ae?pe:new ae(function(Tt){Tt(pe)})}(Ct.value).then(nt,Bt)}rt((Ce=Ce.apply(ee,le||[])).next())})}N.d(je,{_T:()=>he,mG:()=>te})},6019:(Lt,je,N)=>{"use strict";N.d(je,{mr:()=>We,Ov:()=>$i,ez:()=>Ds,K0:()=>Ie,Do:()=>Le,V_:()=>Y,Ye:()=>gt,S$:()=>oe,sg:()=>Vr,O5:()=>ke,PC:()=>Sr,b0:()=>qe,lw:()=>te,EM:()=>As,JF:()=>Mr,PM:()=>xr,w_:()=>Ae,bD:()=>Gi,q:()=>$,Mx:()=>qr,HT:()=>fe});var f=N(3668);let _=null;function $(){return _}function fe(x){_||(_=x)}class Ae{}const Ie=new f.OlP("DocumentToken");let te=(()=>{class x{historyGo(O){throw new Error("Not implemented")}}return x.\u0275fac=function(O){return new(O||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return(0,f.LFG)(ie)},providedIn:"platform"}),x})();const Y=new f.OlP("Location Initialized");let ie=(()=>{class x extends te{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(O){const G=$().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",O,!1),()=>G.removeEventListener("popstate",O)}onHashChange(O){const G=$().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",O,!1),()=>G.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,G,be){Re()?this._history.pushState(O,G,be):this.location.hash=be}replaceState(O,G,be){Re()?this._history.replaceState(O,G,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return x.\u0275fac=function(O){return new(O||x)(f.LFG(Ie))},x.\u0275prov=f.Yz7({token:x,factory:function(){return new ie((0,f.LFG)(Ie))},providedIn:"platform"}),x})();function Re(){return!!window.history.pushState}function Ke(x,H){if(0==x.length)return H;if(0==H.length)return x;let O=0;return x.endsWith("/")&&O++,H.startsWith("/")&&O++,2==O?x+H.substring(1):1==O?x+H:x+"/"+H}function _t(x){const H=x.match(/#|\?|$/),O=H&&H.index||x.length;return x.slice(0,O-("/"===x[O-1]?1:0))+x.slice(O)}function yt(x){return x&&"?"!==x[0]?"?"+x:x}let oe=(()=>{class x{historyGo(O){throw new Error("Not implemented")}}return x.\u0275fac=function(O){return new(O||x)},x.\u0275prov=f.Yz7({token:x,factory:function(){return function(x){const H=(0,f.LFG)(Ie).location;return new qe((0,f.LFG)(te),H&&H.origin||"")}()},providedIn:"root"}),x})();const We=new f.OlP("appBaseHref");let qe=(()=>{class x extends oe{constructor(O,G){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==G&&(G=this._platformLocation.getBaseHrefFromDOM()),null==G)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=G}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ke(this._baseHref,O)}path(O=!1){const G=this._platformLocation.pathname+yt(this._platformLocation.search),be=this._platformLocation.hash;return be&&O?`${G}${be}`:G}pushState(O,G,be,lt){const bt=this.prepareExternalUrl(be+yt(lt));this._platformLocation.pushState(O,G,bt)}replaceState(O,G,be,lt){const bt=this.prepareExternalUrl(be+yt(lt));this._platformLocation.replaceState(O,G,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var G,be;null==(be=(G=this._platformLocation).historyGo)||be.call(G,O)}}return x.\u0275fac=function(O){return new(O||x)(f.LFG(te),f.LFG(We,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac}),x})(),Le=(()=>{class x extends oe{constructor(O,G){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(O){const G=Ke(this._baseHref,O);return G.length>0?"#"+G:G}pushState(O,G,be,lt){let bt=this.prepareExternalUrl(be+yt(lt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(O,G,bt)}replaceState(O,G,be,lt){let bt=this.prepareExternalUrl(be+yt(lt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(O,G,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var G,be;null==(be=(G=this._platformLocation).historyGo)||be.call(G,O)}}return x.\u0275fac=function(O){return new(O||x)(f.LFG(te),f.LFG(We,8))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac}),x})(),gt=(()=>{class x{constructor(O,G){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const be=this._platformStrategy.getBaseHref();this._platformLocation=G,this._baseHref=_t(xe(be)),this._platformStrategy.onPopState(lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:lt.state,type:lt.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,G=""){return this.path()==this.normalize(O+yt(G))}normalize(O){return x.stripTrailingSlash(function(x,H){return x&&H.startsWith(x)?H.substring(x.length):H}(this._baseHref,xe(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,G="",be=null){this._platformStrategy.pushState(be,"",O,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+yt(G)),be)}replaceState(O,G="",be=null){this._platformStrategy.replaceState(be,"",O,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+yt(G)),be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var G,be;null==(be=(G=this._platformStrategy).historyGo)||be.call(G,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)}))}_notifyUrlChangeListeners(O="",G){this._urlChangeListeners.forEach(be=>be(O,G))}subscribe(O,G,be){return this._subject.subscribe({next:O,error:G,complete:be})}}return x.normalizeQueryParams=yt,x.joinWithSlash=Ke,x.stripTrailingSlash=_t,x.\u0275fac=function(O){return new(O||x)(f.LFG(oe),f.LFG(te))},x.\u0275prov=f.Yz7({token:x,factory:function(){return new gt((0,f.LFG)(oe),(0,f.LFG)(te))},providedIn:"root"}),x})();function xe(x){return x.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))();const Un=f.kL8;class yr{}let hr=(()=>{class x extends yr{constructor(O){super(),this.locale=O}getPluralCategory(O,G){switch(Un(G||this.locale)(O)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return x.\u0275fac=function(O){return new(O||x)(f.LFG(f.soG))},x.\u0275prov=f.Yz7({token:x,factory:x.\u0275fac}),x})();function qr(x,H){H=encodeURIComponent(H);for(const O of x.split(";")){const G=O.indexOf("="),[be,lt]=-1==G?[O,""]:[O.slice(0,G),O.slice(G+1)];if(be.trim()===H)return decodeURIComponent(lt)}return null}class ai{constructor(H,O,G,be){this.$implicit=H,this.ngForOf=O,this.index=G,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Vr=(()=>{class x{constructor(O,G,be){this._viewContainer=O,this._template=G,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;if(!this._differ&&O)try{this._differ=this._differs.find(O).create(this.ngForTrackBy)}catch(G){throw new Error(`Cannot find a differ supporting object '${O}' of type '${function(x){return x.name||typeof x}(O)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const G=[];O.forEachOperation((be,lt,bt)=>{if(null==be.previousIndex){const nn=this._viewContainer.createEmbeddedView(this._template,new ai(null,this._ngForOf,-1,-1),null===bt?void 0:bt),P=new hi(be,nn);G.push(P)}else if(null==bt)this._viewContainer.remove(null===lt?void 0:lt);else if(null!==lt){const nn=this._viewContainer.get(lt);this._viewContainer.move(nn,bt);const P=new hi(be,nn);G.push(P)}});for(let be=0;be<G.length;be++)this._perViewChange(G[be].view,G[be].record);for(let be=0,lt=this._viewContainer.length;be<lt;be++){const bt=this._viewContainer.get(be);bt.context.index=be,bt.context.count=lt,bt.context.ngForOf=this._ngForOf}O.forEachIdentityChange(be=>{this._viewContainer.get(be.currentIndex).context.$implicit=be.item})}_perViewChange(O,G){O.context.$implicit=G.item}static ngTemplateContextGuard(O,G){return!0}}return x.\u0275fac=function(O){return new(O||x)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),x})();class hi{constructor(H,O){this.record=H,this.view=O}}let ke=(()=>{class x{constructor(O,G){this._viewContainer=O,this._context=new Ne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Be("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Be("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,G){return!0}}return x.\u0275fac=function(O){return new(O||x)(f.Y36(f.s_b),f.Y36(f.Rgc))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),x})();class Ne{constructor(){this.$implicit=null,this.ngIf=null}}function Be(x,H){if(H&&!H.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,f.AaK)(H)}'.`)}let Sr=(()=>{class x{constructor(O,G,be){this._ngEl=O,this._differs=G,this._renderer=be,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,G){const[be,lt]=O.split(".");null!=(G=null!=G&&lt?`${G}${lt}`:G)?this._renderer.setStyle(this._ngEl.nativeElement,be,G):this._renderer.removeStyle(this._ngEl.nativeElement,be)}_applyChanges(O){O.forEachRemovedItem(G=>this._setStyle(G.key,null)),O.forEachAddedItem(G=>this._setStyle(G.key,G.currentValue)),O.forEachChangedItem(G=>this._setStyle(G.key,G.currentValue))}}return x.\u0275fac=function(O){return new(O||x)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},x.\u0275dir=f.lG2({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),x})();class cs{createSubscription(H,O){return H.subscribe({next:O,error:G=>{throw G}})}dispose(H){H.unsubscribe()}onDestroy(H){H.unsubscribe()}}class Gr{createSubscription(H,O){return H.then(O,G=>{throw G})}dispose(H){}onDestroy(H){}}const Si=new Gr,Ri=new cs;let $i=(()=>{class x{constructor(O){this._ref=O,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,G=>this._updateLatestValue(O,G))}_selectStrategy(O){if((0,f.QGY)(O))return Si;if((0,f.F4k)(O))return Ri;throw function(x,H){return Error(`InvalidPipeArgument: '${H}' for pipe '${(0,f.AaK)(x)}'`)}(x,O)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,G){O===this._obj&&(this._latestValue=G,this._ref.markForCheck())}}return x.\u0275fac=function(O){return new(O||x)(f.Y36(f.sBO,16))},x.\u0275pipe=f.Yjl({name:"async",type:x,pure:!1}),x})(),Ds=(()=>{class x{}return x.\u0275fac=function(O){return new(O||x)},x.\u0275mod=f.oAB({type:x}),x.\u0275inj=f.cJS({providers:[{provide:yr,useClass:hr}]}),x})();const Gi="browser";function xr(x){return"server"===x}let As=(()=>{class x{}return x.\u0275prov=(0,f.Yz7)({token:x,providedIn:"root",factory:()=>new Ss((0,f.LFG)(Ie),window)}),x})();class Ss{constructor(H,O){this.document=H,this.window=O,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const O=function(x,H){const O=x.getElementById(H)||x.getElementsByName(H)[0];if(O)return O;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const G=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let be=G.currentNode;for(;be;){const lt=be.shadowRoot;if(lt){const bt=lt.getElementById(H)||lt.querySelector(`[name="${H}"]`);if(bt)return bt}be=G.nextNode()}}return null}(this.document,H);O&&(this.scrollToElement(O),this.attemptFocus(O))}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=H)}}scrollToElement(H){const O=H.getBoundingClientRect(),G=O.left+this.window.pageXOffset,be=O.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(G-lt[0],be-lt[1])}attemptFocus(H){return H.focus(),this.document.activeElement===H}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=yo(this.window.history)||yo(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch(H){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(H){return!1}}}function yo(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Mr{}},4522:(Lt,je,N)=>{"use strict";N.d(je,{TP:()=>nt,eN:()=>pe,JF:()=>zt});var f=N(6019),_=N(3668),$=N(2997),he=N(8305),fe=N(4799),Ae=N(461),Ie=N(4753);class te{}class Pe{}class Y{constructor(ue){this.normalizedNames=new Map,this.lazyUpdate=null,ue?this.lazyInit="string"==typeof ue?()=>{this.headers=new Map,ue.split("\n").forEach(ge=>{const Ve=ge.indexOf(":");if(Ve>0){const dt=ge.slice(0,Ve),St=dt.toLowerCase(),pt=ge.slice(Ve+1).trim();this.maybeSetNormalizedName(dt,St),this.headers.has(St)?this.headers.get(St).push(pt):this.headers.set(St,[pt])}})}:()=>{this.headers=new Map,Object.keys(ue).forEach(ge=>{let Ve=ue[ge];const dt=ge.toLowerCase();"string"==typeof Ve&&(Ve=[Ve]),Ve.length>0&&(this.headers.set(dt,Ve),this.maybeSetNormalizedName(ge,dt))})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const ge=this.headers.get(ue.toLowerCase());return ge&&ge.length>0?ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,ge){return this.clone({name:ue,value:ge,op:"a"})}set(ue,ge){return this.clone({name:ue,value:ge,op:"s"})}delete(ue,ge){return this.clone({name:ue,value:ge,op:"d"})}maybeSetNormalizedName(ue,ge){this.normalizedNames.has(ge)||this.normalizedNames.set(ge,ue)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(ge=>{this.headers.set(ge,ue.headers.get(ge)),this.normalizedNames.set(ge,ue.normalizedNames.get(ge))})}clone(ue){const ge=new Y;return ge.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,ge.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),ge}applyUpdate(ue){const ge=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let Ve=ue.value;if("string"==typeof Ve&&(Ve=[Ve]),0===Ve.length)return;this.maybeSetNormalizedName(ue.name,ge);const dt=("a"===ue.op?this.headers.get(ge):void 0)||[];dt.push(...Ve),this.headers.set(ge,dt);break;case"d":const St=ue.value;if(St){let pt=this.headers.get(ge);if(!pt)return;pt=pt.filter(Dt=>-1===St.indexOf(Dt)),0===pt.length?(this.headers.delete(ge),this.normalizedNames.delete(ge)):this.headers.set(ge,pt)}else this.headers.delete(ge),this.normalizedNames.delete(ge)}}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(ge=>ue(this.normalizedNames.get(ge),this.headers.get(ge)))}}class ie{encodeKey(ue){return _t(ue)}encodeValue(ue){return _t(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const Qe=/%(\d[a-f0-9])/gi,Ke={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _t(Ge){return encodeURIComponent(Ge).replace(Qe,(ue,ge)=>{var Ve;return null!=(Ve=Ke[ge])?Ve:ue})}function yt(Ge){return`${Ge}`}class oe{constructor(ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ue.encoder||new ie,ue.fromString){if(ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ge,ue){const ge=new Map;return Ge.length>0&&Ge.replace(/^\?/,"").split("&").forEach(dt=>{const St=dt.indexOf("="),[pt,Dt]=-1==St?[ue.decodeKey(dt),""]:[ue.decodeKey(dt.slice(0,St)),ue.decodeValue(dt.slice(St+1))],tn=ge.get(pt)||[];tn.push(Dt),ge.set(pt,tn)}),ge}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(ge=>{const Ve=ue.fromObject[ge];this.map.set(ge,Array.isArray(Ve)?Ve:[Ve])})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const ge=this.map.get(ue);return ge?ge[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,ge){return this.clone({param:ue,value:ge,op:"a"})}appendAll(ue){const ge=[];return Object.keys(ue).forEach(Ve=>{const dt=ue[Ve];Array.isArray(dt)?dt.forEach(St=>{ge.push({param:Ve,value:St,op:"a"})}):ge.push({param:Ve,value:dt,op:"a"})}),this.clone(ge)}set(ue,ge){return this.clone({param:ue,value:ge,op:"s"})}delete(ue,ge){return this.clone({param:ue,value:ge,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const ge=this.encoder.encodeKey(ue);return this.map.get(ue).map(Ve=>ge+"="+this.encoder.encodeValue(Ve)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const ge=new oe({encoder:this.encoder});return ge.cloneFrom=this.cloneFrom||this,ge.updates=(this.updates||[]).concat(ue),ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const ge=("a"===ue.op?this.map.get(ue.param):void 0)||[];ge.push(yt(ue.value)),this.map.set(ue.param,ge);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let Ve=this.map.get(ue.param)||[];const dt=Ve.indexOf(yt(ue.value));-1!==dt&&Ve.splice(dt,1),Ve.length>0?this.map.set(ue.param,Ve):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}class We{constructor(){this.map=new Map}set(ue,ge){return this.map.set(ue,ge),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}keys(){return this.map.keys()}}function Le(Ge){return"undefined"!=typeof ArrayBuffer&&Ge instanceof ArrayBuffer}function gt(Ge){return"undefined"!=typeof Blob&&Ge instanceof Blob}function ze(Ge){return"undefined"!=typeof FormData&&Ge instanceof FormData}class xe{constructor(ue,ge,Ve,dt){let St;if(this.url=ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ue.toUpperCase(),function(Ge){switch(Ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==Ve?Ve:null,St=dt):St=Ve,St&&(this.reportProgress=!!St.reportProgress,this.withCredentials=!!St.withCredentials,St.responseType&&(this.responseType=St.responseType),St.headers&&(this.headers=St.headers),St.context&&(this.context=St.context),St.params&&(this.params=St.params)),this.headers||(this.headers=new Y),this.context||(this.context=new We),this.params){const pt=this.params.toString();if(0===pt.length)this.urlWithParams=ge;else{const Dt=ge.indexOf("?");this.urlWithParams=ge+(-1===Dt?"?":Dt<ge.length-1?"&":"")+pt}}else this.params=new oe,this.urlWithParams=ge}serializeBody(){return null===this.body?null:Le(this.body)||gt(this.body)||ze(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:gt(this.body)?this.body.type||null:Le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ue={}){var rn;const ge=ue.method||this.method,Ve=ue.url||this.url,dt=ue.responseType||this.responseType,St=void 0!==ue.body?ue.body:this.body,pt=void 0!==ue.withCredentials?ue.withCredentials:this.withCredentials,Dt=void 0!==ue.reportProgress?ue.reportProgress:this.reportProgress;let tn=ue.headers||this.headers,Gn=ue.params||this.params;const nr=null!=(rn=ue.context)?rn:this.context;return void 0!==ue.setHeaders&&(tn=Object.keys(ue.setHeaders).reduce((pn,mn)=>pn.set(mn,ue.setHeaders[mn]),tn)),ue.setParams&&(Gn=Object.keys(ue.setParams).reduce((pn,mn)=>pn.set(mn,ue.setParams[mn]),Gn)),new xe(ge,Ve,St,{params:Gn,headers:tn,context:nr,reportProgress:Dt,responseType:dt,withCredentials:pt})}}var Et=(()=>((Et=Et||{})[Et.Sent=0]="Sent",Et[Et.UploadProgress=1]="UploadProgress",Et[Et.ResponseHeader=2]="ResponseHeader",Et[Et.DownloadProgress=3]="DownloadProgress",Et[Et.Response=4]="Response",Et[Et.User=5]="User",Et))();class ee{constructor(ue,ge=200,Ve="OK"){this.headers=ue.headers||new Y,this.status=void 0!==ue.status?ue.status:ge,this.statusText=ue.statusText||Ve,this.url=ue.url||null,this.ok=this.status>=200&&this.status<300}}class le extends ee{constructor(ue={}){super(ue),this.type=Et.ResponseHeader}clone(ue={}){return new le({headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class ae extends ee{constructor(ue={}){super(ue),this.type=Et.Response,this.body=void 0!==ue.body?ue.body:null}clone(ue={}){return new ae({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class Ce extends ee{constructor(ue){super(ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ue.url||"(unknown url)"}`:`Http failure response for ${ue.url||"(unknown url)"}: ${ue.status} ${ue.statusText}`,this.error=ue.error||null}}function $e(Ge,ue){return{body:ue,headers:Ge.headers,context:Ge.context,observe:Ge.observe,params:Ge.params,reportProgress:Ge.reportProgress,responseType:Ge.responseType,withCredentials:Ge.withCredentials}}let pe=(()=>{class Ge{constructor(ge){this.handler=ge}request(ge,Ve,dt={}){let St;if(ge instanceof xe)St=ge;else{let tn,Gn;tn=dt.headers instanceof Y?dt.headers:new Y(dt.headers),dt.params&&(Gn=dt.params instanceof oe?dt.params:new oe({fromObject:dt.params})),St=new xe(ge,Ve,void 0!==dt.body?dt.body:null,{headers:tn,context:dt.context,params:Gn,reportProgress:dt.reportProgress,responseType:dt.responseType||"json",withCredentials:dt.withCredentials})}const pt=(0,$.of)(St).pipe((0,fe.b)(tn=>this.handler.handle(tn)));if(ge instanceof xe||"events"===dt.observe)return pt;const Dt=pt.pipe((0,Ae.h)(tn=>tn instanceof ae));switch(dt.observe||"body"){case"body":switch(St.responseType){case"arraybuffer":return Dt.pipe((0,Ie.U)(tn=>{if(null!==tn.body&&!(tn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return tn.body}));case"blob":return Dt.pipe((0,Ie.U)(tn=>{if(null!==tn.body&&!(tn.body instanceof Blob))throw new Error("Response is not a Blob.");return tn.body}));case"text":return Dt.pipe((0,Ie.U)(tn=>{if(null!==tn.body&&"string"!=typeof tn.body)throw new Error("Response is not a string.");return tn.body}));default:return Dt.pipe((0,Ie.U)(tn=>tn.body))}case"response":return Dt;default:throw new Error(`Unreachable: unhandled observe type ${dt.observe}}`)}}delete(ge,Ve={}){return this.request("DELETE",ge,Ve)}get(ge,Ve={}){return this.request("GET",ge,Ve)}head(ge,Ve={}){return this.request("HEAD",ge,Ve)}jsonp(ge,Ve){return this.request("JSONP",ge,{params:(new oe).append(Ve,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ge,Ve={}){return this.request("OPTIONS",ge,Ve)}patch(ge,Ve,dt={}){return this.request("PATCH",ge,$e(dt,Ve))}post(ge,Ve,dt={}){return this.request("POST",ge,$e(dt,Ve))}put(ge,Ve,dt={}){return this.request("PUT",ge,$e(dt,Ve))}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(_.LFG(te))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();class Tt{constructor(ue,ge){this.next=ue,this.interceptor=ge}handle(ue){return this.interceptor.intercept(ue,this.next)}}const nt=new _.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class Ge{intercept(ge,Ve){return Ve.handle(ge)}}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const cn=/^\)\]\}',?\n/;let vn=(()=>{class Ge{constructor(ge){this.xhrFactory=ge}handle(ge){if("JSONP"===ge.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he.y(Ve=>{const dt=this.xhrFactory.build();if(dt.open(ge.method,ge.urlWithParams),ge.withCredentials&&(dt.withCredentials=!0),ge.headers.forEach((mn,_e)=>dt.setRequestHeader(mn,_e.join(","))),ge.headers.has("Accept")||dt.setRequestHeader("Accept","application/json, text/plain, */*"),!ge.headers.has("Content-Type")){const mn=ge.detectContentTypeHeader();null!==mn&&dt.setRequestHeader("Content-Type",mn)}if(ge.responseType){const mn=ge.responseType.toLowerCase();dt.responseType="json"!==mn?mn:"text"}const St=ge.serializeBody();let pt=null;const Dt=()=>{if(null!==pt)return pt;const mn=1223===dt.status?204:dt.status,_e=dt.statusText||"OK",me=new Y(dt.getAllResponseHeaders()),q=function(Ge){return"responseURL"in Ge&&Ge.responseURL?Ge.responseURL:/^X-Request-URL:/m.test(Ge.getAllResponseHeaders())?Ge.getResponseHeader("X-Request-URL"):null}(dt)||ge.url;return pt=new le({headers:me,status:mn,statusText:_e,url:q}),pt},tn=()=>{let{headers:mn,status:_e,statusText:me,url:q}=Dt(),F=null;204!==_e&&(F=void 0===dt.response?dt.responseText:dt.response),0===_e&&(_e=F?200:0);let V=_e>=200&&_e<300;if("json"===ge.responseType&&"string"==typeof F){const Oe=F;F=F.replace(cn,"");try{F=""!==F?JSON.parse(F):null}catch(se){F=Oe,V&&(V=!1,F={error:se,text:F})}}V?(Ve.next(new ae({body:F,headers:mn,status:_e,statusText:me,url:q||void 0})),Ve.complete()):Ve.error(new Ce({error:F,headers:mn,status:_e,statusText:me,url:q||void 0}))},Gn=mn=>{const{url:_e}=Dt(),me=new Ce({error:mn,status:dt.status||0,statusText:dt.statusText||"Unknown Error",url:_e||void 0});Ve.error(me)};let nr=!1;const rn=mn=>{nr||(Ve.next(Dt()),nr=!0);let _e={type:Et.DownloadProgress,loaded:mn.loaded};mn.lengthComputable&&(_e.total=mn.total),"text"===ge.responseType&&!!dt.responseText&&(_e.partialText=dt.responseText),Ve.next(_e)},pn=mn=>{let _e={type:Et.UploadProgress,loaded:mn.loaded};mn.lengthComputable&&(_e.total=mn.total),Ve.next(_e)};return dt.addEventListener("load",tn),dt.addEventListener("error",Gn),dt.addEventListener("timeout",Gn),dt.addEventListener("abort",Gn),ge.reportProgress&&(dt.addEventListener("progress",rn),null!==St&&dt.upload&&dt.upload.addEventListener("progress",pn)),dt.send(St),Ve.next({type:Et.Sent}),()=>{dt.removeEventListener("error",Gn),dt.removeEventListener("abort",Gn),dt.removeEventListener("load",tn),dt.removeEventListener("timeout",Gn),ge.reportProgress&&(dt.removeEventListener("progress",rn),null!==St&&dt.upload&&dt.upload.removeEventListener("progress",pn)),dt.readyState!==dt.DONE&&dt.abort()}})}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(_.LFG(f.JF))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})();const Rn=new _.OlP("XSRF_COOKIE_NAME"),Fn=new _.OlP("XSRF_HEADER_NAME");class Kn{}let Zn=(()=>{class Ge{constructor(ge,Ve,dt){this.doc=ge,this.platform=Ve,this.cookieName=dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ge=this.doc.cookie||"";return ge!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(ge,this.cookieName),this.lastCookieString=ge),this.lastToken}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(_.LFG(f.K0),_.LFG(_.Lbi),_.LFG(Rn))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),Un=(()=>{class Ge{constructor(ge,Ve){this.tokenService=ge,this.headerName=Ve}intercept(ge,Ve){const dt=ge.url.toLowerCase();if("GET"===ge.method||"HEAD"===ge.method||dt.startsWith("http://")||dt.startsWith("https://"))return Ve.handle(ge);const St=this.tokenService.getToken();return null!==St&&!ge.headers.has(this.headerName)&&(ge=ge.clone({headers:ge.headers.set(this.headerName,St)})),Ve.handle(ge)}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(_.LFG(Kn),_.LFG(Fn))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),En=(()=>{class Ge{constructor(ge,Ve){this.backend=ge,this.injector=Ve,this.chain=null}handle(ge){if(null===this.chain){const Ve=this.injector.get(nt,[]);this.chain=Ve.reduceRight((dt,St)=>new Tt(dt,St),this.backend)}return this.chain.handle(ge)}}return Ge.\u0275fac=function(ge){return new(ge||Ge)(_.LFG(Pe),_.LFG(_.zs3))},Ge.\u0275prov=_.Yz7({token:Ge,factory:Ge.\u0275fac}),Ge})(),Ot=(()=>{class Ge{static disable(){return{ngModule:Ge,providers:[{provide:Un,useClass:Bt}]}}static withOptions(ge={}){return{ngModule:Ge,providers:[ge.cookieName?{provide:Rn,useValue:ge.cookieName}:[],ge.headerName?{provide:Fn,useValue:ge.headerName}:[]]}}}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275mod=_.oAB({type:Ge}),Ge.\u0275inj=_.cJS({providers:[Un,{provide:nt,useExisting:Un,multi:!0},{provide:Kn,useClass:Zn},{provide:Rn,useValue:"XSRF-TOKEN"},{provide:Fn,useValue:"X-XSRF-TOKEN"}]}),Ge})(),zt=(()=>{class Ge{}return Ge.\u0275fac=function(ge){return new(ge||Ge)},Ge.\u0275mod=_.oAB({type:Ge}),Ge.\u0275inj=_.cJS({providers:[pe,{provide:te,useClass:En},vn,{provide:Pe,useExisting:vn}],imports:[[Ot.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ge})()},3668:(Lt,je,N)=>{"use strict";N.d(je,{deG:()=>$a,tb:()=>q0,AFp:()=>G0,ip1:()=>L_,CZH:()=>Mh,hGG:()=>wT,z2F:()=>Sp,sBO:()=>Gb,Sil:()=>B_,_Vd:()=>Th,EJc:()=>Y0,SBq:()=>Uu,qLn:()=>Nt,vpe:()=>Bu,tBr:()=>Ga,XFs:()=>Ot,OlP:()=>Ur,zs3:()=>ni,ZZ4:()=>Bm,aQg:()=>jm,soG:()=>Fm,YKP:()=>r0,h0i:()=>gd,PXZ:()=>Lb,R0b:()=>la,FiY:()=>Do,Lbi:()=>K0,g9A:()=>z0,Qsj:()=>ZC,FYo:()=>Rm,JOm:()=>to,Tiy:()=>E_,q3G:()=>Ti,tp0:()=>ks,Rgc:()=>Tp,dDg:()=>tw,q4F:()=>w_,GfV:()=>e0,s_b:()=>Om,ifc:()=>pt,eFA:()=>ow,G48:()=>xb,Gpc:()=>ie,X6Q:()=>G_,_c5:()=>pT,VLi:()=>Rb,c2e:()=>Z0,zSh:()=>Kl,wAp:()=>Hn,vHH:()=>_t,EiD:()=>jp,mCW:()=>ne,qzn:()=>Ji,JVY:()=>Ic,pB0:()=>Pr,eBb:()=>Cc,L6k:()=>Sd,LAX:()=>$h,cg1:()=>h_,Tjo:()=>tT,kL8:()=>IE,yhl:()=>xl,dqk:()=>rn,sIi:()=>ld,CqO:()=>a,QGY:()=>n,F4k:()=>i,RDi:()=>As,AaK:()=>te,z3N:()=>Uo,qOj:()=>Qf,TTD:()=>Dr,_Bn:()=>ZE,xp6:()=>$d,uIk:()=>ec,ekj:()=>l_,Suo:()=>I0,Xpm:()=>Rt,lG2:()=>hn,Yz7:()=>Vt,cJS:()=>Jt,oAB:()=>Ze,Yjl:()=>dn,Y36:()=>fd,_UZ:()=>Em,BQk:()=>mp,ynx:()=>gp,qZA:()=>pp,TgZ:()=>fp,EpF:()=>s,n5z:()=>br,LFG:()=>ei,$8M:()=>Ni,$Z:()=>vm,NdJ:()=>c,CRH:()=>C0,oxw:()=>ve,ALo:()=>f0,lcZ:()=>p0,Q6J:()=>dp,s9C:()=>Kt,MGl:()=>Cn,hYB:()=>sr,VKq:()=>a0,iGM:()=>E0,MAs:()=>yh,CHM:()=>Ro,LSH:()=>Md,YNc:()=>tp,W1O:()=>A0,_uU:()=>nE,Oqu:()=>d_,hij:()=>Im,Gf:()=>w0});var f=N(273),_=N(7908),$=N(8305),he=N(3719),fe=N(3174);function Ae(e){for(let t in e)if(e[t]===Ae)return t;throw Error("Could not find renamed property on target object.")}function Ie(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function te(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(te).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Pe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Y=Ae({__forward_ref__:Ae});function ie(e){return e.__forward_ref__=ie,e.toString=function(){return te(this())},e}function Re(e){return Qe(e)?e():e}function Qe(e){return"function"==typeof e&&e.hasOwnProperty(Y)&&e.__forward_ref__===ie}class _t extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function We(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}function ze(e,t){const r=t?` in ${t}`:"";throw new _t("201",`No provider for ${We(e)} found${r}`)}function Ct(e,t){null==e&&function(e,t,r,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${r} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function Vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Jt(e){return{providers:e.providers||[],imports:e.imports||[]}}function vn(e){return Rn(e,Un)||Rn(e,er)}function Rn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zn(e){return e&&(e.hasOwnProperty(En)||e.hasOwnProperty(tr))?e[En]:null}const Un=Ae({\u0275prov:Ae}),En=Ae({\u0275inj:Ae}),er=Ae({ngInjectableDef:Ae}),tr=Ae({ngInjectorDef:Ae});var Ot=(()=>((Ot=Ot||{})[Ot.Default=0]="Default",Ot[Ot.Host=1]="Host",Ot[Ot.Self=2]="Self",Ot[Ot.SkipSelf=4]="SkipSelf",Ot[Ot.Optional=8]="Optional",Ot))();let zt;function qn(e){const t=zt;return zt=e,t}function Ge(e,t,r){const o=vn(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ot.Optional?null:void 0!==t?t:void ze(te(e),"Injector")}function ge(e){return{toString:e}.toString()}var Ve=(()=>((Ve=Ve||{})[Ve.OnPush=0]="OnPush",Ve[Ve.Default=1]="Default",Ve))(),pt=(()=>{return(e=pt||(pt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",pt;var e})();const Dt="undefined"!=typeof globalThis&&globalThis,tn="undefined"!=typeof window&&window,Gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rn=Dt||"undefined"!=typeof global&&global||tn||Gn,_e={},me=[],q=Ae({\u0275cmp:Ae}),F=Ae({\u0275dir:Ae}),V=Ae({\u0275pipe:Ae}),Oe=Ae({\u0275mod:Ae}),se=Ae({\u0275fac:Ae}),He=Ae({__NG_ELEMENT_ID__:Ae});let at=0;function Rt(e){return ge(()=>{const r={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ve.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||me,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||pt.Emulated,id:"c",styles:e.styles||me,_:null,setInput:null,schemas:e.schemas||null,tView:null},u=e.directives,l=e.features,d=e.pipes;return o.id+=at++,o.inputs=Qt(e.inputs,r),o.outputs=Qt(e.outputs),l&&l.forEach(m=>m(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(ye):null,o.pipeDefs=d?()=>("function"==typeof d?d():d).map(re):null,o})}function ye(e){return yn(e)||function(e){return e[F]||null}(e)}function re(e){return function(e){return e[V]||null}(e)}const de={};function Ze(e){return ge(()=>{const t={type:e.type,bootstrap:e.bootstrap||me,declarations:e.declarations||me,imports:e.imports||me,exports:e.exports||me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(de[e.id]=e.type),t})}function Qt(e,t){if(null==e)return _e;const r={};for(const o in e)if(e.hasOwnProperty(o)){let u=e[o],l=u;Array.isArray(u)&&(l=u[1],u=u[0]),r[u]=o,t&&(t[u]=l)}return r}const hn=Rt;function dn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function yn(e){return e[q]||null}function fn(e,t){const r=e[Oe]||null;if(!r&&!0===t)throw new Error(`Type ${te(e)} does not have '\u0275mod' property.`);return r}function qt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Nn(e){return Array.isArray(e)&&!0===e[1]}function fr(e){return 0!=(8&e.flags)}function On(e){return 2==(2&e.flags)}function Br(e){return 1==(1&e.flags)}function Sr(e){return null!==e.template}function Rr(e){return 0!=(512&e[2])}function ns(e,t){return e.hasOwnProperty(se)?e[se]:null}class Zr{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Dr(){return Ui}function Ui(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ds),Yr}function Yr(){const e=cr(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===_e)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Ds(e,t,r,o){const u=cr(e)||function(e,t){return e[Gi]=t}(e,{previous:_e,current:null}),l=u.current||(u.current={}),d=u.previous,m=this.declaredInputs[r],I=d[m];l[m]=new Zr(I&&I.currentValue,t,d===_e),e[o]=t}Dr.ngInherit=!0;const Gi="__ngSimpleChanges__";function cr(e){return e[Gi]||null}let Ts;function As(e){Ts=e}function ar(e){return!!e.listen}const Di={createRenderer:(e,t)=>void 0!==Ts?Ts:"undefined"!=typeof document?document:void 0};function x(e){for(;Array.isArray(e);)e=e[0];return e}function G(e,t){return x(t[e])}function be(e,t){return x(t[e.index])}function bt(e,t){return e.data[t]}function nn(e,t){return e[t]}function P(e,t){const r=t[e];return qt(r)?r:r[0]}function S(e){return 4==(4&e[2])}function y(e){return 128==(128&e[2])}function z(e,t){return null==t?null:e[t]}function Ee(e){e[18]=0}function it(e,t){e[5]+=t;let r=e,o=e[3];for(;null!==o&&(1===t&&1===r[5]||-1===t&&0===r[5]);)o[5]+=t,r=o,o=o[3]}const ct={lFrame:ga(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function dr(){return ct.bindingsEnabled}function mt(){return ct.lFrame.lView}function jn(){return ct.lFrame.tView}function Ro(e){return ct.lFrame.contextLView=e,e[8]}function Sn(){let e=gs();for(;null!==e&&64===e.type;)e=e.parent;return e}function gs(){return ct.lFrame.currentTNode}function zi(e,t){const r=ct.lFrame;r.currentTNode=e,r.isParent=t}function ca(){return ct.lFrame.isParent}function xo(){ct.lFrame.isParent=!1}function ha(){return ct.isInCheckNoChangesMode}function Ws(e){ct.isInCheckNoChangesMode=e}function ui(){const e=ct.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Mo(){return ct.lFrame.bindingIndex++}function Ki(e){const t=ct.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Go(e,t){const r=ct.lFrame;r.bindingIndex=r.bindingRootIndex=e,fa(t)}function fa(e){ct.lFrame.currentDirectiveIndex=e}function vo(){return ct.lFrame.currentQueryIndex}function pa(e){ct.lFrame.currentQueryIndex=e}function ka(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Eo(e,t,r){if(r&Ot.SkipSelf){let u=t,l=e;for(;!(u=u.parent,null!==u||r&Ot.Host||(u=ka(l),null===u||(l=l[15],10&u.type))););if(null===u)return!1;t=u,e=l}const o=ct.lFrame=so();return o.currentTNode=t,o.lView=e,!0}function wo(e){const t=so(),r=e[1];ct.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function so(){const e=ct.lFrame,t=null===e?null:e.child;return null===t?ga(e):t}function ga(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Gs(){const e=ct.lFrame;return ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zo=Gs;function zs(){const e=Gs();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zr(){return ct.lFrame.selectedIndex}function Ks(e){ct.lFrame.selectedIndex=e}function $r(){const e=ct.lFrame;return bt(e.tView,e.selectedIndex)}function is(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:m,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:L}=l;d&&(e.contentHooks||(e.contentHooks=[])).push(-r,d),m&&((e.contentHooks||(e.contentHooks=[])).push(r,m),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,m)),I&&(e.viewHooks||(e.viewHooks=[])).push(-r,I),A&&((e.viewHooks||(e.viewHooks=[])).push(r,A),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,A)),null!=L&&(e.destroyHooks||(e.destroyHooks=[])).push(r,L)}}function qs(e,t,r){pu(e,t,3,r)}function oo(e,t,r,o){(3&e[2])===r&&pu(e,t,r,o)}function li(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function pu(e,t,r,o){const l=null!=o?o:-1,d=t.length-1;let m=0;for(let I=void 0!==o?65535&e[18]:0;I<d;I++)if("number"==typeof t[I+1]){if(m=t[I],null!=o&&m>=o)break}else t[I]<0&&(e[18]+=65536),(m<l||-1==l)&&(ya(e,r,t,I),e[18]=(4294901760&e[18])+I+2),I++}function ya(e,t,r,o){const u=r[o]<0,l=r[o+1],m=e[u?-r[o]:r[o]];if(u){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(m)}finally{}}}else try{l.call(m)}finally{}}class Rs{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function Gt(e,t,r){const o=ar(e);let u=0;for(;u<r.length;){const l=r[u];if("number"==typeof l){if(0!==l)break;u++;const d=r[u++],m=r[u++],I=r[u++];o?e.setAttribute(t,m,I,d):t.setAttributeNS(d,m,I)}else{const d=l,m=r[++u];Zs(d)?o&&e.setProperty(t,d,m):o?e.setAttribute(t,d,m):t.setAttribute(d,m),u++}}return u}function Nr(e){return 3===e||4===e||6===e}function Zs(e){return 64===e.charCodeAt(0)}function qo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const u=t[o];"number"==typeof u?r=u:0===r||_n(e,r,u,null,-1===r||2===r?t[++o]:null)}}return e}function _n(e,t,r,o,u){let l=0,d=e.length;if(-1===t)d=-1;else for(;l<e.length;){const m=e[l++];if("number"==typeof m){if(m===t){d=-1;break}if(m>t){d=l-1;break}}}for(;l<e.length;){const m=e[l];if("number"==typeof m)break;if(m===r){if(null===o)return void(null!==u&&(e[l+1]=u));if(o===e[l+1])return void(e[l+2]=u)}l++,null!==o&&l++,null!==u&&l++}-1!==d&&(e.splice(d,0,t),l=d+1),e.splice(l++,0,r),null!==o&&e.splice(l++,0,o),null!==u&&e.splice(l++,0,u)}function Dn(e){return-1!==e}function Zo(e){return 32767&e}function st(e,t){let r=function(e){return e>>16}(e),o=t;for(;r>0;)o=o[15],r--;return o}let kt=!0;function Jr(e){const t=kt;return kt=e,t}let $u=0;function lo(e,t){const r=Yo(e,t);if(-1!==r)return r;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Mi(o.data,e),Mi(t,null),Mi(o.blueprint,null));const u=b(e,t),l=e.injectorIndex;if(Dn(u)){const d=Zo(u),m=st(u,t),I=m[1].data;for(let A=0;A<8;A++)t[l+A]=m[d+A]|I[d+A]}return t[l+8]=u,l}function Mi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function b(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,u=t;for(;null!==u;){const l=u[1],d=l.type;if(o=2===d?l.declTNode:1===d?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function E(e,t,r){!function(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(He)&&(o=r[He]),null==o&&(o=r[He]=$u++);const u=255&o;t.data[e+(u>>5)]|=1<<u}(e,t,r)}function R(e,t,r){if(r&Ot.Optional)return e;ze(t,"NodeInjector")}function k(e,t,r,o){if(r&Ot.Optional&&void 0===o&&(o=null),0==(r&(Ot.Self|Ot.Host))){const u=e[9],l=qn(void 0);try{return u?u.get(t,o,r&Ot.Optional):Ge(t,o,r&Ot.Optional)}finally{qn(l)}}return R(o,t,r)}function U(e,t,r,o=Ot.Default,u){if(null!==e){const l=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(He)?e[He]:void 0;return"number"==typeof t?t>=0?255&t:Se:t}(r);if("function"==typeof l){if(!Eo(t,e,o))return o&Ot.Host?R(u,r,o):k(t,r,o,u);try{const d=l(o);if(null!=d||o&Ot.Optional)return d;ze(r)}finally{zo()}}else if("number"==typeof l){let d=null,m=Yo(e,t),I=-1,A=o&Ot.Host?t[16][6]:null;for((-1===m||o&Ot.SkipSelf)&&(I=-1===m?b(e,t):t[m+8],-1!==I&&or(o,!1)?(d=t[1],m=Zo(I),t=st(I,t)):m=-1);-1!==m;){const L=t[1];if(Ln(l,m,L.data)){const K=ht(m,t,r,d,o,A);if(K!==ce)return K}I=t[m+8],-1!==I&&or(o,t[1].data[m+8]===A)&&Ln(l,m,t)?(d=L,m=Zo(I),t=st(I,t)):m=-1}}}return k(t,r,o,u)}const ce={};function Se(){return new qi(Sn(),mt())}function ht(e,t,r,o,u,l){const d=t[1],m=d.data[e+8],L=Xt(m,d,r,null==o?On(m)&&kt:o!=d&&0!=(3&m.type),u&Ot.Host&&l===m);return null!==L?sn(t,d,L,m):ce}function Xt(e,t,r,o,u){const l=e.providerIndexes,d=t.data,m=1048575&l,I=e.directiveStart,L=l>>20,Q=u?m+L:e.directiveEnd;for(let De=o?m:m+L;De<Q;De++){const Fe=d[De];if(De<I&&r===Fe||De>=I&&Fe.type===r)return De}if(u){const De=d[I];if(De&&Sr(De)&&De.type===r)return I}return null}function sn(e,t,r,o){let u=e[r];const l=t.data;if(function(e){return e instanceof Rs}(u)){const d=u;d.resolving&&function(e,t){throw new _t("200",`Circular dependency in DI detected for ${e}`)}(We(l[r]));const m=Jr(d.canSeeViewProviders);d.resolving=!0;const I=d.injectImpl?qn(d.injectImpl):null;Eo(e,o,Ot.Default);try{u=e[r]=d.factory(void 0,l,e,o),t.firstCreatePass&&r>=o.directiveStart&&function(e,t,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:l}=t.type.prototype;if(o){const d=Ui(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,d),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,d)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,u),l&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,l),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,l))}(r,l[r],t)}finally{null!==I&&qn(I),Jr(m),d.resolving=!1,zo()}}return u}function Ln(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function or(e,t){return!(e&Ot.Self||e&Ot.Host&&t)}class qi{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return U(this._tNode,this._lView,t,o,r)}}function br(e){return ge(()=>{const t=e.prototype.constructor,r=t[se]||os(t),o=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==o;){const l=u[se]||os(u);if(l&&l!==r)return l;u=Object.getPrototypeOf(u)}return l=>new l})}function os(e){return Qe(e)?()=>{const t=os(Re(e));return t&&t()}:ns(e)}function Ni(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const l=r[u];if(Nr(l))break;if(0===l)u+=2;else if("number"==typeof l)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(l===t)return r[u+1];u+=2}}}return null}(Sn(),e)}const Oi="__parameters__";function xs(e,t,r){return ge(()=>{const o=function(e){return function(...r){if(e){const o=e(...r);for(const u in o)this[u]=o[u]}}}(t);function u(...l){if(this instanceof u)return o.apply(this,l),this;const d=new u(...l);return m.annotation=d,m;function m(I,A,L){const K=I.hasOwnProperty(Oi)?I[Oi]:Object.defineProperty(I,Oi,{value:[]})[Oi];for(;K.length<=L;)K.push(null);return(K[L]=K[L]||[]).push(d),I}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}class Ur{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Vt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $a=new Ur("AnalyzeForEntryComponents");function Ms(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?(t===e&&(t=e.slice(0,r)),Ms(o,t)):t!==e&&t.push(o)}return t}function _s(e,t){e.forEach(r=>Array.isArray(r)?_s(r,t):t(r))}function Po(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function vs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function J(e,t,r){let o=Te(e,t);return o>=0?e[1|o]=r:(o=~o,function(e,t,r,o){let u=e.length;if(u==t)e.push(r,o);else if(1===u)e.push(o,e[0]),e[0]=r;else{for(u--,e.push(e[u-1],e[u]);u>t;)e[u]=e[u-2],u--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function W(e,t){const r=Te(e,t);if(r>=0)return e[1|r]}function Te(e,t){return function(e,t,r){let o=0,u=e.length>>r;for(;u!==o;){const l=o+(u-o>>1),d=e[l<<r];if(t===d)return l<<r;d>t?u=l:o=l+1}return~(u<<r)}(e,t,1)}const Ys={},Os="__NG_DI_FLAG__",Jo="ngTempTokenPath",pc=/\n/gm,Ps="__source",Tl=Ae({provide:String,useValue:Ae});let Co;function Ha(e){const t=Co;return Co=e,t}function gc(e,t=Ot.Default){if(void 0===Co)throw new Error("inject() must be called from an injection context");return null===Co?Ge(e,void 0,t):Co.get(e,t&Ot.Optional?null:void 0,t)}function ei(e,t=Ot.Default){return(zt||gc)(Re(e),t)}function ko(e){const t=[];for(let r=0;r<e.length;r++){const o=Re(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,l=Ot.Default;for(let d=0;d<o.length;d++){const m=o[d],I=yc(m);"number"==typeof I?-1===I?u=m.token:l|=I:u=m}t.push(ei(u,l))}else t.push(ei(o))}return t}function wa(e,t){return e[Os]=t,e.prototype[Os]=t,e}function yc(e){return e[Os]}function Wa(e,t,r,o){const u=e[Jo];throw t[Ps]&&u.unshift(t[Ps]),e.message=function(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let u=te(t);if(Array.isArray(t))u=t.map(te).join(" -> ");else if("object"==typeof t){let l=[];for(let d in t)if(t.hasOwnProperty(d)){let m=t[d];l.push(d+":"+("string"==typeof m?JSON.stringify(m):te(m)))}u=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${e.replace(pc,"\n  ")}`}("\n"+e.message,u,r,o),e.ngTokenPath=u,e[Jo]=null,e}const Ga=wa(xs("Inject",e=>({token:e})),-1),Do=wa(xs("Optional"),8),ks=wa(xs("SkipSelf"),4);let Ia;function ea(e){var t;return(null==(t=function(){if(void 0===Ia&&(Ia=null,rn.trustedTypes))try{Ia=rn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ia}())?void 0:t.createHTML(e))||e}class Ca{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ki extends Ca{getTypeName(){return"HTML"}}class Du extends Ca{getTypeName(){return"Style"}}class Qi extends Ca{getTypeName(){return"Script"}}class ti extends Ca{getTypeName(){return"URL"}}class Ad extends Ca{getTypeName(){return"ResourceURL"}}function Uo(e){return e instanceof Ca?e.changingThisBreaksApplicationSecurity:e}function Ji(e,t){const r=xl(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function xl(e){return e instanceof Ca&&e.getTypeName()||null}function Ic(e){return new ki(e)}function Sd(e){return new Du(e)}function Cc(e){return new Qi(e)}function $h(e){return new ti(e)}function Pr(e){return new Ad(e)}class Ml{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(ea(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class w{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=ea(t),r;const o=this.inertDocument.createElement("body");return o.innerHTML=ea(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(t){const r=t.attributes;for(let u=r.length-1;0<u;u--){const d=r.item(u).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&t.removeAttribute(d)}let o=t.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const g=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,j=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ne(e){return(e=String(e)).match(g)||e.match(j)?e:"unsafe:"+e}function Mt(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function ln(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Vn=Mt("area,br,col,hr,img,wbr"),ur=Mt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kr=Mt("rp,rt"),vi=ln(Vn,ln(ur,Mt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ln(Kr,Mt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ln(Kr,ur)),za=Mt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zu=Mt("srcset"),qu=ln(za,zu,Mt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bc=Mt("script,style,template");class Ka{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!vi.hasOwnProperty(r))return this.sanitizedSomething=!0,!bc.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let u=0;u<o.length;u++){const l=o.item(u),d=l.name,m=d.toLowerCase();if(!qu.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let I=l.value;za[m]&&(I=ne(I)),zu[m]&&(e=I,I=(e=String(e)).split(",").map(t=>ne(t.trim())).join(", ")),this.buf.push(" ",d,'="',Zu(I),'"')}var e;return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();vi.hasOwnProperty(r)&&!Vn.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Zu(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const Tc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xd=/([^\#-~ |!])/g;function Zu(e){return e.replace(/&/g,"&amp;").replace(Tc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(xd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nl;function jp(e,t){let r=null;try{Nl=Nl||function(e){const t=new w(e);return function(){try{return!!(new window.DOMParser).parseFromString(ea(""),"text/html")}catch(e){return!1}}()?new Ml(t):t}(e);let o=t?String(t):"";r=Nl.getInertBodyElement(o);let u=5,l=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=l,l=r.innerHTML,r=Nl.getInertBodyElement(o)}while(o!==l);return ea((new Ka).sanitizeChildren(Ol(r)||r))}finally{if(r){const o=Ol(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Ol(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ti=(()=>((Ti=Ti||{})[Ti.NONE=0]="NONE",Ti[Ti.HTML=1]="HTML",Ti[Ti.STYLE=2]="STYLE",Ti[Ti.SCRIPT=3]="SCRIPT",Ti[Ti.URL=4]="URL",Ti[Ti.RESOURCE_URL=5]="RESOURCE_URL",Ti))();function Md(e){const t=function(){const e=mt();return e&&e[12]}();return t?t.sanitize(Ti.URL,e)||"":Ji(e,"URL")?Uo(e):ne(Me(e))}const Bo="__ngContext__";function Fs(e,t){e[Bo]=t}function ta(e){const t=function(e){return e[Bo]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nd(e){return e.ngOriginalError}function Qp(e,...t){e.error(...t)}class Nt{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),o=this._findContext(t),u=(e=t)&&e.ngErrorLogger||Qp;var e;u(this._console,"ERROR",t),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(t){return t?t.ngDebugContext||this._findContext(Nd(t)):null}_findOriginalError(t){let r=t&&Nd(t);for(;r&&Nd(r);)r=Nd(r);return r||null}}const eo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rn))();function jo(e){return e instanceof Function?e():e}var to=(()=>((to=to||{})[to.Important=1]="Important",to[to.DashCase=2]="DashCase",to))();function Xu(e,t){return undefined(e,t)}function Oc(e){const t=e[3];return Nn(t)?t[3]:t}function Jh(e){return tg(e[13])}function Pc(e){return tg(e[4])}function tg(e){for(;null!==e&&!Nn(e);)e=e[4];return e}function el(e,t,r,o,u){if(null!=o){let l,d=!1;Nn(o)?l=o:qt(o)&&(d=!0,o=o[0]);const m=x(o);0===e&&null!==r?null==u?ag(t,r,m):rl(t,r,m,u||null,!0):1===e&&null!==r?rl(t,r,m,u||null,!0):2===e?function(e,t,r){const o=Lc(e,t);o&&function(e,t,r,o){ar(e)?e.removeChild(t,r,o):t.removeChild(r)}(e,o,t,r)}(t,m,d):3===e&&t.destroyNode(m),null!=l&&function(e,t,r,o,u){const l=r[7];l!==x(r)&&el(t,e,o,l,u);for(let m=10;m<r.length;m++){const I=r[m];jc(I[1],I,e,t,o,l)}}(t,e,l,r,u)}}function kc(e,t,r){return ar(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function nl(e,t){const r=e[9],o=r.indexOf(t),u=t[3];1024&t[2]&&(t[2]&=-1025,it(u,-1)),r.splice(o,1)}function Ld(e,t){if(e.length<=10)return;const r=10+t,o=e[r];if(o){const u=o[17];null!==u&&u!==e&&nl(u,o),t>0&&(e[r-1][4]=o[4]);const l=vs(e,10+t);!function(e,t){jc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const d=l[19];null!==d&&d.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Ya(e,t){if(!(256&t[2])){const r=t[11];ar(r)&&r.destroyNode&&jc(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return Qa(e[1],e);for(;t;){let r=null;if(qt(t))r=t[13];else{const o=t[10];o&&(r=o)}if(!r){for(;t&&!t[4]&&t!==e;)qt(t)&&Qa(t[1],t),t=t[3];null===t&&(t=e),qt(t)&&Qa(t[1],t),r=t&&t[4]}t=r}}(t)}}function Qa(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const u=t[r[o]];if(!(u instanceof Rs)){const l=r[o+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const m=u[l[d]],I=l[d+1];try{I.call(m)}finally{}}else try{l.call(u)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,o=t[7];let u=-1;if(null!==r)for(let l=0;l<r.length-1;l+=2)if("string"==typeof r[l]){const d=r[l+1],m="function"==typeof d?d(t):x(t[d]),I=o[u=r[l+2]],A=r[l+3];"boolean"==typeof A?m.removeEventListener(r[l],I,A):A>=0?o[u=A]():o[u=-A].unsubscribe(),l+=2}else{const d=o[u=r[l+1]];r[l].call(d)}if(null!==o){for(let l=u+1;l<o.length;l++)o[l]();t[7]=null}}(e,t),1===t[1].type&&ar(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Nn(t[3])){r!==t[3]&&nl(r,t);const o=t[19];null!==o&&o.detachView(e)}}}function sg(e,t,r){return function(e,t,r){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return r[0];if(2&o.flags){const u=e.data[o.directiveStart].encapsulation;if(u===pt.None||u===pt.Emulated)return null}return be(o,r)}(e,t.parent,r)}function rl(e,t,r,o,u){ar(e)?e.insertBefore(t,r,o,u):t.insertBefore(r,o,u)}function ag(e,t,r){ar(e)?e.appendChild(t,r):t.appendChild(r)}function Fc(e,t,r,o,u){null!==o?rl(e,t,r,o,u):ag(e,t,r)}function Lc(e,t){return ar(e)?e.parentNode(t):t.parentNode}let Ja=function(e,t,r){return 40&e.type?be(e,r):null};function Vc(e,t,r,o){const u=sg(e,o,t),l=t[11],m=function(e,t,r){return Ja(e,t,r)}(o.parent||t[6],o,t);if(null!=u)if(Array.isArray(r))for(let I=0;I<r.length;I++)Fc(l,u,r[I],m,!1);else Fc(l,u,r,m,!1)}function Vl(e,t){if(null!==t){const r=t.type;if(3&r)return be(t,e);if(4&r)return il(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Vl(e,o);{const u=e[t.index];return Nn(u)?il(-1,u):x(u)}}if(32&r)return Xu(t,e)()||x(e[t.index]);{const o=Vd(e,t);return null!==o?Array.isArray(o)?o[0]:Vl(Oc(e[16]),o):Vl(e,t.next)}}return null}function Vd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function il(e,t){const r=10+e+1;if(r<t.length){const o=t[r],u=o[1].firstChild;if(null!==u)return Vl(o,u)}return t[7]}function Bc(e,t,r,o,u,l,d){for(;null!=r;){const m=o[r.index],I=r.type;if(d&&0===t&&(m&&Fs(x(m),o),r.flags|=4),64!=(64&r.flags))if(8&I)Bc(e,t,r.child,o,u,l,!1),el(t,e,u,m,l);else if(32&I){const A=Xu(r,o);let L;for(;L=A();)el(t,e,u,L,l);el(t,e,u,m,l)}else 16&I?Ud(e,t,o,r,u,l):el(t,e,u,m,l);r=d?r.projectionNext:r.next}}function jc(e,t,r,o,u,l){Bc(r,o,e.firstChild,t,u,l,!1)}function Ud(e,t,r,o,u,l){const d=r[16],I=d[6].projection[o.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)el(t,e,u,I[A],l);else Bc(e,t,I,d[3],u,l,!0)}function nf(e,t,r){ar(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function Bd(e,t,r){ar(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function jd(e,t,r){let o=e.length;for(;;){const u=e.indexOf(t,r);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const l=t.length;if(u+l===o||e.charCodeAt(u+l)<=32)return u}r=u+1}}const rf="ng-template";function uy(e,t,r){let o=0;for(;o<e.length;){let u=e[o++];if(r&&"class"===u){if(u=e[o],-1!==jd(u.toLowerCase(),t,0))return!0}else if(1===u){for(;o<e.length&&"string"==typeof(u=e[o++]);)if(u.toLowerCase()===t)return!0;return!1}}return!1}function sf(e){return 4===e.type&&e.value!==rf}function ly(e,t,r){return t===(4!==e.type||r?e.value:rf)}function Ul(e,t,r){let o=4;const u=e.attrs||[],l=function(e){for(let t=0;t<e.length;t++)if(Nr(e[t]))return t;return e.length}(u);let d=!1;for(let m=0;m<t.length;m++){const I=t[m];if("number"!=typeof I){if(!d)if(4&o){if(o=2|1&o,""!==I&&!ly(e,I,r)||""===I&&1===t.length){if(Vs(o))return!1;d=!0}}else{const A=8&o?I:t[++m];if(8&o&&null!==e.attrs){if(!uy(e.attrs,A,r)){if(Vs(o))return!1;d=!0}continue}const K=af(8&o?"class":I,u,sf(e),r);if(-1===K){if(Vs(o))return!1;d=!0;continue}if(""!==A){let Q;Q=K>l?"":u[K+1].toLowerCase();const De=8&o?Q:null;if(De&&-1!==jd(De,A,0)||2&o&&A!==Q){if(Vs(o))return!1;d=!0}}}}else{if(!d&&!Vs(o)&&!Vs(I))return!1;if(d&&Vs(I))continue;d=!1,o=I|1&o}}return Vs(o)||d}function Vs(e){return 0==(1&e)}function af(e,t,r,o){if(null===t)return-1;let u=0;if(o||!r){let l=!1;for(;u<t.length;){const d=t[u];if(d===e)return u;if(3===d||6===d)l=!0;else{if(1===d||2===d){let m=t[++u];for(;"string"==typeof m;)m=t[++u];continue}if(4===d)break;if(0===d){u+=4;continue}}u+=l?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function $c(e,t,r=!1){for(let o=0;o<t.length;o++)if(Ul(e,t[o],r))return!0;return!1}function pg(e,t){return e?":not("+t.trim()+")":t}function lf(e){let t=e[0],r=1,o=2,u="",l=!1;for(;r<e.length;){let d=e[r];if("string"==typeof d)if(2&o){const m=e[++r];u+="["+d+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?u+="."+d:4&o&&(u+=" "+d);else""!==u&&!Vs(d)&&(t+=pg(l,u),u=""),o=d,l=l||!Vs(o);r++}return""!==u&&(t+=pg(l,u)),t}const Jn={};function $d(e){Xi(jn(),mt(),zr()+e,ha())}function Xi(e,t,r,o){if(!o)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&qs(t,l,r)}else{const l=e.preOrderHooks;null!==l&&oo(t,l,0,r)}Ks(r)}function Hd(e,t){return e<<17|t<<2}function ra(e){return e>>17&32767}function df(e){return 2|e}function ia(e){return(131068&e)>>2}function Wd(e,t){return-131069&e|t<<2}function Hc(e){return 1|e}function Yd(e,t){const r=e.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],l=r[o+1];if(-1!==l){const d=e.data[l];pa(u),d.contentQueries(2,t[l],l)}}}function Wl(e,t,r,o,u,l,d,m,I,A){const L=t.blueprint.slice();return L[0]=u,L[2]=140|o,Ee(L),L[3]=L[15]=e,L[8]=r,L[10]=d||e&&e[10],L[11]=m||e&&e[11],L[12]=I||e&&e[12]||null,L[9]=A||e&&e[9]||null,L[6]=l,L[16]=2==t.type?e[16]:L,L}function sl(e,t,r,o,u){let l=e.data[t];if(null===l)l=function(e,t,r,o,u){const l=gs(),d=ca(),I=e.data[t]=function(e,t,r,o,u,l){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,r,t,o,u);return null===e.firstChild&&(e.firstChild=I),null!==l&&(d?null==l.child&&null!==I.parent&&(l.child=I):null===l.next&&(l.next=I)),I}(e,t,r,o,u),ct.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=r,l.value=o,l.attrs=u;const d=function(){const e=ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return zi(l,!0),l}function xu(e,t,r,o){if(0===r)return-1;const u=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return u}function Yc(e,t,r){wo(t);try{const o=e.viewQuery;null!==o&&Pf(1,o,r);const u=e.template;null!==u&&Qd(e,t,u,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yd(e,t),e.staticViewQueries&&Pf(2,e.viewQuery,r);const l=e.components;null!==l&&function(e,t){for(let r=0;r<t.length;r++)xf(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,zs()}}function Mu(e,t,r,o){const u=t[2];if(256==(256&u))return;wo(t);const l=ha();try{Ee(t),function(e){ct.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Qd(e,t,r,2,o);const d=3==(3&u);if(!l)if(d){const A=e.preOrderCheckHooks;null!==A&&qs(t,A,null)}else{const A=e.preOrderHooks;null!==A&&oo(t,A,0,null),li(t,0)}if(function(e){for(let t=Jh(e);null!==t;t=Pc(t)){if(!t[2])continue;const r=t[9];for(let o=0;o<r.length;o++){const u=r[o],l=u[3];0==(1024&u[2])&&it(l,1),u[2]|=1024}}}(t),function(e){for(let t=Jh(e);null!==t;t=Pc(t))for(let r=10;r<t.length;r++){const o=t[r],u=o[1];y(o)&&Mu(u,o,u.template,o[8])}}(t),null!==e.contentQueries&&Yd(e,t),!l)if(d){const A=e.contentCheckHooks;null!==A&&qs(t,A)}else{const A=e.contentHooks;null!==A&&oo(t,A,1),li(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)Ks(~u);else{const l=u,d=r[++o],m=r[++o];Go(d,l),m(2,t[l])}}}finally{Ks(-1)}}(e,t);const m=e.components;null!==m&&function(e,t){for(let r=0;r<t.length;r++)Sf(e,t[r])}(t,m);const I=e.viewQuery;if(null!==I&&Pf(2,I,o),!l)if(d){const A=e.viewCheckHooks;null!==A&&qs(t,A)}else{const A=e.viewHooks;null!==A&&oo(t,A,2),li(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),l||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,it(t[3],-1))}finally{zs()}}function Cy(e,t,r,o){const u=t[10],l=!ha(),d=S(t);try{l&&!d&&u.begin&&u.begin(),d&&Yc(e,t,o),Mu(e,t,r,o)}finally{l&&!d&&u.end&&u.end()}}function Qd(e,t,r,o,u){const l=zr(),d=2&o;try{Ks(-1),d&&t.length>20&&Xi(e,t,20,ha()),r(o,u)}finally{Ks(l)}}function Ag(e,t,r){if(fr(t)){const u=t.directiveEnd;for(let l=t.directiveStart;l<u;l++){const d=e.data[l];d.contentQueries&&d.contentQueries(1,r[l],l)}}}function Qc(e,t,r){!dr()||(function(e,t,r,o){const u=r.directiveStart,l=r.directiveEnd;e.firstCreatePass||lo(r,t),Fs(o,t);const d=r.initialInputs;for(let m=u;m<l;m++){const I=e.data[m],A=Sr(I);A&&Tf(t,r,I);const L=sn(t,e,m,r);Fs(L,t),null!==d&&Ry(0,m-u,L,I,0,d),A&&(P(r.index,t)[8]=L)}}(e,t,r,be(r,t)),128==(128&r.flags)&&function(e,t,r){const o=r.directiveStart,u=r.directiveEnd,d=r.index,m=ct.lFrame.currentDirectiveIndex;try{Ks(d);for(let I=o;I<u;I++){const A=e.data[I],L=t[I];fa(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&bf(A,L)}}finally{Ks(-1),fa(m)}}(e,t,r))}function Jc(e,t,r=be){const o=t.localNames;if(null!==o){let u=t.index+1;for(let l=0;l<o.length;l+=2){const d=o[l+1],m=-1===d?r(t,e):e[d];e[u++]=m}}}function Jd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Xa(e,t,r,o,u,l,d,m,I,A){const L=20+o,K=L+u,Q=function(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Jn);return r}(L,K),De="function"==typeof A?A():A;return Q[1]={type:e,blueprint:Q,template:r,queries:null,viewQuery:m,declTNode:t,data:Q.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:I,consts:De,incompleteFirstPass:!1}}function wf(e,t,r,o){const u=sh(t);null===r?u.push(o):(u.push(r),e.firstCreatePass&&Vg(e).push(o,u.length-1))}function Sg(e,t,r){for(let o in e)if(e.hasOwnProperty(o)){const u=e[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(t,u):r[o]=[t,u]}return r}function no(e,t,r,o,u,l,d,m){const I=be(t,r);let L,A=t.inputs;!m&&null!=A&&(L=A[o])?(Bg(e,r,L,o,u),On(t)&&function(e,t){const r=P(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(o=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),u=null!=d?d(u,t.value||"",o):u,ar(l)?l.setProperty(I,o,u):Zs(o)||(I.setProperty?I.setProperty(o,u):I[o]=u))}function th(e,t,r,o){let u=!1;if(dr()){const l=function(e,t,r){const o=e.directiveRegistry;let u=null;if(o)for(let l=0;l<o.length;l++){const d=o[l];$c(r,d.selectors,!1)&&(u||(u=[]),E(lo(r,t),e,d.type),Sr(d)?(Pg(e,r),u.unshift(d)):u.push(d))}return u}(e,t,r),d=null===o?null:{"":-1};if(null!==l){u=!0,nh(r,e.data.length,l.length);for(let L=0;L<l.length;L++){const K=l[L];K.providersResolver&&K.providersResolver(K)}let m=!1,I=!1,A=xu(e,t,l.length,null);for(let L=0;L<l.length;L++){const K=l[L];r.mergedAttrs=qo(r.mergedAttrs,K.hostAttrs),rh(e,r,t,A,K),Sy(A,K,d),null!==K.contentQueries&&(r.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(r.flags|=128);const Q=K.type.prototype;!m&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),m=!0),!I&&(Q.ngOnChanges||Q.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),I=!0),A++}!function(e,t){const o=t.directiveEnd,u=e.data,l=t.attrs,d=[];let m=null,I=null;for(let A=t.directiveStart;A<o;A++){const L=u[A],K=L.inputs,Q=null===l||sf(t)?null:Af(K,l);d.push(Q),m=Sg(K,A,m),I=Sg(L.outputs,A,I)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=16),m.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=m,t.outputs=I}(e,r)}d&&function(e,t,r){if(t){const o=e.localNames=[];for(let u=0;u<t.length;u+=2){const l=r[t[u+1]];if(null==l)throw new _t("301",`Export of name '${t[u+1]}' not found!`);o.push(t[u],l)}}}(r,o,d)}return r.mergedAttrs=qo(r.mergedAttrs,r.attrs),u}function xg(e,t,r,o,u,l){const d=l.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const I=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(m)!=I&&m.push(I),m.push(o,u,d)}}function bf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Pg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Sy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Sr(t)&&(r[""]=e)}}function nh(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function rh(e,t,r,o,u){e.data[o]=u;const l=u.factory||(u.factory=ns(u.type)),d=new Rs(l,Sr(u),null);e.blueprint[o]=d,r[o]=d,xg(e,t,0,o,xu(e,r,u.hostVars,Jn),u)}function Tf(e,t,r){const o=be(t,e),u=Jd(r),l=e[10],d=zl(e,Wl(e,u,null,r.onPush?64:16,o,t,l,l.createRenderer(o,r),null,null));e[t.index]=d}function Ra(e,t,r,o,u,l){const d=be(e,t);!function(e,t,r,o,u,l,d){if(null==l)ar(e)?e.removeAttribute(t,u,r):t.removeAttribute(u);else{const m=null==d?Me(l):d(l,o||"",u);ar(e)?e.setAttribute(t,u,m,r):r?t.setAttributeNS(r,u,m):t.setAttribute(u,m)}}(t[11],d,l,e.value,r,o,u)}function Ry(e,t,r,o,u,l){const d=l[t];if(null!==d){const m=o.setInput;for(let I=0;I<d.length;){const A=d[I++],L=d[I++],K=d[I++];null!==m?o.setInput(r,K,A,L):r[L]=K}}}function Af(e,t){let r=null,o=0;for(;o<t.length;){const u=t[o];if(0!==u)if(5!==u){if("number"==typeof u)break;e.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,e[u],t[o+1])),o+=2}else o+=2;else o+=4}return r}function ih(e,t,r,o){return new Array(e,!0,!1,t,null,0,o,r,null,null)}function Sf(e,t){const r=P(t,e);if(y(r)){const o=r[1];80&r[2]?Mu(o,r,o.template,r[8]):r[5]>0&&Rf(r)}}function Rf(e){for(let o=Jh(e);null!==o;o=Pc(o))for(let u=10;u<o.length;u++){const l=o[u];if(1024&l[2]){const d=l[1];Mu(d,l,d.template,l[8])}else l[5]>0&&Rf(l)}const r=e[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=P(r[o],e);y(u)&&u[5]>0&&Rf(u)}}function xf(e,t){const r=P(t,e),o=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(o,r),Yc(o,r,r[8])}function zl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Mf(e){for(;e;){e[2]|=64;const t=Oc(e);if(Rr(e)&&!t)return e;e=t}return null}function nd(e,t,r){const o=t[10];o.begin&&o.begin();try{Mu(e,t,e.template,r)}catch(u){throw Ug(t,u),u}finally{o.end&&o.end()}}function al(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],o=ta(r),u=o[1];Cy(u,o,u.template,r)}}(e[8])}function Pf(e,t,r){pa(0),t(e,r)}const eu=(()=>Promise.resolve(null))();function sh(e){return e[7]||(e[7]=[])}function Vg(e){return e.cleanup||(e.cleanup=[])}function Ug(e,t){const r=e[9],o=r?r.get(Nt,null):null;o&&o.handleError(t)}function Bg(e,t,r,o,u){for(let l=0;l<r.length;){const d=r[l++],m=r[l++],I=t[d],A=e.data[d];null!==A.setInput?A.setInput(I,u,o,m):I[m]=u}}function sa(e,t,r){const o=G(t,e);!function(e,t,r){ar(e)?e.setValue(t,r):t.textContent=r}(e[11],o,r)}function ah(e,t,r){let o=r?e.styles:null,u=r?e.classes:null,l=0;if(null!==t)for(let d=0;d<t.length;d++){const m=t[d];"number"==typeof m?l=m:1==l?u=Pe(u,m):2==l&&(o=Pe(o,m+": "+t[++d]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=u:e.classesWithoutHost=u}const rd=new Ur("INJECTOR",-1);class uh{get(t,r=Ys){if(r===Ys){const o=new Error(`NullInjectorError: No provider for ${te(t)}!`);throw o.name="NullInjectorError",o}return r}}const Kl=new Ur("Set Injector scope."),ul={},$g={};let Ff;function Hg(){return void 0===Ff&&(Ff=new uh),Ff}function Wg(e,t=null,r=null,o){return new Vf(e,r,t||Hg(),o)}class Vf{constructor(t,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];r&&_s(r,m=>this.processProvider(m,t,r)),_s([t],m=>this.processInjectorType(m,[],l)),this.records.set(rd,ll(void 0,this));const d=this.records.get(Kl);this.scope=null!=d?d.value:null,this.source=u||("object"==typeof t?null:te(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=Ys,o=Ot.Default){this.assertNotDestroyed();const u=Ha(this),l=qn(void 0);try{if(!(o&Ot.SkipSelf)){let m=this.records.get(t);if(void 0===m){const I=("function"==typeof(e=t)||"object"==typeof e&&e instanceof Ur)&&vn(t);m=I&&this.injectableDefInScope(I)?ll(id(t),ul):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(o&Ot.Self?Hg():this.parent).get(t,r=o&Ot.Optional&&r===Ys?null:r)}catch(d){if("NullInjectorError"===d.name){if((d[Jo]=d[Jo]||[]).unshift(te(t)),u)throw d;return Wa(d,t,"R3InjectorError",this.source)}throw d}finally{qn(l),Ha(u)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,u)=>t.push(te(u))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,o){if(!(t=Re(t)))return!1;let u=Zn(t);const l=null==u&&t.ngModule||void 0,d=void 0===l?t:l,m=-1!==o.indexOf(d);if(void 0!==l&&(u=Zn(l)),null==u)return!1;if(null!=u.imports&&!m){let L;o.push(d);try{_s(u.imports,K=>{this.processInjectorType(K,r,o)&&(void 0===L&&(L=[]),L.push(K))})}finally{}if(void 0!==L)for(let K=0;K<L.length;K++){const{ngModule:Q,providers:De}=L[K];_s(De,Fe=>this.processProvider(Fe,Q,De||me))}}this.injectorDefTypes.add(d);const I=ns(d)||(()=>new d);this.records.set(d,ll(I,ul));const A=u.providers;if(null!=A&&!m){const L=t;_s(A,K=>this.processProvider(K,L,A))}return void 0!==l&&void 0!==t.providers}processProvider(t,r,o){let u=tu(t=Re(t))?t:Re(t&&t.provide);const l=(e=t,Gg(e)?ll(void 0,e.useValue):ll(Bf(e),ul));var e;if(tu(t)||!0!==t.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=ll(void 0,ul,!0),d.factory=()=>ko(d.multi),this.records.set(u,d)),u=t,d.multi.push(t)}this.records.set(u,l)}hydrate(t,r){return r.value===ul&&(r.value=$g,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Re(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function id(e){const t=vn(e),r=null!==t?t.factory:ns(e);if(null!==r)return r;if(e instanceof Ur)throw new Error(`Token ${te(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=function(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(t,"?");throw new Error(`Can't resolve all parameters for ${te(e)}: (${o.join(", ")}).`)}const r=function(e){const t=e&&(e[Un]||e[er]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function Bf(e,t,r){let o;if(tu(e)){const u=Re(e);return ns(u)||id(u)}if(Gg(e))o=()=>Re(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ko(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>ei(Re(e.useExisting));else{const u=Re(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ns(u)||id(u);o=()=>new u(...ko(e.deps))}return o}function ll(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Gg(e){return null!==e&&"object"==typeof e&&Tl in e}function tu(e){return"function"==typeof e}const Hf=function(e,t,r){return function(e,t=null,r=null,o){const u=Wg(e,t,r,o);return u._resolveInjectorDefTypes(),u}({name:r},t,e,r)};let ni=(()=>{class e{static create(r,o){return Array.isArray(r)?Hf(r,o,""):Hf(r.providers,r.parent,r.name||"")}}return e.THROW_IF_NOT_FOUND=Ys,e.NULL=new uh,e.\u0275prov=Vt({token:e,providedIn:"any",factory:()=>ei(rd)}),e.__NG_ELEMENT_ID__=-1,e})();function im(e,t){is(ta(e)[1],Sn())}function Qf(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let u;if(Sr(e))u=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");u=t.\u0275dir}if(u){if(r){o.push(u);const d=e;d.inputs=oi(e.inputs),d.declaredInputs=oi(e.declaredInputs),d.outputs=oi(e.outputs);const m=u.hostBindings;m&&es(e,m);const I=u.viewQuery,A=u.contentQueries;if(I&&Mv(e,I),A&&zy(e,A),Ie(e.inputs,u.inputs),Ie(e.declaredInputs,u.declaredInputs),Ie(e.outputs,u.outputs),Sr(u)&&u.data.animation){const L=e.data;L.animation=(L.animation||[]).concat(u.data.animation)}}const l=u.features;if(l)for(let d=0;d<l.length;d++){const m=l[d];m&&m.ngInherit&&m(e),m===Qf&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const u=e[o];u.hostVars=t+=u.hostVars,u.hostAttrs=qo(u.hostAttrs,r=qo(r,u.hostAttrs))}}(o)}function oi(e){return e===_e?{}:e===me?[]:e}function Mv(e,t){const r=e.viewQuery;e.viewQuery=r?(o,u)=>{t(o,u),r(o,u)}:t}function zy(e,t){const r=e.contentQueries;e.contentQueries=r?(o,u,l)=>{t(o,u,l),r(o,u,l)}:t}function es(e,t){const r=e.hostBindings;e.hostBindings=r?(o,u)=>{t(o,u),r(o,u)}:t}let ud=null;function Ql(){if(!ud){const e=rn.Symbol;if(e&&e.iterator)ud=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const o=t[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(ud=o)}}}return ud}function ld(e){return!!Jf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ql()in e)}function Jf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ei(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function ec(e,t,r,o){const u=mt();return Ei(u,Mo(),t)&&(jn(),Ra($r(),u,e,t,r,o)),ec}function nc(e,t,r,o){return Ei(e,Mo(),r)?t+Me(r)+o:Jn}function dl(e,t,r,o,u,l){const m=function(e,t,r,o){const u=Ei(e,t,r);return Ei(e,t+1,o)||u}(e,ct.lFrame.bindingIndex,r,u);return Ki(2),m?t+Me(r)+o+Me(u)+l:Jn}function tp(e,t,r,o,u,l,d,m){const I=mt(),A=jn(),L=e+20,K=A.firstCreatePass?function(e,t,r,o,u,l,d,m,I){const A=t.consts,L=sl(t,e,4,d||null,z(A,m));th(t,r,L,z(A,I)),is(t,L);const K=L.tViews=Xa(2,L,o,u,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,A);return null!==t.queries&&(t.queries.template(t,L),K.queries=t.queries.embeddedTView(L)),L}(L,A,I,t,r,o,u,l,d):A.data[L];zi(K,!1);const Q=I[11].createComment("");Vc(A,I,Q,K),Fs(Q,I),zl(I,I[L]=ih(Q,I,Q,K)),Br(K)&&Qc(A,I,K),null!=d&&Jc(I,K,m)}function yh(e){return nn(ct.lFrame.contextLView,20+e)}function fd(e,t=Ot.Default){const r=mt();return null===r?ei(e,t):U(Sn(),r,Re(e),t)}function vm(){throw new Error("invalid")}function dp(e,t,r){const o=mt();return Ei(o,Mo(),t)&&no(jn(),$r(),o,e,t,o[11],r,!1),dp}function Fu(e,t,r,o,u){const d=u?"class":"style";Bg(e,r,t.inputs[d],d,o)}function fp(e,t,r,o){const u=mt(),l=jn(),d=20+e,m=u[11],I=u[d]=kc(m,t,ct.lFrame.currentNamespace),A=l.firstCreatePass?function(e,t,r,o,u,l,d){const m=t.consts,A=sl(t,e,2,u,z(m,l));return th(t,r,A,z(m,d)),null!==A.attrs&&ah(A,A.attrs,!1),null!==A.mergedAttrs&&ah(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(d,l,u,0,t,r,o):l.data[d];zi(A,!0);const L=A.mergedAttrs;null!==L&&Gt(m,I,L);const K=A.classes;null!==K&&Bd(m,I,K);const Q=A.styles;null!==Q&&nf(m,I,Q),64!=(64&A.flags)&&Vc(l,u,I,A),0===ct.lFrame.elementDepthCount&&Fs(I,u),ct.lFrame.elementDepthCount++,Br(A)&&(Qc(l,u,A),Ag(l,A,u)),null!==o&&Jc(u,A)}function pp(){let e=Sn();ca()?xo():(e=e.parent,zi(e,!1));const t=e;ct.lFrame.elementDepthCount--;const r=jn();r.firstCreatePass&&(is(r,e),fr(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Fu(r,t,mt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Fu(r,t,mt(),t.stylesWithoutHost,!1)}function Em(e,t,r,o){fp(e,t,r,o),pp()}function gp(e,t,r){const o=mt(),u=jn(),l=e+20,d=u.firstCreatePass?function(e,t,r,o,u){const l=t.consts,d=z(l,o),m=sl(t,e,8,"ng-container",d);return null!==d&&ah(m,d,!0),th(t,r,m,z(l,u)),null!==t.queries&&t.queries.elementStart(t,m),m}(l,u,o,t,r):u.data[l];zi(d,!0);const m=o[l]=o[11].createComment("");Vc(u,o,m,d),Fs(m,o),Br(d)&&(Qc(u,o,d),Ag(u,d,o)),null!=r&&Jc(o,d)}function mp(){let e=Sn();const t=jn();ca()?xo():(e=e.parent,zi(e,!1)),t.firstCreatePass&&(is(t,e),fr(e)&&t.queries.elementEnd(e))}function s(){return mt()}function n(e){return!!e&&"function"==typeof e.then}function i(e){return!!e&&"function"==typeof e.subscribe}const a=i;function c(e,t,r,o){const u=mt(),l=jn(),d=Sn();return function(e,t,r,o,u,l,d,m){const I=Br(o),L=e.firstCreatePass&&Vg(e),K=t[8],Q=sh(t);let De=!0;if(3&o.type||m){const Ye=be(o,t),Wt=m?m(Ye):Ye,It=Q.length,Tn=m?zn=>m(x(zn[o.index])):o.index;if(ar(r)){let zn=null;if(!m&&I&&(zn=function(e,t,r,o){const u=e.cleanup;if(null!=u)for(let l=0;l<u.length-1;l+=2){const d=u[l];if(d===r&&u[l+1]===o){const m=t[7],I=u[l+2];return m.length>I?m[I]:null}"string"==typeof d&&(l+=2)}return null}(e,t,u,o.index)),null!==zn)(zn.__ngLastListenerFn__||zn).__ngNextListenerFn__=l,zn.__ngLastListenerFn__=l,De=!1;else{l=X(o,t,K,l,!1);const wr=r.listen(Wt,u,l);Q.push(l,wr),L&&L.push(u,Tn,It,It+1)}}else l=X(o,t,K,l,!0),Wt.addEventListener(u,l,d),Q.push(l),L&&L.push(u,Tn,It,d)}else l=X(o,t,K,l,!1);const Fe=o.outputs;let ot;if(De&&null!==Fe&&(ot=Fe[u])){const Ye=ot.length;if(Ye)for(let Wt=0;Wt<Ye;Wt+=2){const Is=t[ot[Wt]][ot[Wt+1]].subscribe(l),Pa=Q.length;Q.push(l,Is),L&&L.push(u,o.index,Pa,-(Pa+1))}}}(l,u,u[11],d,e,t,!!r,o),c}function B(e,t,r,o){try{return!1!==r(o)}catch(u){return Ug(e,u),!1}}function X(e,t,r,o,u){return function l(d){if(d===Function)return o;const m=2&e.flags?P(e.index,t):t;0==(32&t[2])&&Mf(m);let I=B(t,0,o,d),A=l.__ngNextListenerFn__;for(;A;)I=B(t,0,A,d)&&I,A=A.__ngNextListenerFn__;return u&&!1===I&&(d.preventDefault(),d.returnValue=!1),I}}function ve(e=1){return function(e){return(ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,ct.lFrame.contextLView))[8]}(e)}function Kt(e,t,r){return Cn(e,"",t,"",r),Kt}function Cn(e,t,r,o,u){const l=mt(),d=nc(l,t,r,o);return d!==Jn&&no(jn(),$r(),l,e,d,l[11],u,!1),Cn}function sr(e,t,r,o,u,l,d){const m=mt(),I=dl(m,t,r,o,u,l);return I!==Jn&&no(jn(),$r(),m,e,I,m[11],d,!1),sr}function $v(e,t,r,o,u){const l=e[r+1],d=null===t;let m=o?ra(l):ia(l),I=!1;for(;0!==m&&(!1===I||d);){const L=e[m+1];lI(e[m],t)&&(I=!0,e[m+1]=o?Hc(L):df(L)),m=o?ra(L):ia(L)}I&&(e[r+1]=o?df(l):Hc(l))}function lI(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Te(e,t)>=0}function l_(e,t){return function(e,t,r,o){const u=mt(),l=jn(),d=Ki(2);l.firstUpdatePass&&function(e,t,r,o){const u=e.data;if(null===u[r+1]){const l=u[zr()],d=function(e,t){return t>=e.expandoStartIndex}(e,r);(function(e,t){return 0!=(e.flags&(t?16:32))})(l,o)&&null===t&&!d&&(t=!1),t=function(e,t,r,o){const u=function(e){const t=ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=o?t.residualClasses:t.residualStyles;if(null===u)0===(o?t.classBindings:t.styleBindings)&&(r=_p(r=c_(null,e,t,r,o),t.attrs,o),l=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==u)if(r=c_(u,e,t,r,o),null===l){let I=function(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==ia(o))return e[ra(o)]}(e,t,o);void 0!==I&&Array.isArray(I)&&(I=c_(null,e,t,I[1],o),I=_p(I,t.attrs,o),function(e,t,r,o){e[ra(r?t.classBindings:t.styleBindings)]=o}(e,t,o,I))}else l=function(e,t,r){let o;const u=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<u;l++)o=_p(o,e[l].hostAttrs,r);return _p(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(u,l,t,o),function(e,t,r,o,u,l){let d=l?t.classBindings:t.styleBindings,m=ra(d),I=ia(d);e[o]=r;let L,A=!1;if(Array.isArray(r)){const K=r;L=K[1],(null===L||Te(K,L)>0)&&(A=!0)}else L=r;if(u)if(0!==I){const Q=ra(e[m+1]);e[o+1]=Hd(Q,m),0!==Q&&(e[Q+1]=Wd(e[Q+1],o)),e[m+1]=function(e,t){return 131071&e|t<<17}(e[m+1],o)}else e[o+1]=Hd(m,0),0!==m&&(e[m+1]=Wd(e[m+1],o)),m=o;else e[o+1]=Hd(I,0),0===m?m=o:e[I+1]=Wd(e[I+1],o),I=o;A&&(e[o+1]=df(e[o+1])),$v(e,L,o,!0),$v(e,L,o,!1),function(e,t,r,o,u){const l=u?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Te(l,t)>=0&&(r[o+1]=Hc(r[o+1]))}(t,L,e,o,l),d=Hd(m,I),l?t.classBindings=d:t.styleBindings=d}(u,l,t,r,d,o)}}(l,e,d,o),t!==Jn&&Ei(u,d,t)&&function(e,t,r,o,u,l,d,m){if(!(3&t.type))return;const I=e.data,A=I[m+1];wm(function(e){return 1==(1&e)}(A)?eE(I,t,r,u,ia(A),d):void 0)||(wm(l)||function(e){return 2==(2&e)}(A)&&(l=eE(I,null,r,u,m,d)),function(e,t,r,o,u){const l=ar(e);if(t)u?l?e.addClass(r,o):r.classList.add(o):l?e.removeClass(r,o):r.classList.remove(o);else{let d=-1===o.indexOf("-")?void 0:to.DashCase;if(null==u)l?e.removeStyle(r,o,d):r.style.removeProperty(o);else{const m="string"==typeof u&&u.endsWith("!important");m&&(u=u.slice(0,-10),d|=to.Important),l?e.setStyle(r,o,u,d):r.style.setProperty(o,u,m?"important":"")}}}(o,d,G(zr(),r),u,l))}(l,l.data[zr()],u,u[11],e,u[d+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=te(Uo(e)))),e}(t,r),o,d)}(e,t,null,!0),l_}function c_(e,t,r,o,u){let l=null;const d=r.directiveEnd;let m=r.directiveStylingLast;for(-1===m?m=r.directiveStart:m++;m<d&&(l=t[m],o=_p(o,l.hostAttrs,u),l!==e);)m++;return null!==e&&(r.directiveStylingLast=m),o}function _p(e,t,r){const o=r?1:2;let u=-1;if(null!==t)for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?u=d:u===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),J(e,d,!!r||t[++l]))}return void 0===e?null:e}function eE(e,t,r,o,u,l){const d=null===t;let m;for(;u>0;){const I=e[u],A=Array.isArray(I),L=A?I[1]:I,K=null===L;let Q=r[u+1];Q===Jn&&(Q=K?me:void 0);let De=K?W(Q,o):L===o?Q:void 0;if(A&&!wm(De)&&(De=W(I,o)),wm(De)&&(m=De,d))return m;const Fe=e[u+1];u=d?ra(Fe):ia(Fe)}if(null!==t){let I=l?t.residualClasses:t.residualStyles;null!=I&&(m=W(I,o))}return m}function wm(e){return void 0!==e}function nE(e,t=""){const r=mt(),o=jn(),u=e+20,l=o.firstCreatePass?sl(o,u,1,t,null):o.data[u],d=r[u]=function(e,t){return ar(e)?e.createText(t):e.createTextNode(t)}(r[11],t);Vc(o,r,d,l),zi(l,!1)}function d_(e){return Im("",e,""),d_}function Im(e,t,r){const o=mt(),u=nc(o,e,t,r);return u!==Jn&&sa(o,zr(),u),Im}const pd=void 0;var WI=["en",[["a","p"],["AM","PM"],pd],[["AM","PM"],pd,pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pd,"{1} 'at' {0}",pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Dh={};function h_(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=CE(t);if(r)return r;const o=t.split("-")[0];if(r=CE(o),r)return r;if("en"===o)return WI;throw new Error(`Missing locale data for the locale "${e}".`)}function IE(e){return h_(e)[Hn.PluralCase]}function CE(e){return e in Dh||(Dh[e]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[e]),Dh[e]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const Cm="en-US";let DE=Cm;function g_(e,t,r,o,u){if(e=Re(e),Array.isArray(e))for(let l=0;l<e.length;l++)g_(e[l],t,r,o,u);else{const l=jn(),d=mt();let m=tu(e)?e:Re(e.provide),I=Bf(e);const A=Sn(),L=1048575&A.providerIndexes,K=A.directiveStart,Q=A.providerIndexes>>20;if(tu(e)||!e.multi){const De=new Rs(I,u,fd),Fe=y_(m,t,u?L:L+Q,K);-1===Fe?(E(lo(A,d),l,m),m_(l,e,t.length),t.push(m),A.directiveStart++,A.directiveEnd++,u&&(A.providerIndexes+=1048576),r.push(De),d.push(De)):(r[Fe]=De,d[Fe]=De)}else{const De=y_(m,t,L+Q,K),Fe=y_(m,t,L,L+Q),ot=De>=0&&r[De],Ye=Fe>=0&&r[Fe];if(u&&!Ye||!u&&!ot){E(lo(A,d),l,m);const Wt=function(e,t,r,o,u){const l=new Rs(e,r,fd);return l.multi=[],l.index=t,l.componentProviders=0,qE(l,u,o&&!r),l}(u?$C:jC,r.length,u,o,I);!u&&Ye&&(r[Fe].providerFactory=Wt),m_(l,e,t.length,0),t.push(m),A.directiveStart++,A.directiveEnd++,u&&(A.providerIndexes+=1048576),r.push(Wt),d.push(Wt)}else m_(l,e,De>-1?De:Fe,qE(r[u?Fe:De],I,!u&&o));!u&&o&&Ye&&r[Fe].componentProviders++}}}function m_(e,t,r,o){const u=tu(t);if(u||function(e){return!!e.useClass}(t)){const d=(t.useClass||t).prototype.ngOnDestroy;if(d){const m=e.destroyHooks||(e.destroyHooks=[]);if(!u&&t.multi){const I=m.indexOf(r);-1===I?m.push(r,[o,d]):m[I+1].push(o,d)}else m.push(r,d)}}}function qE(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function y_(e,t,r,o){for(let u=r;u<o;u++)if(t[u]===e)return u;return-1}function jC(e,t,r,o){return __(this.multi,[])}function $C(e,t,r,o){const u=this.multi;let l;if(this.providerFactory){const d=this.providerFactory.componentProviders,m=sn(r,r[1],this.providerFactory.index,o);l=m.slice(0,d),__(u,l);for(let I=d;I<m.length;I++)l.push(m[I])}else l=[],__(u,l);return l}function __(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ZE(e,t=[]){return r=>{r.providersResolver=(o,u)=>function(e,t,r){const o=jn();if(o.firstCreatePass){const u=Sr(e);g_(r,o.data,o.blueprint,u,!0),g_(t,o.data,o.blueprint,u,!1)}}(o,u?u(e):e,t)}}class YE{}const JE="ngComponent";class GC{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${te(e)}. Did you add it to @NgModule.entryComponents?`);return t[JE]=e,t}(t)}}let Th=(()=>{class e{}return e.NULL=new GC,e})();function Sm(...e){}function Ah(e,t){return new Uu(be(e,t))}const qC=function(){return Ah(Sn(),mt())};let Uu=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=qC,e})();function XE(e){return e instanceof Uu?e.nativeElement:e}class Rm{}let ZC=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>QC(),e})();const QC=function(){const e=mt(),r=P(Sn().index,e);return function(e){return e[11]}(qt(r)?r:e)};let E_=(()=>{class e{}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:()=>null}),e})();class e0{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const w_=new e0("13.0.1"),Sh={};function xm(e,t,r,o,u=!1){for(;null!==r;){const l=t[r.index];if(null!==l&&o.push(x(l)),Nn(l))for(let m=10;m<l.length;m++){const I=l[m],A=I[1].firstChild;null!==A&&xm(I[1],I,A,o)}const d=r.type;if(8&d)xm(e,t,r.child,o);else if(32&d){const m=Xu(r,t);let I;for(;I=m();)o.push(I)}else if(16&d){const m=Vd(t,r);if(Array.isArray(m))o.push(...m);else{const I=Oc(t[16]);xm(I[1],I,m,o,!0)}}r=u?r.projectionNext:r.next}return o}class Cp{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return xm(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Nn(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Ld(t,o),vs(r,o))}this._attachedToViewContainer=!1}Ya(this._lView[1],this._lView)}onDestroy(t){wf(this._lView[1],this._lView,null,t)}markForCheck(){Mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){Ws(!0);try{nd(e,t,r)}finally{Ws(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,jc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eD extends Cp{constructor(t){super(t),this._view=t}detectChanges(){al(this._view)}checkNoChanges(){!function(e){Ws(!0);try{al(e)}finally{Ws(!1)}}(this._view)}get context(){return null}}class t0 extends Th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=yn(t);return new I_(r,this.ngModule)}}function n0(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const nD=new Ur("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>eo});class I_ extends YE{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(lf).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return n0(this.componentDef.inputs)}get outputs(){return n0(this.componentDef.outputs)}create(t,r,o,u){const l=(u=u||this.ngModule)?function(e,t){return{get:(r,o,u)=>{const l=e.get(r,Sh,u);return l!==Sh||o===Sh?l:t.get(r,o,u)}}}(t,u.injector):t,d=l.get(Rm,Di),m=l.get(E_,null),I=d.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",L=o?function(e,t,r){if(ar(e))return e.selectRootElement(t,r===pt.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(I,o,this.componentDef.encapsulation):kc(d.createRenderer(null,this.componentDef),A,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(A)),K=this.componentDef.onPush?576:528,Q=function(e,t){return{components:[],scheduler:e||eo,clean:eu,playerHandler:t||null,flags:0}}(),De=Xa(0,null,null,1,0,null,null,null,null,null),Fe=Wl(null,De,Q,K,null,null,d,I,m,l);let ot,Ye;wo(Fe);try{const Wt=function(e,t,r,o,u,l){const d=r[1];r[20]=e;const I=sl(d,20,2,"#host",null),A=I.mergedAttrs=t.hostAttrs;null!==A&&(ah(I,A,!0),null!==e&&(Gt(u,e,A),null!==I.classes&&Bd(u,e,I.classes),null!==I.styles&&nf(u,e,I.styles)));const L=o.createRenderer(e,t),K=Wl(r,Jd(t),null,t.onPush?64:16,r[20],I,o,L,l||null,null);return d.firstCreatePass&&(E(lo(I,r),d,t.type),Pg(d,I),nh(I,r.length,1)),zl(r,K),r[20]=K}(L,this.componentDef,Fe,d,I);if(L)if(o)Gt(I,L,["ng-version",w_.full]);else{const{attrs:It,classes:Tn}=function(e){const t=[],r=[];let o=1,u=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===u?""!==l&&t.push(l,e[++o]):8===u&&r.push(l);else{if(!Vs(u))break;u=l}o++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);It&&Gt(I,L,It),Tn&&Tn.length>0&&Bd(I,L,Tn.join(" "))}if(Ye=bt(De,20),void 0!==r){const It=Ye.projection=[];for(let Tn=0;Tn<this.ngContentSelectors.length;Tn++){const zn=r[Tn];It.push(null!=zn?Array.from(zn):null)}}ot=function(e,t,r,o,u){const l=r[1],d=function(e,t,r){const o=Sn();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),rh(e,o,t,xu(e,t,1,null),r));const u=sn(t,e,o.directiveStart,o);Fs(u,t);const l=be(o,t);return l&&Fs(l,t),u}(l,r,t);if(o.components.push(d),e[8]=d,u&&u.forEach(I=>I(d,t)),t.contentQueries){const I=Sn();t.contentQueries(1,d,I.directiveStart)}const m=Sn();return!l.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ks(m.index),xg(r[1],m,0,m.directiveStart,m.directiveEnd,t),bf(t,d)),d}(Wt,this.componentDef,Fe,Q,[im]),Yc(De,Fe,null)}finally{zs()}return new sD(this.componentType,ot,Ah(Ye,Fe),Fe,Ye)}}class sD extends class{}{constructor(t,r,o,u,l){super(),this.location=o,this._rootLView=u,this._tNode=l,this.instance=r,this.hostView=this.changeDetectorRef=new eD(u),this.componentType=t}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class gd{}class r0{}const Rh=new Map;class o0 extends gd{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t0(this);const o=fn(t);this._bootstrapComponents=jo(o.bootstrap),this._r3Injector=Wg(t,r,[{provide:gd,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],te(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=ni.THROW_IF_NOT_FOUND,o=Ot.Default){return t===ni||t===gd||t===rd?this:this._r3Injector.get(t,r,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class D_ extends r0{constructor(t){super(),this.moduleType=t,null!==fn(t)&&function(e){const t=new Set;!function r(o){const u=fn(o,!0),l=u.id;null!==l&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${te(t)} vs ${te(t.name)}`)}(l,Rh.get(l),o),Rh.set(l,o));const d=jo(u.imports);for(const m of d)t.has(m)||(t.add(m),r(m))}(e)}(t)}create(t){return new o0(this.moduleType,t)}}function a0(e,t,r,o){return u0(mt(),ui(),e,t,r,o)}function u0(e,t,r,o,u,l){const d=t+r;return Ei(e,d,u)?function(e,t,r){return e[t]=r}(e,d+1,l?o.call(l,u):o(u)):function(e,t){const r=e[t];return r===Jn?void 0:r}(e,d+1)}function f0(e,t){const r=jn();let o;const u=e+20;r.firstCreatePass?(o=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}throw new _t("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const l=o.factory||(o.factory=ns(o.type)),d=qn(fd);try{const m=Jr(!1),I=l();return Jr(m),function(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,mt(),u,I),I}finally{qn(d)}}function p0(e,t,r){const o=e+20,u=mt(),l=nn(u,o);return function(e,t){return e[1].data[t].pure}(u,o)?u0(u,ui(),t,l.transform,r,l):l.transform(r)}function b_(e){return t=>{setTimeout(e,void 0,t)}}const Bu=class extends f.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,o){var I,A,L;let u=t,l=r||(()=>null),d=o;if(t&&"object"==typeof t){const K=t;u=null==(I=K.next)?void 0:I.bind(K),l=null==(A=K.error)?void 0:A.bind(K),d=null==(L=K.complete)?void 0:L.bind(K)}this.__isAsync&&(l=b_(l),u&&(u=b_(u)),d&&(d=b_(d)));const m=super.subscribe({next:u,error:l,complete:d});return t instanceof _.w0&&t.add(m),m}};function CD(){return this._results[Ql()]()}class Mm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Ql(),o=Mm.prototype;o[r]||(o[r]=CD)}get changes(){return this._changes||(this._changes=new Bu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const o=this;o.dirty=!1;const u=Ms(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let u=e[o],l=t[o];if(r&&(u=r(u),l=r(l)),l!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const bD=function(){return Nm(Sn(),mt())};let Tp=(()=>{class e{}return e.__NG_ELEMENT_ID__=bD,e})();const TD=Tp,AD=class extends TD{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(t){const r=this._declarationTContainer.tViews,o=Wl(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(r)),Yc(r,o,t),new Cp(o)}};function Nm(e,t){return 4&e.type?new AD(t,e,Ah(e,t)):null}const xD=function(){return y0(Sn(),mt())};let Om=(()=>{class e{}return e.__NG_ELEMENT_ID__=xD,e})();const ND=Om,g0=class extends ND{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const t=b(this._hostTNode,this._hostLView);if(Dn(t)){const r=st(t,this._hostLView),o=Zo(t);return new qi(r[1].data[o+8],r)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=m0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,o){const u=t.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(t,r,o,u,l){const d=t&&!("function"==typeof t);let m;if(d)m=r;else{const K=r||{};m=K.index,o=K.injector,u=K.projectableNodes,l=K.ngModuleRef}const I=d?t:new I_(yn(t)),A=o||this.parentInjector;if(!l&&null==I.ngModule&&A){const K=A.get(gd,null);K&&(l=K)}const L=I.create(A,u,void 0,l);return this.insert(L.hostView,m),L}insert(t,r){const o=t._lView,u=o[1];if(Nn(o[3])){const L=this.indexOf(t);if(-1!==L)this.detach(L);else{const K=o[3],Q=new g0(K,K[6],K[3]);Q.detach(Q.indexOf(t))}}const l=this._adjustIndex(r),d=this._lContainer;!function(e,t,r,o){const u=10+o,l=r.length;o>0&&(r[u-1][4]=t),o<l-10?(t[4]=r[u],Po(r,10+o,t)):(r.push(t),t[4]=null),t[3]=r;const d=t[17];null!==d&&r!==d&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(d,t);const m=t[19];null!==m&&m.insertView(e),t[2]|=128}(u,o,d,l);const m=il(l,d),I=o[11],A=Lc(I,d[7]);return null!==A&&function(e,t,r,o,u,l){o[0]=u,o[6]=t,jc(e,o,r,1,u,l)}(u,d[6],I,o,A,m),t.attachToViewContainerRef(),Po(T_(d),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=m0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Ld(this._lContainer,r);o&&(vs(T_(this._lContainer),r),Ya(o[1],o))}detach(t){const r=this._adjustIndex(t,-1),o=Ld(this._lContainer,r);return o&&null!=vs(T_(this._lContainer),r)?new Cp(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function m0(e){return e[8]}function T_(e){return e[8]||(e[8]=[])}function y0(e,t){let r;const o=t[e.index];if(Nn(o))r=o;else{let u;if(8&e.type)u=x(o);else{const l=t[11];u=l.createComment("");const d=be(e,t);rl(l,Lc(l,d),u,function(e,t){return ar(e)?e.nextSibling(t):t.nextSibling}(l,d),!1)}t[e.index]=r=ih(o,t,u,e),zl(t,r)}return new g0(r,e,t)}class A_{constructor(t){this.queryList=t,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class S_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,u=[];for(let l=0;l<o;l++){const d=r.getByIndex(l);u.push(this.queries[d.indexInDeclarationView].clone())}return new S_(u)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==T0(t,r).matches&&this.queries[r].setDirty()}}class _0{constructor(t,r,o=null){this.predicate=t,this.flags=r,this.read=o}}class R_{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,u);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new R_(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class x_{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new x_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const l=o[u];this.matchTNodeWithReadOption(t,r,kD(r,l)),this.matchTNodeWithReadOption(t,r,Xt(r,t,l,!1,!1))}else o===Tp?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Xt(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Uu||u===Om||u===Tp&&4&r.type)this.addMatch(r.index,-2);else{const l=Xt(r,t,u,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function kD(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function LD(e,t,r,o){return-1===r?function(e,t){return 11&e.type?Ah(e,t):4&e.type?Nm(e,t):null}(t,e):-2===r?function(e,t,r){return r===Uu?Ah(t,e):r===Tp?Nm(t,e):r===Om?y0(t,e):void 0}(e,t,o):sn(e,e[1],r,t)}function v0(e,t,r,o){const u=t[19].queries[o];if(null===u.matches){const l=e.data,d=r.matches,m=[];for(let I=0;I<d.length;I+=2){const A=d[I];m.push(A<0?null:LD(t,l[A],d[I+1],r.metadata.read))}u.matches=m}return u.matches}function M_(e,t,r,o){const u=e.queries.getByIndex(r),l=u.matches;if(null!==l){const d=v0(e,t,u,r);for(let m=0;m<l.length;m+=2){const I=l[m];if(I>0)o.push(d[m/2]);else{const A=l[m+1],L=t[-I];for(let K=10;K<L.length;K++){const Q=L[K];Q[17]===Q[3]&&M_(Q[1],Q,A,o)}if(null!==L[9]){const K=L[9];for(let Q=0;Q<K.length;Q++){const De=K[Q];M_(De[1],De,A,o)}}}}}return o}function E0(e){const t=mt(),r=jn(),o=vo();pa(o+1);const u=T0(r,o);if(e.dirty&&S(t)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const l=u.crossesNgTemplate?M_(r,t,o,[]):v0(r,t,u,o);e.reset(l,XE),e.notifyOnChanges()}return!0}return!1}function w0(e,t,r){const o=jn();o.firstCreatePass&&(b0(o,new _0(e,t,r),-1),2==(2&t)&&(o.staticViewQueries=!0)),D0(o,mt(),t)}function I0(e,t,r,o){const u=jn();if(u.firstCreatePass){const l=Sn();b0(u,new _0(t,r,o),l.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(u,e),2==(2&r)&&(u.staticContentQueries=!0)}D0(u,mt(),r)}function C0(){return e=mt(),t=vo(),e[19].queries[t].queryList;var e,t}function D0(e,t,r){const o=new Mm(4==(4&r));wf(e,t,o,o.destroy),null===t[19]&&(t[19]=new S_),t[19].queries.push(new A_(o))}function b0(e,t,r){null===e.queries&&(e.queries=new R_),e.queries.track(new x_(t,r))}function T0(e,t){return e.queries.getByIndex(t)}function A0(e,t){return Nm(e,t)}const L_=new Ur("Application Initializer");let Mh=(()=>{class e{constructor(r){this.appInits=r,this.resolve=Sm,this.reject=Sm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const l=this.appInits[u]();if(n(l))r.push(l);else if(a(l)){const d=new Promise((m,I)=>{l.subscribe({complete:m,error:I})});r.push(d)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(ei(L_,8))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();const G0=new Ur("AppId"),fb={provide:G0,useFactory:function(){return`${V_()}${V_()}${V_()}`},deps:[]};function V_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new Ur("Platform Initializer"),K0=new Ur("Platform ID"),q0=new Ur("appBootstrapListener");let Z0=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();const Fm=new Ur("LocaleId"),Y0=new Ur("DefaultCurrencyCode");class gb{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const U_=function(e){return new D_(e)},mb=U_,yb=function(e){return Promise.resolve(U_(e))},J0=function(e){const t=U_(e),o=jo(fn(e).declarations).reduce((u,l)=>{const d=yn(l);return d&&u.push(new I_(d)),u},[]);return new gb(t,o)},_b=J0,vb=function(e){return Promise.resolve(J0(e))};let B_=(()=>{class e{constructor(){this.compileModuleSync=mb,this.compileModuleAsync=yb,this.compileModuleAndAllComponentsSync=_b,this.compileModuleAndAllComponentsAsync=vb}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();const Ib=(()=>Promise.resolve(0))();function j_(e){"undefined"==typeof Zone?Ib.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class la{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bu(!1),this.onMicrotaskEmpty=new Bu(!1),this.onStable=new Bu(!1),this.onError=new Bu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let e=rn.requestAnimationFrame,t=rn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(rn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,H_(e),e.isCheckStableRunning=!0,$_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),H_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,l,d,m)=>{try{return X0(e),r.invokeTask(u,l,d,m)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),ew(e)}},onInvoke:(r,o,u,l,d,m,I)=>{try{return X0(e),r.invoke(u,l,d,m,I)}finally{e.shouldCoalesceRunChangeDetection&&t(),ew(e)}},onHasTask:(r,o,u,l)=>{r.hasTask(u,l),o===u&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,H_(e),$_(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(r,o,u,l)=>(r.handleError(u,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!la.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(la.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,u){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+u,t,Db,Sm,Sm);try{return l.runTask(d,r,o)}finally{l.cancelTask(d)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Db={};function $_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function H_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function X0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ew(e){e._nesting--,$_(e)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bu,this.onMicrotaskEmpty=new Bu,this.onStable=new Bu,this.onError=new Bu}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,u){return t.apply(r,o)}}let tw=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{la.assertNotInAngularZone(),j_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())j_(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return e.\u0275fac=function(r){return new(r||e)(ei(la))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})(),nw=(()=>{class e{constructor(){this._applications=new Map,W_.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return W_.findTestabilityInTree(this,r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();class Sb{addToWindow(t){}findTestabilityInTree(t,r,o){return null}}function Rb(e){W_=e}let W_=new Sb,rw=!0,iw=!1;function G_(){return iw=!0,rw}function xb(){if(iw)throw new Error("Cannot enable prod mode after platform setup.");rw=!1}let au;const sw=new Ur("AllowMultipleToken");class Lb{constructor(t,r){this.name=t,this.token=r}}function ow(e,t,r=[]){const o=`Platform: ${t}`,u=new Ur(o);return(l=[])=>{let d=aw();if(!d||d.injector.get(sw,!1))if(e)e(r.concat(l).concat({provide:u,useValue:!0}));else{const m=r.concat(l).concat({provide:u,useValue:!0},{provide:Kl,useValue:"platform"});!function(e){if(au&&!au.destroyed&&!au.injector.get(sw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");au=e.get(uw);const t=e.get(z0,null);t&&t.forEach(r=>r())}(ni.create({providers:m,name:o}))}return function(e){const t=aw();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(u)}}function aw(){return au&&!au.destroyed?au:null}let uw=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const m=function(e,t){let r;return r="noop"===e?new Ab:("zone.js"===e?void 0:e)||new la({enableLongStackTrace:G_(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),I=[{provide:la,useValue:m}];return m.run(()=>{const A=ni.create({providers:I,parent:this.injector,name:r.moduleType.name}),L=r.create(A),K=L.injector.get(Nt,null);if(!K)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const Q=m.onError.subscribe({next:De=>{K.handleError(De)}});L.onDestroy(()=>{z_(this._modules,L),Q.unsubscribe()})}),function(e,t,r){try{const o=r();return n(o)?o.catch(u=>{throw t.runOutsideAngular(()=>e.handleError(u)),u}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(K,m,()=>{const Q=L.injector.get(Mh);return Q.runInitializers(),Q.donePromise.then(()=>(function(e){Ct(e,"Expected localeId to be defined"),"string"==typeof e&&(DE=e.toLowerCase().replace(/_/g,"-"))}(L.injector.get(Fm,Cm)||Cm),this._moduleDoBootstrap(L),L))})})}bootstrapModule(r,o=[]){const u=lw({},o);return function(e,t,r){const o=new D_(r);return Promise.resolve(o)}(0,0,r).then(l=>this.bootstrapModuleFactory(l,u))}_moduleDoBootstrap(r){const o=r.injector.get(Sp);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${te(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(ei(ni))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();function lw(e,t){return Array.isArray(t)?t.reduce(lw,e):kn(kn({},e),t)}let Sp=(()=>{class e{constructor(r,o,u,l,d){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new $.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),I=new $.y(A=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{la.assertNotInAngularZone(),j_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{la.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{L.unsubscribe(),K.unsubscribe()}});this.isStable=(0,he.T)(m,I.pipe((0,fe.B)()))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof YE?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const l=function(e){return e.isBoundToModule}(u)?void 0:this._injector.get(gd),m=u.create(ni.NULL,[],o||u.selector,l),I=m.location.nativeElement,A=m.injector.get(tw,null),L=A&&m.injector.get(nw);return A&&L&&L.registerApplication(I,A),m.onDestroy(()=>{this.detachView(m.hostView),z_(this.components,m),L&&L.unregisterApplication(I)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;z_(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(q0,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(ei(la),ei(ni),ei(Nt),ei(Th),ei(Mh))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})();function z_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Wb=function(e){return function(e,t,r){if(On(e)&&!r){const o=P(e.index,t);return new Cp(o,o)}return 47&e.type?new Cp(t[16],t):null}(Sn(),mt(),16==(16&e))};let Gb=(()=>{class e{}return e.__NG_ELEMENT_ID__=Wb,e})();const tT=function(e){return null};class mw{constructor(){}supports(t){return ld(t)}create(t){return new iT(t)}}const rT=(e,t)=>t;class iT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rT}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,u=0,l=null;for(;r||o;){const d=!o||r&&r.currentIndex<_w(o,u,l)?r:o,m=_w(d,u,l),I=d.currentIndex;if(d===o)u--,o=o._nextRemoved;else if(r=r._next,null==d.previousIndex)u++;else{l||(l=[]);const A=m-u,L=I-u;if(A!=L){for(let Q=0;Q<A;Q++){const De=Q<l.length?l[Q]:l[Q]=0,Fe=De+Q;L<=Fe&&Fe<A&&(l[Q]=De+1)}l[d.previousIndex]=L-A}}m!==I&&t(d,m,I)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!ld(t))throw new Error(`Error trying to diff '${te(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let u,l,d,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let m=0;m<this.length;m++)l=t[m],d=this._trackByFn(m,l),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,l,d,m)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,d,m),o=!0),r=r._next}else u=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Ql()]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,m=>{d=this._trackByFn(u,m),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,m,d,u)),Object.is(r.item,m)||this._addIdentityChange(r,m)):(r=this._mismatch(r,m,d,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,u){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,u)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,u)):t=this._addAfter(new sT(r,o),l,u),t}_verifyReinsertion(t,r,o,u){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,u):t.currentIndex!=u&&(t.currentIndex=u,this._addToMoves(t,u)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const u=t._prevRemoved,l=t._nextRemoved;return null===u?this._removalsHead=l:u._nextRemoved=l,null===l?this._removalsTail=u:l._prevRemoved=u,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const u=null===r?this._itHead:r._next;return t._next=u,t._prev=r,null===u?this._itTail=t:u._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new yw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sT{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class yw{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new oT,this.map.set(r,o)),o.add(t)}get(t,r){const u=this.map.get(t);return u?u.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _w(e,t,r){const o=e.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+t+u}class vw{constructor(){}supports(t){return t instanceof Map||Jf(t)}create(){return new aT}}class aT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Jf(t)))throw new Error(`Error trying to diff '${te(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const u=this._records.get(t);this._maybeAddToChanges(u,r);const l=u._prev,d=u._next;return l&&(l._next=d),d&&(d._prev=l),u._next=null,u._prev=null,u}const o=new uT(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class uT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ew(){return new Bm([new mw])}let Bm=(()=>{class e{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Ew()),deps:[[e,new ks,new Do]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:Ew}),e})();function ww(){return new jm([new vw])}let jm=(()=>{class e{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ww()),deps:[[e,new ks,new Do]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:ww}),e})();const cT=[new vw],hT=new Bm([new mw]),fT=new jm(cT),pT=ow(null,"core",[{provide:K0,useValue:"unknown"},{provide:uw,deps:[ni]},{provide:nw,deps:[]},{provide:Z0,deps:[]}]),vT=[{provide:Sp,useClass:Sp,deps:[la,ni,Nt,Th,Mh]},{provide:nD,deps:[la],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:Mh,useClass:Mh,deps:[[new Do,L_]]},{provide:B_,useClass:B_,deps:[]},fb,{provide:Bm,useFactory:function(){return hT},deps:[]},{provide:jm,useFactory:function(){return fT},deps:[]},{provide:Fm,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||Cm},deps:[[new Ga(Fm),new Do,new ks]]},{provide:Y0,useValue:"USD"}];let wT=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(ei(Sp))},e.\u0275mod=Ze({type:e}),e.\u0275inj=Jt({providers:vT}),e})()},7537:(Lt,je,N)=>{"use strict";N.d(je,{Fj:()=>Le,CE:()=>ts,qu:()=>bt,u:()=>ro,sg:()=>Si,u5:()=>G,JJ:()=>ge,JL:()=>Ve,F:()=>hr,On:()=>Ne,UX:()=>be,Q7:()=>kr,kI:()=>ee,_Y:()=>Be});var f=N(3668),_=N(6019),$=N(8305),he=N(886),fe=N(9985),Ae=N(8830),Ie=N(8889),te=N(2937),Pe=N(2857),ie=N(5947),Re=N(4753);let Qe=(()=>{class P{constructor(y,D){this._renderer=y,this._elementRef=D,this.onChange=z=>{},this.onTouched=()=>{}}setProperty(y,D){this._renderer.setProperty(this._elementRef.nativeElement,y,D)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(f.Qsj),f.Y36(f.SBq))},P.\u0275dir=f.lG2({type:P}),P})(),Ke=(()=>{class P extends Qe{}return P.\u0275fac=function(){let S;return function(D){return(S||(S=f.n5z(P)))(D||P)}}(),P.\u0275dir=f.lG2({type:P,features:[f.qOj]}),P})();const _t=new f.OlP("NgValueAccessor"),Me={provide:_t,useExisting:(0,f.Gpc)(()=>Le),multi:!0},qe=new f.OlP("CompositionEventMode");let Le=(()=>{class P extends Qe{constructor(y,D,z){super(y,D),this._compositionMode=z,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const P=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(qe,8))},P.\u0275dir=f.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,D){1&y&&f.NdJ("input",function(Ee){return D._handleInput(Ee.target.value)})("blur",function(){return D.onTouched()})("compositionstart",function(){return D._compositionStart()})("compositionend",function(Ee){return D._compositionEnd(Ee.target.value)})},features:[f._Bn([Me]),f.qOj]}),P})();function gt(P){return null==P||0===P.length}function ze(P){return null!=P&&"number"==typeof P.length}const vt=new f.OlP("NgValidators"),xe=new f.OlP("NgAsyncValidators"),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ee{static min(S){return P=S,S=>{if(gt(S.value)||gt(P))return null;const y=parseFloat(S.value);return!isNaN(y)&&y<P?{min:{min:P,actual:S.value}}:null};var P}static max(S){return P=S,S=>{if(gt(S.value)||gt(P))return null;const y=parseFloat(S.value);return!isNaN(y)&&y>P?{max:{max:P,actual:S.value}}:null};var P}static required(S){return Ce(S)}static requiredTrue(S){return!0===S.value?null:{required:!0}}static email(S){return gt((P=S).value)||Et.test(P.value)?null:{email:!0};var P}static minLength(S){return P=S,S=>gt(S.value)||!ze(S.value)?null:S.value.length<P?{minlength:{requiredLength:P,actualLength:S.value.length}}:null;var P}static maxLength(S){return P=S,S=>ze(S.value)&&S.value.length>P?{maxlength:{requiredLength:P,actualLength:S.value.length}}:null;var P}static pattern(S){return function(P){if(!P)return rt;let S,y;return"string"==typeof P?(y="","^"!==P.charAt(0)&&(y+="^"),y+=P,"$"!==P.charAt(P.length-1)&&(y+="$"),S=new RegExp(y)):(y=P.toString(),S=P),D=>{if(gt(D.value))return null;const z=D.value;return S.test(z)?null:{pattern:{requiredPattern:y,actualValue:z}}}}(S)}static nullValidator(S){return null}static compose(S){return cn(S)}static composeAsync(S){return vn(S)}}function Ce(P){return gt(P.value)?{required:!0}:null}function rt(P){return null}function Ct(P){return null!=P}function $t(P){const S=(0,f.QGY)(P)?(0,ie.D)(P):P;return(0,f.CqO)(S),S}function Ht(P){let S={};return P.forEach(y=>{S=null!=y?kn(kn({},S),y):S}),0===Object.keys(S).length?null:S}function en(P,S){return S.map(y=>y(P))}function Vt(P){return P.map(S=>function(P){return!P.validate}(S)?S:y=>S.validate(y))}function cn(P){if(!P)return null;const S=P.filter(Ct);return 0==S.length?null:function(y){return Ht(en(y,S))}}function Jt(P){return null!=P?cn(Vt(P)):null}function vn(P){if(!P)return null;const S=P.filter(Ct);return 0==S.length?null:function(y){return function(...P){const S=(0,Ae.jO)(P),{args:y,keys:D}=(0,he.D)(P),z=new $.y(Ee=>{const{length:it}=y;if(!it)return void Ee.complete();const ct=new Array(it);let on=it,vr=it;for(let gn=0;gn<it;gn++){let _r=!1;(0,fe.Xf)(y[gn]).subscribe(new Ie.Q(Ee,dr=>{_r||(_r=!0,vr--),ct[gn]=dr},()=>on--,void 0,()=>{(!on||!_r)&&(vr||Ee.next(D?(0,Pe.n)(D,ct):ct),Ee.complete())}))}});return S?z.pipe((0,te.Z)(S)):z}(en(y,S).map($t)).pipe((0,Re.U)(Ht))}}function Rn(P){return null!=P?vn(Vt(P)):null}function Fn(P,S){return null===P?[S]:Array.isArray(P)?[...P,S]:[P,S]}function Kn(P){return P._rawValidators}function Zn(P){return P._rawAsyncValidators}function Un(P){return P?Array.isArray(P)?P:[P]:[]}function En(P,S){return Array.isArray(P)?P.includes(S):P===S}function er(P,S){const y=Un(S);return Un(P).forEach(z=>{En(y,z)||y.push(z)}),y}function tr(P,S){return Un(S).filter(y=>!En(P,y))}class Ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(S){this._rawValidators=S||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(S){this._rawAsyncValidators=S||[],this._composedAsyncValidatorFn=Rn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(S){this._onDestroyCallbacks.push(S)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(S=>S()),this._onDestroyCallbacks=[]}reset(S){this.control&&this.control.reset(S)}hasError(S,y){return!!this.control&&this.control.hasError(S,y)}getError(S,y){return this.control?this.control.getError(S,y):null}}class zt extends Ot{get formDirective(){return null}get path(){return null}}class bn extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qn{constructor(S){this._cd=S}is(S){var y,D,z;return"submitted"===S?!!(null==(y=this._cd)?void 0:y.submitted):!!(null==(z=null==(D=this._cd)?void 0:D.control)?void 0:z[S])}}let ge=(()=>{class P extends qn{constructor(y){super(y)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(bn,2))},P.\u0275dir=f.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,D){2&y&&f.ekj("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))},features:[f.qOj]}),P})(),Ve=(()=>{class P extends qn{constructor(y){super(y)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(zt,10))},P.\u0275dir=f.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,D){2&y&&f.ekj("ng-untouched",D.is("untouched"))("ng-touched",D.is("touched"))("ng-pristine",D.is("pristine"))("ng-dirty",D.is("dirty"))("ng-valid",D.is("valid"))("ng-invalid",D.is("invalid"))("ng-pending",D.is("pending"))("ng-submitted",D.is("submitted"))},features:[f.qOj]}),P})();function q(P,S){return[...S.path,P]}function F(P,S){He(P,S),S.valueAccessor.writeValue(P.value),function(P,S){S.valueAccessor.registerOnChange(y=>{P._pendingValue=y,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&ye(P,S)})}(P,S),function(P,S){const y=(D,z)=>{S.valueAccessor.writeValue(D),z&&S.viewToModelUpdate(D)};P.registerOnChange(y),S._registerOnDestroy(()=>{P._unregisterOnChange(y)})}(P,S),function(P,S){S.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&ye(P,S),"submit"!==P.updateOn&&P.markAsTouched()})}(P,S),function(P,S){if(S.valueAccessor.setDisabledState){const y=D=>{S.valueAccessor.setDisabledState(D)};P.registerOnDisabledChange(y),S._registerOnDestroy(()=>{P._unregisterOnDisabledChange(y)})}}(P,S)}function V(P,S,y=!0){const D=()=>{};S.valueAccessor&&(S.valueAccessor.registerOnChange(D),S.valueAccessor.registerOnTouched(D)),at(P,S),P&&(S._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function Oe(P,S){P.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(S)})}function He(P,S){const y=Kn(P);null!==S.validator?P.setValidators(Fn(y,S.validator)):"function"==typeof y&&P.setValidators([y]);const D=Zn(P);null!==S.asyncValidator?P.setAsyncValidators(Fn(D,S.asyncValidator)):"function"==typeof D&&P.setAsyncValidators([D]);const z=()=>P.updateValueAndValidity();Oe(S._rawValidators,z),Oe(S._rawAsyncValidators,z)}function at(P,S){let y=!1;if(null!==P){if(null!==S.validator){const z=Kn(P);if(Array.isArray(z)&&z.length>0){const Ee=z.filter(it=>it!==S.validator);Ee.length!==z.length&&(y=!0,P.setValidators(Ee))}}if(null!==S.asyncValidator){const z=Zn(P);if(Array.isArray(z)&&z.length>0){const Ee=z.filter(it=>it!==S.asyncValidator);Ee.length!==z.length&&(y=!0,P.setAsyncValidators(Ee))}}}const D=()=>{};return Oe(S._rawValidators,D),Oe(S._rawAsyncValidators,D),y}function ye(P,S){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),S.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function de(P,S){He(P,S)}function hn(P,S){if(!P.hasOwnProperty("model"))return!1;const y=P.model;return!!y.isFirstChange()||!Object.is(S,y.currentValue)}function yn(P,S){P._syncPendingControls(),S.forEach(y=>{const D=y.control;"submit"===D.updateOn&&D._pendingChange&&(y.viewToModelUpdate(D._pendingValue),D._pendingChange=!1)})}function Yn(P,S){if(!S)return null;let y,D,z;return Array.isArray(S),S.forEach(Ee=>{Ee.constructor===Le?y=Ee:function(P){return Object.getPrototypeOf(P.constructor)===Ke}(Ee)?D=Ee:z=Ee}),z||D||y||null}function xn(P,S){const y=P.indexOf(S);y>-1&&P.splice(y,1)}const Bn="VALID",Ut="INVALID",an="PENDING",$n="DISABLED";function Ir(P){return(tt(P)?P.validators:P)||null}function Mn(P){return Array.isArray(P)?Jt(P):P||null}function Ar(P,S){return(tt(S)?S.asyncValidators:P)||null}function we(P){return Array.isArray(P)?Rn(P):P||null}function tt(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class At{constructor(S,y){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=S,this._rawAsyncValidators=y,this._composedValidatorFn=Mn(this._rawValidators),this._composedAsyncValidatorFn=we(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(S){this._rawValidators=this._composedValidatorFn=S}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(S){this._rawAsyncValidators=this._composedAsyncValidatorFn=S}get parent(){return this._parent}get valid(){return this.status===Bn}get invalid(){return this.status===Ut}get pending(){return this.status==an}get disabled(){return this.status===$n}get enabled(){return this.status!==$n}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(S){this._rawValidators=S,this._composedValidatorFn=Mn(S)}setAsyncValidators(S){this._rawAsyncValidators=S,this._composedAsyncValidatorFn=we(S)}addValidators(S){this.setValidators(er(S,this._rawValidators))}addAsyncValidators(S){this.setAsyncValidators(er(S,this._rawAsyncValidators))}removeValidators(S){this.setValidators(tr(S,this._rawValidators))}removeAsyncValidators(S){this.setAsyncValidators(tr(S,this._rawAsyncValidators))}hasValidator(S){return En(this._rawValidators,S)}hasAsyncValidator(S){return En(this._rawAsyncValidators,S)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(S={}){this.touched=!0,this._parent&&!S.onlySelf&&this._parent.markAsTouched(S)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(S=>S.markAllAsTouched())}markAsUntouched(S={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}markAsDirty(S={}){this.pristine=!1,this._parent&&!S.onlySelf&&this._parent.markAsDirty(S)}markAsPristine(S={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}markAsPending(S={}){this.status=an,!1!==S.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!S.onlySelf&&this._parent.markAsPending(S)}disable(S={}){const y=this._parentMarkedDirty(S.onlySelf);this.status=$n,this.errors=null,this._forEachChild(D=>{D.disable(js(kn({},S),{onlySelf:!0}))}),this._updateValue(),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(js(kn({},S),{skipPristineCheck:y})),this._onDisabledChange.forEach(D=>D(!0))}enable(S={}){const y=this._parentMarkedDirty(S.onlySelf);this.status=Bn,this._forEachChild(D=>{D.enable(js(kn({},S),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent}),this._updateAncestors(js(kn({},S),{skipPristineCheck:y})),this._onDisabledChange.forEach(D=>D(!1))}_updateAncestors(S){this._parent&&!S.onlySelf&&(this._parent.updateValueAndValidity(S),S.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(S){this._parent=S}updateValueAndValidity(S={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bn||this.status===an)&&this._runAsyncValidator(S.emitEvent)),!1!==S.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!S.onlySelf&&this._parent.updateValueAndValidity(S)}_updateTreeValidity(S={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(S)),this.updateValueAndValidity({onlySelf:!0,emitEvent:S.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$n:Bn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(S){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator=!0;const y=$t(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(D=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(D,{emitEvent:S})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(S,y={}){this.errors=S,this._updateControlsErrors(!1!==y.emitEvent)}get(S){return function(P,S,y){if(null==S||(Array.isArray(S)||(S=S.split(".")),Array.isArray(S)&&0===S.length))return null;let D=P;return S.forEach(z=>{D=D instanceof Wn?D.controls.hasOwnProperty(z)?D.controls[z]:null:D instanceof An&&D.at(z)||null}),D}(this,S)}getError(S,y){const D=y?this.get(y):this;return D&&D.errors?D.errors[S]:null}hasError(S,y){return!!this.getError(S,y)}get root(){let S=this;for(;S._parent;)S=S._parent;return S}_updateControlsErrors(S){this.status=this._calculateStatus(),S&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(S)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?$n:this.errors?Ut:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(Ut)?Ut:Bn}_anyControlsHaveStatus(S){return this._anyControls(y=>y.status===S)}_anyControlsDirty(){return this._anyControls(S=>S.dirty)}_anyControlsTouched(){return this._anyControls(S=>S.touched)}_updatePristine(S={}){this.pristine=!this._anyControlsDirty(),this._parent&&!S.onlySelf&&this._parent._updatePristine(S)}_updateTouched(S={}){this.touched=this._anyControlsTouched(),this._parent&&!S.onlySelf&&this._parent._updateTouched(S)}_isBoxedValue(S){return"object"==typeof S&&null!==S&&2===Object.keys(S).length&&"value"in S&&"disabled"in S}_registerOnCollectionChange(S){this._onCollectionChange=S}_setUpdateStrategy(S){tt(S)&&null!=S.updateOn&&(this._updateOn=S.updateOn)}_parentMarkedDirty(S){return!S&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wt extends At{constructor(S=null,y,D){super(Ir(y),Ar(D,y)),this._onChange=[],this._applyFormState(S),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(S,y={}){this.value=this._pendingValue=S,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(D=>D(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(S,y={}){this.setValue(S,y)}reset(S=null,y={}){this._applyFormState(S),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(S){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(S){this._onChange.push(S)}_unregisterOnChange(S){xn(this._onChange,S)}registerOnDisabledChange(S){this._onDisabledChange.push(S)}_unregisterOnDisabledChange(S){xn(this._onDisabledChange,S)}_forEachChild(S){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(S){this._isBoxedValue(S)?(this.value=this._pendingValue=S.value,S.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=S}}class Wn extends At{constructor(S,y,D){super(Ir(y),Ar(D,y)),this.controls=S,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(S,y){return this.controls[S]?this.controls[S]:(this.controls[S]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(S,y,D={}){this.registerControl(S,y),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}removeControl(S,y={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(S,y,D={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),delete this.controls[S],y&&this.registerControl(S,y),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}contains(S){return this.controls.hasOwnProperty(S)&&this.controls[S].enabled}setValue(S,y={}){this._checkAllValuesPresent(S),Object.keys(S).forEach(D=>{this._throwIfControlMissing(D),this.controls[D].setValue(S[D],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(S,y={}){null!=S&&(Object.keys(S).forEach(D=>{this.controls[D]&&this.controls[D].patchValue(S[D],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(S={},y={}){this._forEachChild((D,z)=>{D.reset(S[z],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(S,y,D)=>(S[D]=y instanceof wt?y.value:y.getRawValue(),S))}_syncPendingControls(){let S=this._reduceChildren(!1,(y,D)=>!!D._syncPendingControls()||y);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_throwIfControlMissing(S){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[S])throw new Error(`Cannot find form control with name: ${S}.`)}_forEachChild(S){Object.keys(this.controls).forEach(y=>{const D=this.controls[y];D&&S(D,y)})}_setUpControls(){this._forEachChild(S=>{S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(S){for(const y of Object.keys(this.controls)){const D=this.controls[y];if(this.contains(y)&&S(D))return!0}return!1}_reduceValue(){return this._reduceChildren({},(S,y,D)=>((y.enabled||this.disabled)&&(S[D]=y.value),S))}_reduceChildren(S,y){let D=S;return this._forEachChild((z,Ee)=>{D=y(D,z,Ee)}),D}_allControlsDisabled(){for(const S of Object.keys(this.controls))if(this.controls[S].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(S){this._forEachChild((y,D)=>{if(void 0===S[D])throw new Error(`Must supply a value for form control with name: '${D}'.`)})}}class An extends At{constructor(S,y,D){super(Ir(y),Ar(D,y)),this.controls=S,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(S){return this.controls[S]}push(S,y={}){this.controls.push(S),this._registerControl(S),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(S,y,D={}){this.controls.splice(S,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:D.emitEvent})}removeAt(S,y={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(S,y,D={}){this.controls[S]&&this.controls[S]._registerOnCollectionChange(()=>{}),this.controls.splice(S,1),y&&(this.controls.splice(S,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(S,y={}){this._checkAllValuesPresent(S),S.forEach((D,z)=>{this._throwIfControlMissing(z),this.at(z).setValue(D,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(S,y={}){null!=S&&(S.forEach((D,z)=>{this.at(z)&&this.at(z).patchValue(D,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(S=[],y={}){this._forEachChild((D,z)=>{D.reset(S[z],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(S=>S instanceof wt?S.value:S.getRawValue())}clear(S={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:S.emitEvent}))}_syncPendingControls(){let S=this.controls.reduce((y,D)=>!!D._syncPendingControls()||y,!1);return S&&this.updateValueAndValidity({onlySelf:!0}),S}_throwIfControlMissing(S){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(S))throw new Error(`Cannot find form control at index ${S}`)}_forEachChild(S){this.controls.forEach((y,D)=>{S(y,D)})}_updateValue(){this.value=this.controls.filter(S=>S.enabled||this.disabled).map(S=>S.value)}_anyControls(S){return this.controls.some(y=>y.enabled&&S(y))}_setUpControls(){this._forEachChild(S=>this._registerControl(S))}_checkAllValuesPresent(S){this._forEachChild((y,D)=>{if(void 0===S[D])throw new Error(`Must supply a value for form control at index: ${D}.`)})}_allControlsDisabled(){for(const S of this.controls)if(S.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(S){S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange)}}const yr={provide:zt,useExisting:(0,f.Gpc)(()=>hr)},Pn=(()=>Promise.resolve(null))();let hr=(()=>{class P extends zt{constructor(y,D){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new Wn({},Jt(y),Rn(D))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(y){Pn.then(()=>{const D=this._findContainer(y.path);y.control=D.registerControl(y.name,y.control),F(y.control,y),y.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(y)})}getControl(y){return this.form.get(y.path)}removeControl(y){Pn.then(()=>{const D=this._findContainer(y.path);D&&D.removeControl(y.name),xn(this._directives,y)})}addFormGroup(y){Pn.then(()=>{const D=this._findContainer(y.path),z=new Wn({});de(z,y),D.registerControl(y.name,z),z.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(y){Pn.then(()=>{const D=this._findContainer(y.path);D&&D.removeControl(y.name)})}getFormGroup(y){return this.form.get(y.path)}updateModel(y,D){Pn.then(()=>{this.form.get(y.path).setValue(D)})}setValue(y){this.control.setValue(y)}onSubmit(y){return this.submitted=!0,yn(this.form,this._directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(y){return y.pop(),y.length?this.form.get(y):this.form}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(vt,10),f.Y36(xe,10))},P.\u0275dir=f.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(y,D){1&y&&f.NdJ("submit",function(Ee){return D.onSubmit(Ee)})("reset",function(){return D.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([yr]),f.qOj]}),P})(),di=(()=>{class P extends zt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return q(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return P.\u0275fac=function(){let S;return function(D){return(S||(S=f.n5z(P)))(D||P)}}(),P.\u0275dir=f.lG2({type:P,features:[f.qOj]}),P})();const lr={provide:bn,useExisting:(0,f.Gpc)(()=>Ne)},ke=(()=>Promise.resolve(null))();let Ne=(()=>{class P extends bn{constructor(y,D,z,Ee){super(),this.control=new wt,this._registered=!1,this.update=new f.vpe,this._parent=y,this._setValidators(D),this._setAsyncValidators(z),this.valueAccessor=Yn(0,Ee)}ngOnChanges(y){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in y&&this._updateDisabled(y),hn(y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?q(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){F(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(y){ke.then(()=>{this.control.setValue(y,{emitViewToModelChange:!1})})}_updateDisabled(y){const D=y.isDisabled.currentValue,z=""===D||D&&"false"!==D;ke.then(()=>{z&&!this.control.disabled?this.control.disable():!z&&this.control.disabled&&this.control.enable()})}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(zt,9),f.Y36(vt,10),f.Y36(xe,10),f.Y36(_t,10))},P.\u0275dir=f.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([lr]),f.qOj,f.TTD]}),P})(),Be=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275dir=f.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),fr=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({}),P})();const ii=new f.OlP("NgModelWithFormControlWarning"),Gr={provide:zt,useExisting:(0,f.Gpc)(()=>Si)};let Si=(()=>{class P extends zt{constructor(y,D){super(),this.validators=y,this.asyncValidators=D,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(y),this._setAsyncValidators(D)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(at(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const D=this.form.get(y.path);return F(D,y),D.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),D}getControl(y){return this.form.get(y.path)}removeControl(y){V(y.control||null,y,!1),xn(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,D){this.form.get(y.path).setValue(D)}onSubmit(y){return this.submitted=!0,yn(this.form,this.directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const D=y.control,z=this.form.get(y.path);D!==z&&(V(D||null,y),z instanceof wt&&(F(z,y),y.control=z))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const D=this.form.get(y.path);de(D,y),D.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const D=this.form.get(y.path);D&&function(P,S){return at(P,S)}(D,y)&&D.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){He(this.form,this),this._oldForm&&at(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(vt,10),f.Y36(xe,10))},P.\u0275dir=f.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(y,D){1&y&&f.NdJ("submit",function(Ee){return D.onSubmit(Ee)})("reset",function(){return D.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Gr]),f.qOj,f.TTD]}),P})();const Ri={provide:zt,useExisting:(0,f.Gpc)(()=>$i)};let $i=(()=>{class P extends di{constructor(y,D,z){super(),this._parent=y,this._setValidators(D),this._setAsyncValidators(z)}_checkParentType(){ds(this._parent)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(zt,13),f.Y36(vt,10),f.Y36(xe,10))},P.\u0275dir=f.lG2({type:P,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[f._Bn([Ri]),f.qOj]}),P})();const Cs={provide:zt,useExisting:(0,f.Gpc)(()=>ts)};let ts=(()=>{class P extends zt{constructor(y,D,z){super(),this._parent=y,this._setValidators(D),this._setAsyncValidators(z)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return q(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ds(this._parent)}}return P.\u0275fac=function(y){return new(y||P)(f.Y36(zt,13),f.Y36(vt,10),f.Y36(xe,10))},P.\u0275dir=f.lG2({type:P,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[f._Bn([Cs]),f.qOj]}),P})();function ds(P){return!(P instanceof $i||P instanceof Si||P instanceof ts)}const $s={provide:bn,useExisting:(0,f.Gpc)(()=>ro)};let ro=(()=>{class P extends bn{constructor(y,D,z,Ee,it){super(),this._ngModelWarningConfig=it,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(D),this._setAsyncValidators(z),this.valueAccessor=Yn(0,Ee)}set isDisabled(y){}ngOnChanges(y){this._added||this._setUpControl(),hn(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return q(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(y){return new(y||P)(f.Y36(zt,13),f.Y36(vt,10),f.Y36(xe,10),f.Y36(_t,10),f.Y36(ii,8))},P.\u0275dir=f.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([$s]),f.qOj,f.TTD]}),P})();const ps={provide:vt,useExisting:(0,f.Gpc)(()=>kr),multi:!0};let kr=(()=>{class P{constructor(){this._required=!1}get required(){return this._required}set required(y){this._required=null!=y&&!1!==y&&"false"!=`${y}`,this._onChange&&this._onChange()}validate(y){return this.required?Ce(y):null}registerOnValidatorChange(y){this._onChange=y}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275dir=f.lG2({type:P,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(y,D){2&y&&f.uIk("required",D.required?"":null)},inputs:{required:"required"},features:[f._Bn([ps])]}),P})(),O=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({imports:[[fr]]}),P})(),G=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({imports:[O]}),P})(),be=(()=>{class P{static withConfig(y){return{ngModule:P,providers:[{provide:ii,useValue:y.warnOnNgModelWithFormControl}]}}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=f.oAB({type:P}),P.\u0275inj=f.cJS({imports:[O]}),P})(),bt=(()=>{class P{group(y,D=null){const z=this._reduceControls(y);let ct,Ee=null,it=null;return null!=D&&(function(P){return void 0!==P.asyncValidators||void 0!==P.validators||void 0!==P.updateOn}(D)?(Ee=null!=D.validators?D.validators:null,it=null!=D.asyncValidators?D.asyncValidators:null,ct=null!=D.updateOn?D.updateOn:void 0):(Ee=null!=D.validator?D.validator:null,it=null!=D.asyncValidator?D.asyncValidator:null)),new Wn(z,{asyncValidators:it,updateOn:ct,validators:Ee})}control(y,D,z){return new wt(y,D,z)}array(y,D,z){const Ee=y.map(it=>this._createControl(it));return new An(Ee,D,z)}_reduceControls(y){const D={};return Object.keys(y).forEach(z=>{D[z]=this._createControl(y[z])}),D}_createControl(y){return y instanceof wt||y instanceof Wn||y instanceof An?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:be}),P})()},1002:(Lt,je,N)=>{"use strict";N.d(je,{gz:()=>Ne,jw:()=>ue,m2:()=>Rn,F0:()=>li,rH:()=>ss,yS:()=>Rs,Bz:()=>Dn,lC:()=>bs,fw:()=>As});var f=N(6019),_=N(3668),$=N(273);class he extends $.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const v=super._subscribe(E);return!v.closed&&E.next(this._value),v}getValue(){const{hasError:E,thrownError:v,_value:R}=this;if(E)throw v;return this._throwIfClosed(),R}next(E){super.next(this._value=E)}}var fe=N(8305),Ae=N(886),Ie=N(5947),te=N(4623),Pe=N(2937),Y=N(8830),ie=N(2857),Re=N(8889),Qe=N(8395);function yt(b,E,v){b?(0,Qe.f)(v,b,E):E()}var oe=N(9985);function Me(b){return new fe.y(E=>{(0,oe.Xf)(b()).subscribe(E)})}var We=N(7908),qe=N(9947);function Le(){return(0,qe.e)((b,E)=>{let v=null;b._refCount++;const R=new Re.Q(E,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(v=null);const k=b._connection,U=v;v=null,k&&(!U||k===U)&&k.unsubscribe(),E.unsubscribe()});b.subscribe(R),R.closed||(v=b.connect())})}class gt extends fe.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,qe.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new We.w0;const v=this.getSubject();E.add(this.source.subscribe(new Re.Q(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),E.closed&&(this._connection=null,E=We.w0.EMPTY)}return E}refCount(){return Le()(this)}}var ze=N(2997),vt=N(5907),xe=N(1404),Et=N(5583);function ee(b){return(0,qe.e)((E,v)=>{let U,R=null,k=!1;R=E.subscribe(new Re.Q(v,void 0,void 0,ce=>{U=(0,oe.Xf)(b(ce,ee(b)(E))),R?(R.unsubscribe(),R=null,U.subscribe(v)):k=!0})),k&&(R.unsubscribe(),R=null,U.subscribe(v))})}var le=N(461);function ae(b){return b<=0?()=>Et.E:(0,qe.e)((E,v)=>{let R=[];E.subscribe(new Re.Q(v,k=>{R.push(k),b<R.length&&R.shift()},()=>{for(const k of R)v.next(k);v.complete()},void 0,()=>{R=null}))})}var Ce=N(4724),$e=N(8975),nt=N(4753),Bt=N(3067),rt=N(9468),Ct=N(3970),$t=N(9495),Ht=N(4799),en=N(6047),Zt=N(5724),Vt=N(7384),cn=N(5373);class Jt{constructor(E,v){this.id=E,this.url=v}}class vn extends Jt{constructor(E,v,R="imperative",k=null){super(E,v),this.navigationTrigger=R,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rn extends Jt{constructor(E,v,R){super(E,v),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fn extends Jt{constructor(E,v,R){super(E,v),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kn extends Jt{constructor(E,v,R){super(E,v),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zn extends Jt{constructor(E,v,R,k){super(E,v),this.urlAfterRedirects=R,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends Jt{constructor(E,v,R,k){super(E,v),this.urlAfterRedirects=R,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class En extends Jt{constructor(E,v,R,k,U){super(E,v),this.urlAfterRedirects=R,this.state=k,this.shouldActivate=U}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class er extends Jt{constructor(E,v,R,k){super(E,v),this.urlAfterRedirects=R,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Jt{constructor(E,v,R,k){super(E,v),this.urlAfterRedirects=R,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ot{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zt{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bn{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qn{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ge{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ue{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ge{constructor(E,v,R){this.routerEvent=E,this.position=v,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class dt{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function St(b){return new dt(b)}const pt="ngNavigationCancelingError";function Dt(b){const E=Error("NavigationCancelingError: "+b);return E[pt]=!0,E}function Gn(b,E,v){const R=v.path.split("/");if(R.length>b.length||"full"===v.pathMatch&&(E.hasChildren()||R.length<b.length))return null;const k={};for(let U=0;U<R.length;U++){const ce=R[U],Se=b[U];if(ce.startsWith(":"))k[ce.substring(1)]=Se;else if(ce!==Se.path)return null}return{consumed:b.slice(0,R.length),posParams:k}}function rn(b,E){const v=b?Object.keys(b):void 0,R=E?Object.keys(E):void 0;if(!v||!R||v.length!=R.length)return!1;let k;for(let U=0;U<v.length;U++)if(k=v[U],!pn(b[k],E[k]))return!1;return!0}function pn(b,E){if(Array.isArray(b)&&Array.isArray(E)){if(b.length!==E.length)return!1;const v=[...b].sort(),R=[...E].sort();return v.every((k,U)=>R[U]===k)}return b===E}function mn(b){return Array.prototype.concat.apply([],b)}function _e(b){return b.length>0?b[b.length-1]:null}function q(b,E){for(const v in b)b.hasOwnProperty(v)&&E(b[v],v)}function F(b){return(0,_.CqO)(b)?b:(0,_.QGY)(b)?(0,Ie.D)(Promise.resolve(b)):(0,ze.of)(b)}const Oe={exact:function Rt(b,E,v){if(!dn(b.segments,E.segments)||!de(b.segments,E.segments,v)||b.numberOfChildren!==E.numberOfChildren)return!1;for(const R in E.children)if(!b.children[R]||!Rt(b.children[R],E.children[R],v))return!1;return!0},subset:ye},se={exact:function(b,E){return rn(b,E)},subset:function(b,E){return Object.keys(E).length<=Object.keys(b).length&&Object.keys(E).every(v=>pn(b[v],E[v]))},ignored:()=>!0};function He(b,E,v){return Oe[v.paths](b.root,E.root,v.matrixParams)&&se[v.queryParams](b.queryParams,E.queryParams)&&!("exact"===v.fragment&&b.fragment!==E.fragment)}function ye(b,E,v){return re(b,E,E.segments,v)}function re(b,E,v,R){if(b.segments.length>v.length){const k=b.segments.slice(0,v.length);return!(!dn(k,v)||E.hasChildren()||!de(k,v,R))}if(b.segments.length===v.length){if(!dn(b.segments,v)||!de(b.segments,v,R))return!1;for(const k in E.children)if(!b.children[k]||!ye(b.children[k],E.children[k],R))return!1;return!0}{const k=v.slice(0,b.segments.length),U=v.slice(b.segments.length);return!!(dn(b.segments,k)&&de(b.segments,k,R)&&b.children[Ve])&&re(b.children[Ve],E,U,R)}}function de(b,E,v){return E.every((R,k)=>se[v](b[k].parameters,R.parameters))}class Ze{constructor(E,v,R){this.root=E,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class et{constructor(E,v){this.segments=E,this.children=v,this.parent=null,q(v,(R,k)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bn(this)}}class Qt{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return we(this)}}function dn(b,E){return b.length===E.length&&b.every((v,R)=>v.path===E[R].path)}class Yn{}class xn{parse(E){const v=new di(E);return new Ze(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Ut(E.root,!0)}`,R=function(b){const E=Object.keys(b).map(v=>{const R=b[v];return Array.isArray(R)?R.map(k=>`${$n(v)}=${$n(k)}`).join("&"):`${$n(v)}=${$n(R)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);var b;return`${v}${R}${"string"==typeof E.fragment?`#${b=E.fragment,encodeURI(b)}`:""}`}}const fn=new xn;function Bn(b){return b.segments.map(E=>we(E)).join("/")}function Ut(b,E){if(!b.hasChildren())return Bn(b);if(E){const v=b.children[Ve]?Ut(b.children[Ve],!1):"",R=[];return q(b.children,(k,U)=>{U!==Ve&&R.push(`${U}:${Ut(k,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function(b,E){let v=[];return q(b.children,(R,k)=>{k===Ve&&(v=v.concat(E(R,k)))}),q(b.children,(R,k)=>{k!==Ve&&(v=v.concat(E(R,k)))}),v}(b,(R,k)=>k===Ve?[Ut(b.children[Ve],!1)]:[`${k}:${Ut(R,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Ve]?`${Bn(b)}/${v[0]}`:`${Bn(b)}/(${v.join("//")})`}}function an(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $n(b){return an(b).replace(/%3B/gi,";")}function Ir(b){return an(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mn(b){return decodeURIComponent(b)}function Ar(b){return Mn(b.replace(/\+/g,"%20"))}function we(b){return`${Ir(b.path)}${function(b){return Object.keys(b).map(E=>`;${Ir(E)}=${Ir(b[E])}`).join("")}(b.parameters)}`}const wt=/^[^\/()?;=#]+/;function Wn(b){const E=b.match(wt);return E?E[0]:""}const An=/^[^=?&#]+/,Pn=/^[^&#]+/;class di{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(R[Ve]=new et(E,v)),R}parseSegment(){const E=Wn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new Qt(Mn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=Wn(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const k=Wn(this.remaining);k&&(R=k,this.capture(R))}E[Mn(v)]=Mn(R)}parseQueryParam(E){const v=function(b){const E=b.match(An);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const ce=function(b){const E=b.match(Pn);return E?E[0]:""}(this.remaining);ce&&(R=ce,this.capture(R))}const k=Ar(v),U=Ar(R);if(E.hasOwnProperty(k)){let ce=E[k];Array.isArray(ce)||(ce=[ce],E[k]=ce),ce.push(U)}else E[k]=U}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Wn(this.remaining),k=this.remaining[R.length];if("/"!==k&&")"!==k&&";"!==k)throw new Error(`Cannot parse url '${this.url}'`);let U;R.indexOf(":")>-1?(U=R.substr(0,R.indexOf(":")),this.capture(U),this.capture(":")):E&&(U=Ve);const ce=this.parseChildren();v[U]=1===Object.keys(ce).length?ce[Ve]:new et([],ce),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class qr{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=Lr(E,this._root);return v?v.children.map(R=>R.value):[]}firstChild(E){const v=Lr(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=Qn(E,this._root);return v.length<2?[]:v[v.length-2].children.map(k=>k.value).filter(k=>k!==E)}pathFromRoot(E){return Qn(E,this._root).map(v=>v.value)}}function Lr(b,E){if(b===E.value)return E;for(const v of E.children){const R=Lr(b,v);if(R)return R}return null}function Qn(b,E){if(b===E.value)return[E];for(const v of E.children){const R=Qn(b,v);if(R.length)return R.unshift(E),R}return[]}class ai{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Vr(b){const E={};return b&&b.children.forEach(v=>E[v.value.outlet]=v),E}class hi extends qr{constructor(E,v){super(E),this.snapshot=v,Nn(this,E)}toString(){return this.snapshot.toString()}}function lr(b,E){const v=function(b,E){const ce=new Pt([],{},{},"",{},Ve,E,null,b.root,-1,{});return new qt("",new ai(ce,[]))}(b,E),R=new he([new Qt("",{})]),k=new he({}),U=new he({}),ce=new he({}),Se=new he(""),ht=new Ne(R,k,ce,Se,U,Ve,E,v.root);return ht.snapshot=v.root,new hi(new ai(ht,[]),v)}class Ne{constructor(E,v,R,k,U,ce,Se,ht){this.url=E,this.params=v,this.queryParams=R,this.fragment=k,this.data=U,this.outlet=ce,this.component=Se,this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(E=>St(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(E=>St(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Be(b,E="emptyOnly"){const v=b.pathFromRoot;let R=0;if("always"!==E)for(R=v.length-1;R>=1;){const k=v[R],U=v[R-1];if(k.routeConfig&&""===k.routeConfig.path)R--;else{if(U.component)break;R--}}return function(b){return b.reduce((E,v)=>({params:kn(kn({},E.params),v.params),data:kn(kn({},E.data),v.data),resolve:kn(kn({},E.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Pt{constructor(E,v,R,k,U,ce,Se,ht,Xt,sn,In){this.url=E,this.params=v,this.queryParams=R,this.fragment=k,this.data=U,this.outlet=ce,this.component=Se,this.routeConfig=ht,this._urlSegment=Xt,this._lastPathIndex=sn,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qt extends qr{constructor(E,v){super(v),this.url=E,Nn(this,v)}toString(){return fr(this._root)}}function Nn(b,E){E.value._routerState=b,E.children.forEach(v=>Nn(b,v))}function fr(b){const E=b.children.length>0?` { ${b.children.map(fr).join(", ")} } `:"";return`${b.value}${E}`}function On(b){if(b.snapshot){const E=b.snapshot,v=b._futureSnapshot;b.snapshot=v,rn(E.queryParams,v.queryParams)||b.queryParams.next(v.queryParams),E.fragment!==v.fragment&&b.fragment.next(v.fragment),rn(E.params,v.params)||b.params.next(v.params),function(b,E){if(b.length!==E.length)return!1;for(let v=0;v<b.length;++v)if(!rn(b[v],E[v]))return!1;return!0}(E.url,v.url)||b.url.next(v.url),rn(E.data,v.data)||b.data.next(v.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Br(b,E){const v=rn(b.params,E.params)&&function(b,E){return dn(b,E)&&b.every((v,R)=>rn(v.parameters,E[R].parameters))}(b.url,E.url);return v&&!(!b.parent!=!E.parent)&&(!b.parent||Br(b.parent,E.parent))}function Rr(b,E,v){if(v&&b.shouldReuseRoute(E.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=E.value;const k=function(b,E,v){return E.children.map(R=>{for(const k of v.children)if(b.shouldReuseRoute(R.value,k.value.snapshot))return Rr(b,R,k);return Rr(b,R)})}(b,E,v);return new ai(R,k)}{if(b.shouldAttach(E.value)){const U=b.retrieve(E.value);if(null!==U){const ce=U.route;return ce.value._futureSnapshot=E.value,ce.children=E.children.map(Se=>Rr(b,Se)),ce}}const R=function(b){return new Ne(new he(b.url),new he(b.params),new he(b.queryParams),new he(b.fragment),new he(b.data),b.outlet,b.component,b)}(E.value),k=E.children.map(U=>Rr(b,U));return new ai(R,k)}}function Gr(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Si(b){return"object"==typeof b&&null!=b&&b.outlets}function Ri(b,E,v,R,k){let U={};return R&&q(R,(ce,Se)=>{U[Se]=Array.isArray(ce)?ce.map(ht=>`${ht}`):`${ce}`}),new Ze(v.root===b?E:$i(v.root,b,E),U,k)}function $i(b,E,v){const R={};return q(b.children,(k,U)=>{R[U]=k===E?v:$i(k,E,v)}),new et(b.segments,R)}class Cs{constructor(E,v,R){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=R,E&&R.length>0&&Gr(R[0]))throw new Error("Root segment cannot have matrix parameters");const k=R.find(Si);if(k&&k!==_e(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ds{constructor(E,v,R){this.segmentGroup=E,this.processChildren=v,this.index=R}}function wi(b,E,v){if(b||(b=new et([],{})),0===b.segments.length&&b.hasChildren())return Wi(b,E,v);const R=function(b,E,v){let R=0,k=E;const U={match:!1,pathIndex:0,commandIndex:0};for(;k<b.segments.length;){if(R>=v.length)return U;const ce=b.segments[k],Se=v[R];if(Si(Se))break;const ht=`${Se}`,Xt=R<v.length-1?v[R+1]:null;if(k>0&&void 0===ht)break;if(ht&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!pi(ht,Xt,ce))return U;R+=2}else{if(!pi(ht,{},ce))return U;R++}k++}return{match:!0,pathIndex:k,commandIndex:R}}(b,E,v),k=v.slice(R.commandIndex);if(R.match&&R.pathIndex<b.segments.length){const U=new et(b.segments.slice(0,R.pathIndex),{});return U.children[Ve]=new et(b.segments.slice(R.pathIndex),b.children),Wi(U,0,k)}return R.match&&0===k.length?new et(b.segments,{}):R.match&&!b.hasChildren()?hs(b,E,v):R.match?Wi(b,0,k):hs(b,E,v)}function Wi(b,E,v){if(0===v.length)return new et(b.segments,{});{const R=function(b){return Si(b[0])?b[0].outlets:{[Ve]:b}}(v),k={};return q(R,(U,ce)=>{"string"==typeof U&&(U=[U]),null!==U&&(k[ce]=wi(b.children[ce],E,U))}),q(b.children,(U,ce)=>{void 0===R[ce]&&(k[ce]=U)}),new et(b.segments,k)}}function hs(b,E,v){const R=b.segments.slice(0,E);let k=0;for(;k<v.length;){const U=v[k];if(Si(U)){const ht=io(U.outlets);return new et(R,ht)}if(0===k&&Gr(v[0])){R.push(new Qt(b.segments[E].path,fi(v[0]))),k++;continue}const ce=Si(U)?U.outlets[Ve]:`${U}`,Se=k<v.length-1?v[k+1]:null;ce&&Se&&Gr(Se)?(R.push(new Qt(ce,fi(Se))),k+=2):(R.push(new Qt(ce,{})),k++)}return new et(R,{})}function io(b){const E={};return q(b,(v,R)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[R]=hs(new et([],{}),0,v))}),E}function fi(b){const E={};return q(b,(v,R)=>E[R]=`${v}`),E}function pi(b,E,v){return b==v.path&&rn(E,v.parameters)}class fs{constructor(E,v,R,k){this.routeReuseStrategy=E,this.futureState=v,this.currState=R,this.forwardEvent=k}activate(E){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,E),On(this.futureState.root),this.activateChildRoutes(v,R,E)}deactivateChildRoutes(E,v,R){const k=Vr(v);E.children.forEach(U=>{const ce=U.value.outlet;this.deactivateRoutes(U,k[ce],R),delete k[ce]}),q(k,(U,ce)=>{this.deactivateRouteAndItsChildren(U,R)})}deactivateRoutes(E,v,R){const k=E.value,U=v?v.value:null;if(k===U)if(k.component){const ce=R.getContext(k.outlet);ce&&this.deactivateChildRoutes(E,v,ce.children)}else this.deactivateChildRoutes(E,v,R);else U&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(E,v){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const R=v.getContext(E.value.outlet),k=R&&E.value.component?R.children:v,U=Vr(E);for(const ce of Object.keys(U))this.deactivateRouteAndItsChildren(U[ce],k);if(R&&R.outlet){const ce=R.outlet.detach(),Se=R.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ce,route:E,contexts:Se})}}deactivateRouteAndOutlet(E,v){const R=v.getContext(E.value.outlet),k=R&&E.value.component?R.children:v,U=Vr(E);for(const ce of Object.keys(U))this.deactivateRouteAndItsChildren(U[ce],k);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(E,v,R){const k=Vr(v);E.children.forEach(U=>{this.activateRoutes(U,k[U.value.outlet],R),this.forwardEvent(new ue(U.value.snapshot))}),E.children.length&&this.forwardEvent(new qn(E.value.snapshot))}activateRoutes(E,v,R){const k=E.value,U=v?v.value:null;if(On(k),k===U)if(k.component){const ce=R.getOrCreateContext(k.outlet);this.activateChildRoutes(E,v,ce.children)}else this.activateChildRoutes(E,v,R);else if(k.component){const ce=R.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Se=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),ce.children.onOutletReAttached(Se.contexts),ce.attachRef=Se.componentRef,ce.route=Se.route.value,ce.outlet&&ce.outlet.attach(Se.componentRef,Se.route.value),On(Se.route.value),this.activateChildRoutes(E,null,ce.children)}else{const Se=function(b){for(let E=b.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(k.snapshot),ht=Se?Se.module.componentFactoryResolver:null;ce.attachRef=null,ce.route=k,ce.resolver=ht,ce.outlet&&ce.outlet.activateWith(k,ht),this.activateChildRoutes(E,null,ce.children)}}else this.activateChildRoutes(E,null,R)}}class Zr{constructor(E,v){this.routes=E,this.module=v}}function Dr(b){return"function"==typeof b}function Yr(b){return b instanceof Ze}const Ii=Symbol("INITIAL_VALUE");function kr(){return(0,Bt.w)(b=>function(...b){const E=(0,Y.yG)(b),v=(0,Y.jO)(b),{args:R,keys:k}=(0,Ae.D)(b);if(0===R.length)return(0,Ie.D)([],E);const U=new fe.y(function(b,E,v=te.y){return R=>{yt(E,()=>{const{length:k}=b,U=new Array(k);let ce=k,Se=k;for(let ht=0;ht<k;ht++)yt(E,()=>{const Xt=(0,Ie.D)(b[ht],E);let sn=!1;Xt.subscribe(new Re.Q(R,In=>{U[ht]=In,sn||(sn=!0,Se--),Se||R.next(v(U.slice()))},()=>{--ce||R.complete()}))},R)},R)}}(R,E,k?ce=>(0,ie.n)(k,ce):te.y));return v?U.pipe((0,Pe.Z)(v)):U}(b.map(E=>E.pipe((0,rt.q)(1),(0,Ct.O)(Ii)))).pipe((0,$t.R)((E,v)=>{let R=!1;return v.reduce((k,U,ce)=>k!==Ii?k:(U===Ii&&(R=!0),R||!1!==U&&ce!==v.length-1&&!Yr(U)?k:U),E)},Ii),(0,le.h)(E=>E!==Ii),(0,nt.U)(E=>Yr(E)?E:!0===E),(0,rt.q)(1)))}class xr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ci,this.attachRef=null}}class Ci{constructor(){this.contexts=new Map}onChildOutletCreated(E,v){const R=this.getOrCreateContext(E);R.outlet=v,this.contexts.set(E,R)}onChildOutletDestroyed(E){const v=this.getContext(E);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let v=this.getContext(E);return v||(v=new xr,this.contexts.set(E,v)),v}getContext(E){return this.contexts.get(E)||null}}let bs=(()=>{class b{constructor(v,R,k,U,ce){this.parentContexts=v,this.location=R,this.resolver=k,this.changeDetector=ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=U||Ve,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const ce=(R=R||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),Se=this.parentContexts.getOrCreateContext(this.name).children,ht=new Ts(v,Se,this.location.injector);this.activated=this.location.createComponent(ce,this.location.length,ht),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(v){return new(v||b)(_.Y36(Ci),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},b.\u0275dir=_.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class Ts{constructor(E,v,R){this.route=E,this.childContexts=v,this.parent=R}get(E,v){return E===Ne?this.route:E===Ci?this.childContexts:this.parent.get(E,v)}}let As=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275cmp=_.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,R){1&v&&_._UZ(0,"router-outlet")},directives:[bs],encapsulation:2}),b})();function Ss(b,E=""){for(let v=0;v<b.length;v++){const R=b[v];yo(R,ar(E,R))}}function yo(b,E){b.children&&Ss(b.children,E)}function ar(b,E){return E?b||E.path?b&&!E.path?`${b}/`:!b&&E.path?E.path:`${b}/${E.path}`:"":b}function Di(b){const E=b.children&&b.children.map(Di),v=E?js(kn({},b),{children:E}):kn({},b);return!v.component&&(E||v.loadChildren)&&v.outlet&&v.outlet!==Ve&&(v.component=As),v}function Mr(b){return b.outlet||Ve}function x(b,E){const v=b.filter(R=>Mr(R)===E);return v.push(...b.filter(R=>Mr(R)!==E)),v}const H={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function O(b,E,v){var Se;if(""===E.path)return"full"===E.pathMatch&&(b.hasChildren()||v.length>0)?kn({},H):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const k=(E.matcher||Gn)(v,b,E);if(!k)return kn({},H);const U={};q(k.posParams,(ht,Xt)=>{U[Xt]=ht.path});const ce=k.consumed.length>0?kn(kn({},U),k.consumed[k.consumed.length-1].parameters):U;return{matched:!0,consumedSegments:k.consumed,lastChild:k.consumed.length,parameters:ce,positionalParamSegments:null!=(Se=k.posParams)?Se:{}}}function G(b,E,v,R,k="corrected"){if(v.length>0&&function(b,E,v){return v.some(R=>P(b,E,R)&&Mr(R)!==Ve)}(b,v,R)){const ce=new et(E,function(b,E,v,R){const k={};k[Ve]=R,R._sourceSegment=b,R._segmentIndexShift=E.length;for(const U of v)if(""===U.path&&Mr(U)!==Ve){const ce=new et([],{});ce._sourceSegment=b,ce._segmentIndexShift=E.length,k[Mr(U)]=ce}return k}(b,E,R,new et(v,b.children)));return ce._sourceSegment=b,ce._segmentIndexShift=E.length,{segmentGroup:ce,slicedSegments:[]}}if(0===v.length&&function(b,E,v){return v.some(R=>P(b,E,R))}(b,v,R)){const ce=new et(b.segments,function(b,E,v,R,k,U){const ce={};for(const Se of R)if(P(b,v,Se)&&!k[Mr(Se)]){const ht=new et([],{});ht._sourceSegment=b,ht._segmentIndexShift="legacy"===U?b.segments.length:E.length,ce[Mr(Se)]=ht}return kn(kn({},k),ce)}(b,E,v,R,b.children,k));return ce._sourceSegment=b,ce._segmentIndexShift=E.length,{segmentGroup:ce,slicedSegments:v}}const U=new et(b.segments,b.children);return U._sourceSegment=b,U._segmentIndexShift=E.length,{segmentGroup:U,slicedSegments:v}}function P(b,E,v){return(!(b.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function S(b,E,v,R){return!!(Mr(b)===R||R!==Ve&&P(E,v,b))&&("**"===b.path||O(E,b,v).matched)}function y(b,E,v){return 0===E.length&&!b.children[v]}class D{constructor(E){this.segmentGroup=E||null}}class z{constructor(E){this.urlTree=E}}function Ee(b){return new fe.y(E=>E.error(new D(b)))}function it(b){return new fe.y(E=>E.error(new z(b)))}function ct(b){return new fe.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${b}'`)))}class gn{constructor(E,v,R,k,U){this.configLoader=v,this.urlSerializer=R,this.urlTree=k,this.config=U,this.allowRedirects=!0,this.ngModule=E.get(_.h0i)}apply(){const E=G(this.urlTree.root,[],[],this.config).segmentGroup,v=new et(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,v,Ve).pipe((0,nt.U)(U=>this.createUrlTree(dr(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ee(U=>{if(U instanceof z)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof D?this.noMatchError(U):U}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,Ve).pipe((0,nt.U)(k=>this.createUrlTree(dr(k),E.queryParams,E.fragment))).pipe(ee(k=>{throw k instanceof D?this.noMatchError(k):k}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,v,R){const k=E.segments.length>0?new et([],{[Ve]:E}):E;return new Ze(k,v,R)}expandSegmentGroup(E,v,R,k){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(E,v,R).pipe((0,nt.U)(U=>new et([],U))):this.expandSegment(E,R,v,R.segments,k,!0)}expandChildren(E,v,R){const k=[];for(const U of Object.keys(R.children))"primary"===U?k.unshift(U):k.push(U);return(0,Ie.D)(k).pipe((0,Ht.b)(U=>{const ce=R.children[U],Se=x(v,U);return this.expandSegmentGroup(E,Se,ce,U).pipe((0,nt.U)(ht=>({segment:ht,outlet:U})))}),(0,$t.R)((U,ce)=>(U[ce.outlet]=ce.segment,U),{}),function(b,E){const v=arguments.length>=2;return R=>R.pipe(b?(0,le.h)((k,U)=>b(k,U,R)):te.y,ae(1),v?(0,$e.d)(E):(0,Ce.T)(()=>new vt.K))}())}expandSegment(E,v,R,k,U,ce){return(0,Ie.D)(R).pipe((0,Ht.b)(Se=>this.expandSegmentAgainstRoute(E,v,R,Se,k,U,ce).pipe(ee(Xt=>{if(Xt instanceof D)return(0,ze.of)(null);throw Xt}))),(0,en.P)(Se=>!!Se),ee((Se,ht)=>{if(Se instanceof vt.K||"EmptyError"===Se.name){if(y(v,k,U))return(0,ze.of)(new et([],{}));throw new D(v)}throw Se}))}expandSegmentAgainstRoute(E,v,R,k,U,ce,Se){return S(k,v,U,ce)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(E,v,k,U,ce):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,R,k,U,ce):Ee(v):Ee(v)}expandSegmentAgainstRouteUsingRedirect(E,v,R,k,U,ce){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,R,k,ce):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,R,k,U,ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,R,k){const U=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?it(U):this.lineralizeSegments(R,U).pipe((0,Zt.z)(ce=>{const Se=new et(ce,{});return this.expandSegment(E,Se,v,ce,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,R,k,U,ce){const{matched:Se,consumedSegments:ht,lastChild:Xt,positionalParamSegments:sn}=O(v,k,U);if(!Se)return Ee(v);const In=this.applyRedirectCommands(ht,k.redirectTo,sn);return k.redirectTo.startsWith("/")?it(In):this.lineralizeSegments(k,In).pipe((0,Zt.z)(Ln=>this.expandSegment(E,v,R,Ln.concat(U.slice(Xt)),ce,!1)))}matchSegmentAgainstRoute(E,v,R,k,U){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,ze.of)(R._loadedConfig):this.configLoader.load(E.injector,R)).pipe((0,nt.U)(Ln=>(R._loadedConfig=Ln,new et(k,{})))):(0,ze.of)(new et(k,{}));const{matched:ce,consumedSegments:Se,lastChild:ht}=O(v,R,k);if(!ce)return Ee(v);const Xt=k.slice(ht);return this.getChildConfig(E,R,k).pipe((0,Zt.z)(In=>{const Ln=In.module,or=In.routes,{segmentGroup:qi,slicedSegments:br}=G(v,Se,Xt,or),os=new et(qi.segments,qi.children);if(0===br.length&&os.hasChildren())return this.expandChildren(Ln,or,os).pipe((0,nt.U)(as=>new et(Se,as)));if(0===or.length&&0===br.length)return(0,ze.of)(new et(Se,{}));const Ni=Mr(R)===U;return this.expandSegment(Ln,os,or,br,Ni?Ve:U,!0).pipe((0,nt.U)(Oi=>new et(Se.concat(Oi.segments),Oi.children)))}))}getChildConfig(E,v,R){return v.children?(0,ze.of)(new Zr(v.children,E)):v.loadChildren?void 0!==v._loadedConfig?(0,ze.of)(v._loadedConfig):this.runCanLoadGuards(E.injector,v,R).pipe((0,Zt.z)(k=>{return k?this.configLoader.load(E.injector,v).pipe((0,nt.U)(U=>(v._loadedConfig=U,U))):(b=v,new fe.y(E=>E.error(Dt(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))));var b})):(0,ze.of)(new Zr([],E))}runCanLoadGuards(E,v,R){const k=v.canLoad;if(!k||0===k.length)return(0,ze.of)(!0);const U=k.map(ce=>{const Se=E.get(ce);let ht;if((b=Se)&&Dr(b.canLoad))ht=Se.canLoad(v,R);else{if(!Dr(Se))throw new Error("Invalid CanLoad guard");ht=Se(v,R)}var b;return F(ht)});return(0,ze.of)(U).pipe(kr(),(0,Vt.b)(ce=>{if(!Yr(ce))return;const Se=Dt(`Redirecting to "${this.urlSerializer.serialize(ce)}"`);throw Se.url=ce,Se}),(0,nt.U)(ce=>!0===ce))}lineralizeSegments(E,v){let R=[],k=v.root;for(;;){if(R=R.concat(k.segments),0===k.numberOfChildren)return(0,ze.of)(R);if(k.numberOfChildren>1||!k.children[Ve])return ct(E.redirectTo);k=k.children[Ve]}}applyRedirectCommands(E,v,R){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),E,R)}applyRedirectCreatreUrlTree(E,v,R,k){const U=this.createSegmentGroup(E,v.root,R,k);return new Ze(U,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const R={};return q(E,(k,U)=>{if("string"==typeof k&&k.startsWith(":")){const Se=k.substring(1);R[U]=v[Se]}else R[U]=k}),R}createSegmentGroup(E,v,R,k){const U=this.createSegments(E,v.segments,R,k);let ce={};return q(v.children,(Se,ht)=>{ce[ht]=this.createSegmentGroup(E,Se,R,k)}),new et(U,ce)}createSegments(E,v,R,k){return v.map(U=>U.path.startsWith(":")?this.findPosParam(E,U,k):this.findOrReturn(U,R))}findPosParam(E,v,R){const k=R[v.path.substring(1)];if(!k)throw new Error(`Cannot redirect to '${E}'. Cannot find '${v.path}'.`);return k}findOrReturn(E,v){let R=0;for(const k of v){if(k.path===E.path)return v.splice(R),k;R++}return E}}function dr(b){const E={};for(const R of Object.keys(b.children)){const U=dr(b.children[R]);(U.segments.length>0||U.hasChildren())&&(E[R]=U)}return function(b){if(1===b.numberOfChildren&&b.children[Ve]){const E=b.children[Ve];return new et(b.segments.concat(E.segments),E.children)}return b}(new et(b.segments,E))}class gi{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class mt{constructor(E,v){this.component=E,this.route=v}}function jn(b,E,v){const R=b._root;return mi(R,E?E._root:null,v,[R.value])}function Sn(b,E,v){const R=function(b){if(!b)return null;for(let E=b.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(E);return(R?R.module.injector:v).get(b)}function mi(b,E,v,R,k={canDeactivateChecks:[],canActivateChecks:[]}){const U=Vr(E);return b.children.forEach(ce=>{(function(b,E,v,R,k={canDeactivateChecks:[],canActivateChecks:[]}){const U=b.value,ce=E?E.value:null,Se=v?v.getContext(b.value.outlet):null;if(ce&&U.routeConfig===ce.routeConfig){const ht=function(b,E,v){if("function"==typeof v)return v(b,E);switch(v){case"pathParamsChange":return!dn(b.url,E.url);case"pathParamsOrQueryParamsChange":return!dn(b.url,E.url)||!rn(b.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Br(b,E)||!rn(b.queryParams,E.queryParams);default:return!Br(b,E)}}(ce,U,U.routeConfig.runGuardsAndResolvers);ht?k.canActivateChecks.push(new gi(R)):(U.data=ce.data,U._resolvedData=ce._resolvedData),mi(b,E,U.component?Se?Se.children:null:v,R,k),ht&&Se&&Se.outlet&&Se.outlet.isActivated&&k.canDeactivateChecks.push(new mt(Se.outlet.component,ce))}else ce&&xo(E,Se,k),k.canActivateChecks.push(new gi(R)),mi(b,null,U.component?Se?Se.children:null:v,R,k)})(ce,U[ce.value.outlet],v,R.concat([ce.value]),k),delete U[ce.value.outlet]}),q(U,(ce,Se)=>xo(ce,v.getContext(Se),k)),k}function xo(b,E,v){const R=Vr(b),k=b.value;q(R,(U,ce)=>{xo(U,k.component?E?E.children.getContext(ce):null:E,v)}),v.canDeactivateChecks.push(new mt(k.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,k))}class Ki{}function _o(b){return new fe.y(E=>E.error(b))}class Go{constructor(E,v,R,k,U,ce){this.rootComponentType=E,this.config=v,this.urlTree=R,this.url=k,this.paramsInheritanceStrategy=U,this.relativeLinkResolution=ce}recognize(){const E=G(this.urlTree.root,[],[],this.config.filter(ce=>void 0===ce.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,E,Ve);if(null===v)return null;const R=new Pt([],Object.freeze({}),Object.freeze(kn({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new ai(R,v),U=new qt(this.url,k);return this.inheritParamsAndData(U._root),U}inheritParamsAndData(E){const v=E.value,R=Be(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),E.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(E,v,R){return 0===v.segments.length&&v.hasChildren()?this.processChildren(E,v):this.processSegment(E,v,v.segments,R)}processChildren(E,v){const R=[];for(const U of Object.keys(v.children)){const ce=v.children[U],Se=x(E,U),ht=this.processSegmentGroup(Se,ce,U);if(null===ht)return null;R.push(...ht)}const k=vo(R);return k.sort((E,v)=>E.value.outlet===Ve?-1:v.value.outlet===Ve?1:E.value.outlet.localeCompare(v.value.outlet)),k}processSegment(E,v,R,k){for(const U of E){const ce=this.processSegmentAgainstRoute(U,v,R,k);if(null!==ce)return ce}return y(v,R,k)?[]:null}processSegmentAgainstRoute(E,v,R,k){if(E.redirectTo||!S(E,v,R,k))return null;let U,ce=[],Se=[];if("**"===E.path){const or=R.length>0?_e(R).parameters:{};U=new Pt(R,or,Object.freeze(kn({},this.urlTree.queryParams)),this.urlTree.fragment,wo(E),Mr(E),E.component,E,ka(v),Eo(v)+R.length,so(E))}else{const or=O(v,E,R);if(!or.matched)return null;ce=or.consumedSegments,Se=R.slice(or.lastChild),U=new Pt(ce,or.parameters,Object.freeze(kn({},this.urlTree.queryParams)),this.urlTree.fragment,wo(E),Mr(E),E.component,E,ka(v),Eo(v)+ce.length,so(E))}const ht=(b=E).children?b.children:b.loadChildren?b._loadedConfig.routes:[],{segmentGroup:Xt,slicedSegments:sn}=G(v,ce,Se,ht.filter(or=>void 0===or.redirectTo),this.relativeLinkResolution);var b;if(0===sn.length&&Xt.hasChildren()){const or=this.processChildren(ht,Xt);return null===or?null:[new ai(U,or)]}if(0===ht.length&&0===sn.length)return[new ai(U,[])];const In=Mr(E)===k,Ln=this.processSegment(ht,Xt,sn,In?Ve:k);return null===Ln?null:[new ai(U,Ln)]}}function ms(b){const E=b.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function vo(b){const E=[],v=new Set;for(const R of b){if(!ms(R)){E.push(R);continue}const k=E.find(U=>R.value.routeConfig===U.value.routeConfig);void 0!==k?(k.children.push(...R.children),v.add(k)):E.push(R)}for(const R of v){const k=vo(R.children);E.push(new ai(R.value,k))}return E.filter(R=>!v.has(R))}function ka(b){let E=b;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Eo(b){let E=b,v=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift?E._segmentIndexShift:0;return v-1}function wo(b){return b.data||{}}function so(b){return b.resolve||{}}function ma(b){return(0,Bt.w)(E=>{const v=b(E);return v?(0,Ie.D)(v).pipe((0,nt.U)(()=>E)):(0,ze.of)(E)})}class $r extends class{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const Fa=new _.OlP("ROUTES");class La{constructor(E,v,R,k){this.injector=E,this.compiler=v,this.onLoadStartListener=R,this.onLoadEndListener=k}load(E,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const k=this.loadModuleFactory(v.loadChildren).pipe((0,nt.U)(U=>{this.onLoadEndListener&&this.onLoadEndListener(v);const ce=U.create(E);return new Zr(mn(ce.injector.get(Fa,void 0,_.XFs.Self|_.XFs.Optional)).map(Di),ce)}),ee(U=>{throw v._loader$=void 0,U}));return v._loader$=new gt(k,()=>new $.x).pipe(Le()),v._loader$}loadModuleFactory(E){return F(E()).pipe((0,Zt.z)(v=>v instanceof _.YKP?(0,ze.of)(v):(0,Ie.D)(this.compiler.compileModuleAsync(v))))}}class rs{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function Ua(b){throw b}function fu(b,E,v){return E.parse("/")}function is(b,E){return(0,ze.of)(null)}const qs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class b{constructor(v,R,k,U,ce,Se,ht){this.rootComponentType=v,this.urlSerializer=R,this.rootContexts=k,this.location=U,this.config=ht,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $.x,this.errorHandler=Ua,this.malformedUriErrorHandler=fu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:is,afterPreactivation:is},this.urlHandlingStrategy=new rs,this.routeReuseStrategy=new $r,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ce.get(_.h0i),this.console=ce.get(_.c2e);const In=ce.get(_.R0b);this.isNgZoneEnabled=In instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(ht),this.currentUrlTree=new Ze(new et([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new La(ce,Se,Ln=>this.triggerEvent(new Ot(Ln)),Ln=>this.triggerEvent(new zt(Ln))),this.routerState=lr(this.currentUrlTree,this.rootComponentType),this.transitions=new he({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null==(v=this.location.getState())?void 0:v.\u0275routerPageId}setupNavigations(v){const R=this.events;return v.pipe((0,le.h)(k=>0!==k.id),(0,nt.U)(k=>js(kn({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,Bt.w)(k=>{let U=!1,ce=!1;return(0,ze.of)(k).pipe((0,Vt.b)(Se=>{this.currentNavigation={id:Se.id,initialUrl:Se.currentRawUrl,extractedUrl:Se.extractedUrl,trigger:Se.source,extras:Se.extras,previousNavigation:this.lastSuccessfulNavigation?js(kn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Bt.w)(Se=>{const ht=this.browserUrlTree.toString(),Xt=!this.navigated||Se.extractedUrl.toString()!==ht||ht!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Xt)&&this.urlHandlingStrategy.shouldProcessUrl(Se.rawUrl))return ya(Se.source)&&(this.browserUrlTree=Se.extractedUrl),(0,ze.of)(Se).pipe((0,Bt.w)(In=>{const Ln=this.transitions.getValue();return R.next(new vn(In.id,this.serializeUrl(In.extractedUrl),In.source,In.restoredState)),Ln!==this.transitions.getValue()?Et.E:Promise.resolve(In)}),function(b,E,v,R){return(0,Bt.w)(k=>function(b,E,v,R,k){return new gn(b,E,v,R,k).apply()}(b,E,v,k.extractedUrl,R).pipe((0,nt.U)(U=>js(kn({},k),{urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Vt.b)(In=>{this.currentNavigation=js(kn({},this.currentNavigation),{finalUrl:In.urlAfterRedirects})}),function(b,E,v,R,k){return(0,Zt.z)(U=>function(b,E,v,R,k="emptyOnly",U="legacy"){try{const ce=new Go(b,E,v,R,k,U).recognize();return null===ce?_o(new Ki):(0,ze.of)(ce)}catch(ce){return _o(ce)}}(b,E,U.urlAfterRedirects,v(U.urlAfterRedirects),R,k).pipe((0,nt.U)(ce=>js(kn({},U),{targetSnapshot:ce}))))}(this.rootComponentType,this.config,In=>this.serializeUrl(In),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vt.b)(In=>{if("eager"===this.urlUpdateStrategy){if(!In.extras.skipLocationChange){const or=this.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);this.setBrowserUrl(or,In)}this.browserUrlTree=In.urlAfterRedirects}const Ln=new Zn(In.id,this.serializeUrl(In.extractedUrl),this.serializeUrl(In.urlAfterRedirects),In.targetSnapshot);R.next(Ln)}));if(Xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ln,extractedUrl:or,source:qi,restoredState:br,extras:os}=Se,Ni=new vn(Ln,this.serializeUrl(or),qi,br);R.next(Ni);const Er=lr(or,this.rootComponentType).snapshot;return(0,ze.of)(js(kn({},Se),{targetSnapshot:Er,urlAfterRedirects:or,extras:js(kn({},os),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Se.rawUrl,Se.resolve(null),Et.E}),ma(Se=>{const{targetSnapshot:ht,id:Xt,extractedUrl:sn,rawUrl:In,extras:{skipLocationChange:Ln,replaceUrl:or}}=Se;return this.hooks.beforePreactivation(ht,{navigationId:Xt,appliedUrlTree:sn,rawUrlTree:In,skipLocationChange:!!Ln,replaceUrl:!!or})}),(0,Vt.b)(Se=>{const ht=new Un(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot);this.triggerEvent(ht)}),(0,nt.U)(Se=>js(kn({},Se),{guards:jn(Se.targetSnapshot,Se.currentSnapshot,this.rootContexts)})),function(b,E){return(0,Zt.z)(v=>{const{targetSnapshot:R,currentSnapshot:k,guards:{canActivateChecks:U,canDeactivateChecks:ce}}=v;return 0===ce.length&&0===U.length?(0,ze.of)(js(kn({},v),{guardsResult:!0})):function(b,E,v,R){return(0,Ie.D)(b).pipe((0,Zt.z)(k=>function(b,E,v,R,k){const U=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,ze.of)(!0);const ce=U.map(Se=>{const ht=Sn(Se,E,k);let Xt;if(function(b){return b&&Dr(b.canDeactivate)}(ht))Xt=F(ht.canDeactivate(b,E,v,R));else{if(!Dr(ht))throw new Error("Invalid CanDeactivate guard");Xt=F(ht(b,E,v,R))}return Xt.pipe((0,en.P)())});return(0,ze.of)(ce).pipe(kr())}(k.component,k.route,v,E,R)),(0,en.P)(k=>!0!==k,!0))}(ce,R,k,b).pipe((0,Zt.z)(Se=>Se&&function(b){return"boolean"==typeof b}(Se)?function(b,E,v,R){return(0,Ie.D)(E).pipe((0,Ht.b)(k=>(0,xe.z)(function(b,E){return null!==b&&E&&E(new bn(b)),(0,ze.of)(!0)}(k.route.parent,R),function(b,E){return null!==b&&E&&E(new Ge(b)),(0,ze.of)(!0)}(k.route,R),function(b,E,v){const R=E[E.length-1],U=E.slice(0,E.length-1).reverse().map(ce=>function(b){const E=b.routeConfig?b.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:b,guards:E}:null}(ce)).filter(ce=>null!==ce).map(ce=>Me(()=>{const Se=ce.guards.map(ht=>{const Xt=Sn(ht,ce.node,v);let sn;if(function(b){return b&&Dr(b.canActivateChild)}(Xt))sn=F(Xt.canActivateChild(R,b));else{if(!Dr(Xt))throw new Error("Invalid CanActivateChild guard");sn=F(Xt(R,b))}return sn.pipe((0,en.P)())});return(0,ze.of)(Se).pipe(kr())}));return(0,ze.of)(U).pipe(kr())}(b,k.path,v),function(b,E,v){const R=E.routeConfig?E.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ze.of)(!0);const k=R.map(U=>Me(()=>{const ce=Sn(U,E,v);let Se;if(function(b){return b&&Dr(b.canActivate)}(ce))Se=F(ce.canActivate(E,b));else{if(!Dr(ce))throw new Error("Invalid CanActivate guard");Se=F(ce(E,b))}return Se.pipe((0,en.P)())}));return(0,ze.of)(k).pipe(kr())}(b,k.route,v))),(0,en.P)(k=>!0!==k,!0))}(R,U,b,E):(0,ze.of)(Se)),(0,nt.U)(Se=>js(kn({},v),{guardsResult:Se})))})}(this.ngModule.injector,Se=>this.triggerEvent(Se)),(0,Vt.b)(Se=>{if(Yr(Se.guardsResult)){const Xt=Dt(`Redirecting to "${this.serializeUrl(Se.guardsResult)}"`);throw Xt.url=Se.guardsResult,Xt}const ht=new En(Se.id,this.serializeUrl(Se.extractedUrl),this.serializeUrl(Se.urlAfterRedirects),Se.targetSnapshot,!!Se.guardsResult);this.triggerEvent(ht)}),(0,le.h)(Se=>!!Se.guardsResult||(this.restoreHistory(Se),this.cancelNavigationTransition(Se,""),!1)),ma(Se=>{if(Se.guards.canActivateChecks.length)return(0,ze.of)(Se).pipe((0,Vt.b)(ht=>{const Xt=new er(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Xt)}),(0,Bt.w)(ht=>{let Xt=!1;return(0,ze.of)(ht).pipe(function(b,E){return(0,Zt.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:k}}=v;if(!k.length)return(0,ze.of)(v);let U=0;return(0,Ie.D)(k).pipe((0,Ht.b)(ce=>function(b,E,v,R){return function(b,E,v,R){const k=Object.keys(b);if(0===k.length)return(0,ze.of)({});const U={};return(0,Ie.D)(k).pipe((0,Zt.z)(ce=>function(b,E,v,R){const k=Sn(b,E,R);return F(k.resolve?k.resolve(E,v):k(E,v))}(b[ce],E,v,R).pipe((0,Vt.b)(Se=>{U[ce]=Se}))),ae(1),(0,Zt.z)(()=>Object.keys(U).length===k.length?(0,ze.of)(U):Et.E))}(b._resolve,b,E,R).pipe((0,nt.U)(U=>(b._resolvedData=U,b.data=kn(kn({},b.data),Be(b,v).resolve),null)))}(ce.route,R,b,E)),(0,Vt.b)(()=>U++),ae(1),(0,Zt.z)(ce=>U===k.length?(0,ze.of)(v):Et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Vt.b)({next:()=>Xt=!0,complete:()=>{Xt||(this.restoreHistory(ht),this.cancelNavigationTransition(ht,"At least one route resolver didn't emit any value."))}}))}),(0,Vt.b)(ht=>{const Xt=new tr(ht.id,this.serializeUrl(ht.extractedUrl),this.serializeUrl(ht.urlAfterRedirects),ht.targetSnapshot);this.triggerEvent(Xt)}))}),ma(Se=>{const{targetSnapshot:ht,id:Xt,extractedUrl:sn,rawUrl:In,extras:{skipLocationChange:Ln,replaceUrl:or}}=Se;return this.hooks.afterPreactivation(ht,{navigationId:Xt,appliedUrlTree:sn,rawUrlTree:In,skipLocationChange:!!Ln,replaceUrl:!!or})}),(0,nt.U)(Se=>{const ht=function(b,E,v){const R=Rr(b,E._root,v?v._root:void 0);return new hi(R,E)}(this.routeReuseStrategy,Se.targetSnapshot,Se.currentRouterState);return js(kn({},Se),{targetRouterState:ht})}),(0,Vt.b)(Se=>{this.currentUrlTree=Se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.urlAfterRedirects,Se.rawUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Se),this.browserUrlTree=Se.urlAfterRedirects)}),((b,E,v)=>(0,nt.U)(R=>(new fs(E,R.targetRouterState,R.currentRouterState,v).activate(b),R)))(this.rootContexts,this.routeReuseStrategy,Se=>this.triggerEvent(Se)),(0,Vt.b)({next(){U=!0},complete(){U=!0}}),function(b){return(0,qe.e)((E,v)=>{try{E.subscribe(v)}finally{v.add(b)}})}(()=>{var Se;U||ce||this.cancelNavigationTransition(k,`Navigation ID ${k.id} is not equal to the current navigation id ${this.navigationId}`),(null==(Se=this.currentNavigation)?void 0:Se.id)===k.id&&(this.currentNavigation=null)}),ee(Se=>{if(ce=!0,function(b){return b&&b[pt]}(Se)){const ht=Yr(Se.url);ht||(this.navigated=!0,this.restoreHistory(k,!0));const Xt=new Fn(k.id,this.serializeUrl(k.extractedUrl),Se.message);R.next(Xt),ht?setTimeout(()=>{const sn=this.urlHandlingStrategy.merge(Se.url,this.rawUrlTree),In={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ya(k.source)};this.scheduleNavigation(sn,"imperative",null,In,{resolve:k.resolve,reject:k.reject,promise:k.promise})},0):k.resolve(!1)}else{this.restoreHistory(k,!0);const ht=new Kn(k.id,this.serializeUrl(k.extractedUrl),Se);R.next(ht);try{k.resolve(this.errorHandler(Se))}catch(Xt){k.reject(Xt)}}return Et.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(kn(kn({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{var Se;const k={replaceUrl:!0},U=(null==(Se=v.state)?void 0:Se.navigationId)?v.state:null;if(U){const ht=kn({},U);delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(k.state=ht)}const ce=this.parseUrl(v.url);this.scheduleNavigation(ce,R,U,k)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){Ss(v),this.config=v.map(Di),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,R={}){const{relativeTo:k,queryParams:U,fragment:ce,queryParamsHandling:Se,preserveFragment:ht}=R,Xt=k||this.routerState.root,sn=ht?this.currentUrlTree.fragment:ce;let In=null;switch(Se){case"merge":In=kn(kn({},this.currentUrlTree.queryParams),U);break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=U||null}return null!==In&&(In=this.removeEmptyProps(In)),function(b,E,v,R,k){if(0===v.length)return Ri(E.root,E.root,E,R,k);const U=function(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Cs(!0,0,b);let E=0,v=!1;const R=b.reduce((k,U,ce)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Se={};return q(U.outlets,(ht,Xt)=>{Se[Xt]="string"==typeof ht?ht.split("/"):ht}),[...k,{outlets:Se}]}if(U.segmentPath)return[...k,U.segmentPath]}return"string"!=typeof U?[...k,U]:0===ce?(U.split("/").forEach((Se,ht)=>{0==ht&&"."===Se||(0==ht&&""===Se?v=!0:".."===Se?E++:""!=Se&&k.push(Se))}),k):[...k,U]},[]);return new Cs(v,E,R)}(v);if(U.toRoot())return Ri(E.root,new et([],{}),E,R,k);const ce=function(b,E,v){if(b.isAbsolute)return new ds(E.root,!0,0);if(-1===v.snapshot._lastPathIndex){const U=v.snapshot._urlSegment;return new ds(U,U===E.root,0)}const R=Gr(b.commands[0])?0:1;return function(b,E,v){let R=b,k=E,U=v;for(;U>k;){if(U-=k,R=R.parent,!R)throw new Error("Invalid number of '../'");k=R.segments.length}return new ds(R,!1,k-U)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+R,b.numberOfDoubleDots)}(U,E,b),Se=ce.processChildren?Wi(ce.segmentGroup,ce.index,U.commands):wi(ce.segmentGroup,ce.index,U.commands);return Ri(ce.segmentGroup,Se,E,R,k)}(Xt,this.currentUrlTree,v,In,null!=sn?sn:null)}navigateByUrl(v,R={skipLocationChange:!1}){const k=Yr(v)?v:this.parseUrl(v),U=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,R)}navigate(v,R={skipLocationChange:!1}){return function(b){for(let E=0;E<b.length;E++){const v=b[E];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${E}`)}}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(k){R=this.malformedUriErrorHandler(k,this.urlSerializer,v)}return R}isActive(v,R){let k;if(k=!0===R?kn({},qs):!1===R?kn({},oo):R,Yr(v))return He(this.currentUrlTree,v,k);const U=this.parseUrl(v);return He(this.currentUrlTree,U,k)}removeEmptyProps(v){return Object.keys(v).reduce((R,k)=>{const U=v[k];return null!=U&&(R[k]=U),R},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Rn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,R,k,U,ce){var Ni,Er,Oi;if(this.disposed)return Promise.resolve(!1);const Se=this.transitions.value,ht=ya(R)&&Se&&!ya(Se.source),Xt=Se.rawUrl.toString()===v.toString(),sn=Se.id===(null==(Ni=this.currentNavigation)?void 0:Ni.id);if(ht&&Xt&&sn)return Promise.resolve(!0);let Ln,or,qi;ce?(Ln=ce.resolve,or=ce.reject,qi=ce.promise):qi=new Promise((as,co)=>{Ln=as,or=co});const br=++this.navigationId;let os;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),os=k&&k.\u0275routerPageId?k.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?null!=(Er=this.browserPageId)?Er:0:(null!=(Oi=this.browserPageId)?Oi:0)+1):os=0,this.setTransition({id:br,targetPageId:os,source:R,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:U,resolve:Ln,reject:or,promise:qi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qi.catch(as=>Promise.reject(as))}setBrowserUrl(v,R){const k=this.urlSerializer.serialize(v),U=kn(kn({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(k)||R.extras.replaceUrl?this.location.replaceState(k,"",U):this.location.go(k,"",U)}restoreHistory(v,R=!1){var k,U;if("computed"===this.canceledNavigationResolution){const ce=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(k=this.currentNavigation)?void 0:k.finalUrl)||0===ce?this.currentUrlTree===(null==(U=this.currentNavigation)?void 0:U.finalUrl)&&0===ce&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ce)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,R){const k=new Fn(v.id,this.serializeUrl(v.extractedUrl),R);this.triggerEvent(k),v.resolve(!1)}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}}return b.\u0275fac=function(v){_.$Z()},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();function ya(b){return"imperative"!==b}let ss=(()=>{class b{constructor(v,R,k,U,ce){this.router=v,this.route=R,this.tabIndexAttribute=k,this.renderer=U,this.el=ce,this.commands=null,this.onChanges=new $.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const R=this.renderer,k=this.el.nativeElement;null!==v?R.setAttribute(k,"tabindex",v):R.removeAttribute(k,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const v={skipLocationChange:ys(this.skipLocationChange),replaceUrl:ys(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ys(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(_.Y36(li),_.Y36(Ne),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},b.\u0275dir=_.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,R){1&v&&_.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),b})(),Rs=(()=>{class b{constructor(v,R,k){this.router=v,this.route=R,this.locationStrategy=k,this.commands=null,this.href=null,this.onChanges=new $.x,this.subscription=v.events.subscribe(U=>{U instanceof Rn&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,R,k,U,ce){if(0!==v||R||k||U||ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Se={skipLocationChange:ys(this.skipLocationChange),replaceUrl:ys(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Se),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ys(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(_.Y36(li),_.Y36(Ne),_.Y36(f.S$))},b.\u0275dir=_.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,R){1&v&&_.NdJ("click",function(U){return R.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&v&&_.uIk("target",R.target)("href",R.href,_.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),b})();function ys(b){return""===b||!!b}class Qr{}class uo{preload(E,v){return(0,ze.of)(null)}}let gu=(()=>{class b{constructor(v,R,k,U){this.router=v,this.injector=k,this.preloadingStrategy=U,this.loader=new La(k,R,ht=>v.triggerEvent(new Ot(ht)),ht=>v.triggerEvent(new zt(ht)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,le.h)(v=>v instanceof Rn),(0,Ht.b)(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(_.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const k=[];for(const U of R)if(U.loadChildren&&!U.canLoad&&U._loadedConfig){const ce=U._loadedConfig;k.push(this.processRoutes(ce.module,ce.routes))}else U.loadChildren&&!U.canLoad?k.push(this.preloadConfig(v,U)):U.children&&k.push(this.processRoutes(v,U.children));return(0,Ie.D)(k).pipe((0,cn.J)(),(0,nt.U)(U=>{}))}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,ze.of)(R._loadedConfig):this.loader.load(v.injector,R)).pipe((0,Zt.z)(U=>(R._loadedConfig=U,this.processRoutes(U.module,U.routes)))))}}return b.\u0275fac=function(v){return new(v||b)(_.LFG(li),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(Qr))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})(),vl=(()=>{class b{constructor(v,R,k={}){this.router=v,this.viewportScroller=R,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Rn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ge&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.router.triggerEvent(new ge(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(v){_.$Z()},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();const Nr=new _.OlP("ROUTER_CONFIGURATION"),Zs=new _.OlP("ROUTER_FORROOT_GUARD"),qo=[f.Ye,{provide:Yn,useClass:xn},{provide:li,useFactory:function(b,E,v,R,k,U,ce={},Se,ht){const Xt=new li(null,b,E,v,R,k,mn(U));return Se&&(Xt.urlHandlingStrategy=Se),ht&&(Xt.routeReuseStrategy=ht),function(b,E){b.errorHandler&&(E.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(E.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(E.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(E.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(E.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(E.canceledNavigationResolution=b.canceledNavigationResolution)}(ce,Xt),ce.enableTracing&&Xt.events.subscribe(sn=>{var In,Ln;null==(In=console.group)||In.call(console,`Router Event: ${sn.constructor.name}`),console.log(sn.toString()),console.log(sn),null==(Ln=console.groupEnd)||Ln.call(console)}),Xt},deps:[Yn,Ci,f.Ye,_.zs3,_.Sil,Fa,Nr,[class{},new _.FiY],[class{},new _.FiY]]},Ci,{provide:Ne,useFactory:function(b){return b.routerState.root},deps:[li]},gu,uo,class{preload(E,v){return v().pipe(ee(()=>(0,ze.of)(null)))}},{provide:Nr,useValue:{enableTracing:!1}}];function _n(){return new _.PXZ("Router",li)}let Dn=(()=>{class b{constructor(v,R){}static forRoot(v,R){return{ngModule:b,providers:[qo,kt(v),{provide:Zs,useFactory:st,deps:[[li,new _.FiY,new _.tp0]]},{provide:Nr,useValue:R||{}},{provide:f.S$,useFactory:jt,deps:[f.lw,[new _.tBr(f.mr),new _.FiY],Nr]},{provide:vl,useFactory:Zo,deps:[li,f.EM,Nr]},{provide:Qr,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:uo},{provide:_.PXZ,multi:!0,useFactory:_n},[Ba,{provide:_.ip1,multi:!0,useFactory:$u,deps:[Ba]},{provide:lo,useFactory:El,deps:[Ba]},{provide:_.tb,multi:!0,useExisting:lo}]]}}static forChild(v){return{ngModule:b,providers:[kt(v)]}}}return b.\u0275fac=function(v){return new(v||b)(_.LFG(Zs,8),_.LFG(li,8))},b.\u0275mod=_.oAB({type:b}),b.\u0275inj=_.cJS({}),b})();function Zo(b,E,v){return v.scrollOffset&&E.setOffset(v.scrollOffset),new vl(b,E,v)}function jt(b,E,v={}){return v.useHash?new f.Do(b,E):new f.b0(b,E)}function st(b){return"guarded"}function kt(b){return[{provide:_.deG,multi:!0,useValue:b},{provide:Fa,multi:!0,useValue:b}]}let Ba=(()=>{class b{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $.x}appInitializer(){return this.injector.get(f.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const k=new Promise(Se=>R=Se),U=this.injector.get(li),ce=this.injector.get(Nr);return"disabled"===ce.initialNavigation?(U.setUpLocationChangeListener(),R(!0)):"enabled"===ce.initialNavigation||"enabledBlocking"===ce.initialNavigation?(U.hooks.afterPreactivation=()=>this.initNavigation?(0,ze.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),U.initialNavigation()):R(!0),k})}bootstrapListener(v){const R=this.injector.get(Nr),k=this.injector.get(gu),U=this.injector.get(vl),ce=this.injector.get(li),Se=this.injector.get(_.z2F);v===Se.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&ce.initialNavigation(),k.setUpPreloading(),U.init(),ce.resetRootComponentType(Se.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(v){return new(v||b)(_.LFG(_.zs3))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac}),b})();function $u(b){return b.appInitializer.bind(b)}function El(b){return b.bootstrapListener.bind(b)}const lo=new _.OlP("Router Initializer")},6293:(Lt,je,N)=>{"use strict";N.d(je,{Z:()=>_t});var f=N(4213),_=N(1177),$=N(1572),he=N(3855);class fe{constructor(oe,Me){this._delegate=oe,this.firebase=Me,(0,$._addComponent)(oe,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(oe,Me=$._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(oe);return!qe.isInitialized()&&"EXPLICIT"===(null===(We=qe.getComponent())||void 0===We?void 0:We.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Me})}_removeServiceInstance(oe,Me=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(Me)}_addComponent(oe){(0,$._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,$._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Pe(){const yt=function(yt){const oe={},Me={__esModule:!0,initializeApp:function(xe,Et={}){const ee=$.initializeApp(xe,Et);if((0,f.r3)(oe,ee.name))return oe[ee.name];const le=new yt(ee,Me);return oe[ee.name]=le,le},app:qe,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function(xe){const Et=xe.name,ee=Et.replace("-compat","");if($._registerComponent(xe)&&"PUBLIC"===xe.type){const le=(ae=qe())=>{if("function"!=typeof ae[ee])throw Ie.create("invalid-app-argument",{appName:Et});return ae[ee]()};void 0!==xe.serviceProps&&(0,f.ZB)(le,xe.serviceProps),Me[ee]=le,yt.prototype[ee]=function(...ae){return this._getService.bind(this,Et).apply(this,xe.multipleInstances?ae:[])}}return"PUBLIC"===xe.type?Me[ee]:null},removeApp:function(xe){delete oe[xe]},useAsService:function(xe,Et){return"serverAuth"===Et?null:Et},modularAPIs:$}};function qe(xe){if(!(0,f.r3)(oe,xe=xe||$._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:xe});return oe[xe]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function(){return Object.keys(oe).map(xe=>oe[xe])}}),qe.App=yt,Me}(fe);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function(Me){(0,f.ZB)(yt,Me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),yt}(),ie=new he.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _t=Y;(0,$.registerVersion)("@firebase/app-compat","0.1.10",undefined)},1572:(Lt,je,N)=>{"use strict";N.r(je),N.d(je,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>en,_apps:()=>Ct,_clearComponents:()=>Jt,_components:()=>$t,_getProvider:()=>Vt,_registerComponent:()=>Zt,_removeServiceInstance:()=>cn,deleteApp:()=>er,getApp:()=>Un,getApps:()=>En,initializeApp:()=>Zn,onLog:()=>zt,registerVersion:()=>Ot,setLogLevel:()=>bn});var f=N(8239),_=N(1177),$=N(3855),he=N(4213);class fe{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function(Ge){const ue=Ge.getComponent();return"VERSION"===(null==ue?void 0:ue.type)}(ge)){const Ve=ge.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(ge=>ge).join(" ")}}const Ie="@firebase/app",Pe=new $.Yd("@firebase/app"),Bt="[DEFAULT]",rt={[Ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,$t=new Map;function Ht(Ge,ue){try{Ge.container.addComponent(ue)}catch(ge){Pe.debug(`Component ${ue.name} failed to register with FirebaseApp ${Ge.name}`,ge)}}function en(Ge,ue){Ge.container.addOrOverwriteComponent(ue)}function Zt(Ge){const ue=Ge.name;if($t.has(ue))return Pe.debug(`There were multiple attempts to register component ${ue}.`),!1;$t.set(ue,Ge);for(const ge of Ct.values())Ht(ge,Ge);return!0}function Vt(Ge,ue){return Ge.container.getProvider(ue)}function cn(Ge,ue,ge=Bt){Vt(Ge,ue).clearInstance(ge)}function Jt(){$t.clear()}const Rn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Fn{constructor(ue,ge,Ve){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const Kn="9.5.0";function Zn(Ge,ue={}){"object"!=typeof ue&&(ue={name:ue});const ge=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},ue),Ve=ge.name;if("string"!=typeof Ve||!Ve)throw Rn.create("bad-app-name",{appName:String(Ve)});const dt=Ct.get(Ve);if(dt){if((0,he.vZ)(Ge,dt.options)&&(0,he.vZ)(ge,dt.config))return dt;throw Rn.create("duplicate-app",{appName:Ve})}const St=new _.H0(Ve);for(const Dt of $t.values())St.addComponent(Dt);const pt=new Fn(Ge,ge,St);return Ct.set(Ve,pt),pt}function Un(Ge=Bt){const ue=Ct.get(Ge);if(!ue)throw Rn.create("no-app",{appName:Ge});return ue}function En(){return Array.from(Ct.values())}function er(Ge){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(Ge){const ue=Ge.name;Ct.has(ue)&&(Ct.delete(ue),yield Promise.all(Ge.container.getProviders().map(ge=>ge.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function Ot(Ge,ue,ge){var Ve;let dt=null!==(Ve=rt[Ge])&&void 0!==Ve?Ve:Ge;ge&&(dt+=`-${ge}`);const St=dt.match(/\s|\//),pt=ue.match(/\s|\//);if(St||pt){const Dt=[`Unable to register library "${dt}" with version "${ue}":`];return St&&Dt.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),St&&pt&&Dt.push("and"),pt&&Dt.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void Pe.warn(Dt.join(" "))}Zt(new _.wA(`${dt}-version`,()=>({library:dt,version:ue}),"VERSION"))}function zt(Ge,ue){if(null!==Ge&&"function"!=typeof Ge)throw Rn.create("invalid-log-argument");(0,$.Am)(Ge,ue)}function bn(Ge){(0,$.Ub)(Ge)}Zt(new _.wA("platform-logger",ue=>new fe(ue),"PRIVATE")),Ot(Ie,"0.7.9",""),Ot(Ie,"0.7.9","esm2017"),Ot("fire-js","")},1177:(Lt,je,N)=>{"use strict";N.d(je,{wA:()=>$,H0:()=>te});var f=N(8239),_=N(4213);class ${constructor(Y,ie,Re){this.name=Y,this.instanceFactory=ie,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const he="[DEFAULT]";class fe{constructor(Y,ie){this.name=Y,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const ie=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(ie)){const Re=new _.BH;if(this.instancesDeferred.set(ie,Re),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ie});Qe&&Re.resolve(Qe)}catch(Qe){}}return this.instancesDeferred.get(ie).promise}getImmediate(Y){var ie;const Re=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),Qe=null!==(ie=null==Y?void 0:Y.optional)&&void 0!==ie&&ie;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Ke){if(Qe)return null;throw Ke}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if("EAGER"===Y.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(ie){}for(const[ie,Re]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ie);try{const Ke=this.getOrInitializeService({instanceIdentifier:Qe});Re.resolve(Ke)}catch(Ke){}}}}clearInstance(Y=he){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,f.Z)(function*(){const ie=Array.from(Y.instances.values());yield Promise.all([...ie.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ie.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=he){return this.instances.has(Y)}getOptions(Y=he){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:ie={}}=Y,Re=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:Re,options:ie});for(const[Ke,_t]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Ke)&&_t.resolve(Qe);return Qe}onInit(Y,ie){var Re;const Qe=this.normalizeInstanceIdentifier(ie),Ke=null!==(Re=this.onInitCallbacks.get(Qe))&&void 0!==Re?Re:new Set;Ke.add(Y),this.onInitCallbacks.set(Qe,Ke);const _t=this.instances.get(Qe);return _t&&Y(_t,Qe),()=>{Ke.delete(Y)}}invokeOnInitCallbacks(Y,ie){const Re=this.onInitCallbacks.get(ie);if(Re)for(const Qe of Re)try{Qe(Y,ie)}catch(Ke){}}getOrInitializeService({instanceIdentifier:Y,options:ie={}}){let Re=this.instances.get(Y);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=Y,Pe===he?void 0:Pe),options:ie}),this.instances.set(Y,Re),this.instancesOptions.set(Y,ie),this.invokeOnInitCallbacks(Re,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,Re)}catch(Qe){}var Pe;return Re||null}normalizeInstanceIdentifier(Y=he){return this.component?this.component.multipleInstances?Y:he:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const ie=this.getProvider(Y.name);if(ie.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);ie.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const ie=new fe(Y,this);return this.providers.set(Y,ie),ie}getProviders(){return Array.from(this.providers.values())}}},8094:(Lt,je,N)=>{"use strict";var f=N(8239),_=N(1572),$=N(1177),he=N(4213),fe=N(4995);const Ae="@firebase/installations",Pe="w:0.5.4",Y="FIS_v2",yt=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oe(we){return we instanceof he.ZR&&we.code.includes("request-failed")}function Me({projectId:we}){return`https://firebaseinstallations.googleapis.com/v1/projects/${we}/installations`}function We(we){return{token:we.token,requestStatus:2,expiresIn:Et(we.expiresIn),creationTime:Date.now()}}function qe(we,tt){return Le.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(we,tt){const wt=(yield tt.json()).error;return yt.create("request-failed",{requestName:we,serverCode:wt.code,serverMessage:wt.message,serverStatus:wt.status})})).apply(this,arguments)}function gt({apiKey:we}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":we})}function ze(we,{refreshToken:tt}){const At=gt(we);return At.append("Authorization",function(we){return`${Y} ${we}`}(tt)),At}function vt(we){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(we){const tt=yield we();return tt.status>=500&&tt.status<600?we():tt})).apply(this,arguments)}function Et(we){return Number(we.replace("s","000"))}function le(we,tt){return ae.apply(this,arguments)}function ae(){return(ae=(0,f.Z)(function*(we,{fid:tt}){const At=Me(we),An={method:"POST",headers:gt(we),body:JSON.stringify({fid:tt,authVersion:Y,appId:we.appId,sdkVersion:Pe})},yr=yield vt(()=>fetch(At,An));if(yr.ok){const Pn=yield yr.json();return{fid:Pn.fid||tt,registrationStatus:2,refreshToken:Pn.refreshToken,authToken:We(Pn.authToken)}}throw yield qe("Create Installation",yr)})).apply(this,arguments)}function Ce(we){return new Promise(tt=>{setTimeout(tt,we)})}const pe=/^[cdef][\w-]{21}$/;function nt(){try{const we=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(we),we[0]=112+we[0]%16;const At=function(we){return function(we){return btoa(String.fromCharCode(...we)).replace(/\+/g,"-").replace(/\//g,"_")}(we).substr(0,22)}(we);return pe.test(At)?At:""}catch(we){return""}}function rt(we){return`${we.appName}!${we.appId}`}const Ct=new Map;function $t(we,tt){const At=rt(we);Zt(At,tt),function(we,tt){const At=(!cn&&"BroadcastChannel"in self&&(cn=new BroadcastChannel("[Firebase] FID Change"),cn.onmessage=we=>{Zt(we.data.key,we.data.fid)}),cn);At&&At.postMessage({key:we,fid:tt}),0===Ct.size&&cn&&(cn.close(),cn=null)}(At,tt)}function Zt(we,tt){const At=Ct.get(we);if(At)for(const wt of At)wt(tt)}let cn=null;const Kn="firebase-installations-store";let Zn=null;function Un(){return Zn||(Zn=(0,fe.openDb)("firebase-installations-database",1,we=>{0===we.oldVersion&&we.createObjectStore(Kn)})),Zn}function En(we,tt){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(we,tt){const At=rt(we),Wn=(yield Un()).transaction(Kn,"readwrite"),An=Wn.objectStore(Kn),yr=yield An.get(At);return yield An.put(tt,At),yield Wn.complete,(!yr||yr.fid!==tt.fid)&&$t(we,tt.fid),tt})).apply(this,arguments)}function tr(we){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,f.Z)(function*(we){const tt=rt(we),wt=(yield Un()).transaction(Kn,"readwrite");yield wt.objectStore(Kn).delete(tt),yield wt.complete})).apply(this,arguments)}function zt(we,tt){return bn.apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(we,tt){const At=rt(we),Wn=(yield Un()).transaction(Kn,"readwrite"),An=Wn.objectStore(Kn),yr=yield An.get(At),Pn=tt(yr);return void 0===Pn?yield An.delete(At):yield An.put(Pn,At),yield Wn.complete,Pn&&(!yr||yr.fid!==Pn.fid)&&$t(we,Pn.fid),Pn})).apply(this,arguments)}function qn(we){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(we){let tt;const At=yield zt(we,wt=>{const Wn=ue(wt),An=ge(we,Wn);return tt=An.registrationPromise,An.installationEntry});return""===At.fid?{installationEntry:yield tt}:{installationEntry:At,registrationPromise:tt}})).apply(this,arguments)}function ue(we){return tn(we||{fid:nt(),registrationStatus:0})}function ge(we,tt){if(0===tt.registrationStatus){if(!navigator.onLine)return{installationEntry:tt,registrationPromise:Promise.reject(yt.create("app-offline"))};const At={fid:tt.fid,registrationStatus:1,registrationTime:Date.now()},wt=function(we,tt){return dt.apply(this,arguments)}(we,At);return{installationEntry:At,registrationPromise:wt}}return 1===tt.registrationStatus?{installationEntry:tt,registrationPromise:St(we)}:{installationEntry:tt}}function dt(){return(dt=(0,f.Z)(function*(we,tt){try{return En(we,yield le(we,tt))}catch(At){throw oe(At)&&409===At.customData.serverCode?yield tr(we):yield En(we,{fid:tt.fid,registrationStatus:0}),At}})).apply(this,arguments)}function St(we){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(we){let tt=yield Dt(we);for(;1===tt.registrationStatus;)yield Ce(100),tt=yield Dt(we);if(0===tt.registrationStatus){const{installationEntry:At,registrationPromise:wt}=yield qn(we);return wt||At}return tt})).apply(this,arguments)}function Dt(we){return zt(we,tt=>{if(!tt)throw yt.create("installation-not-found");return tn(tt)})}function tn(we){return function(we){return 1===we.registrationStatus&&we.registrationTime+1e4<Date.now()}(we)?{fid:we.fid,registrationStatus:0}:we}function nr(we,tt){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.Z)(function*({appConfig:we,platformLoggerProvider:tt},At){const wt=pn(we,At),Wn=ze(we,At),An=tt.getImmediate({optional:!0});An&&Wn.append("x-firebase-client",An.getPlatformInfoString());const Pn={method:"POST",headers:Wn,body:JSON.stringify({installation:{sdkVersion:Pe}})},hr=yield vt(()=>fetch(wt,Pn));if(hr.ok)return We(yield hr.json());throw yield qe("Generate Auth Token",hr)})).apply(this,arguments)}function pn(we,{fid:tt}){return`${Me(we)}/${tt}/authTokens:generate`}function mn(we){return _e.apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(we,tt=!1){let At;const wt=yield zt(we.appConfig,An=>{if(!se(An))throw yt.create("not-registered");const yr=An.authToken;if(!tt&&He(yr))return An;if(1===yr.requestStatus)return At=me(we,tt),An;{if(!navigator.onLine)throw yt.create("app-offline");const Pn=Rt(An);return At=V(we,Pn),Pn}});return At?yield At:wt.authToken})).apply(this,arguments)}function me(we,tt){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(we,tt){let At=yield F(we.appConfig);for(;1===At.authToken.requestStatus;)yield Ce(100),At=yield F(we.appConfig);const wt=At.authToken;return 0===wt.requestStatus?mn(we,tt):wt})).apply(this,arguments)}function F(we){return zt(we,tt=>{if(!se(tt))throw yt.create("not-registered");return function(we){return 1===we.requestStatus&&we.requestTime+1e4<Date.now()}(tt.authToken)?Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}}):tt})}function V(we,tt){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,f.Z)(function*(we,tt){try{const At=yield nr(we,tt),wt=Object.assign(Object.assign({},tt),{authToken:At});return yield En(we.appConfig,wt),At}catch(At){if(!oe(At)||401!==At.customData.serverCode&&404!==At.customData.serverCode){const wt=Object.assign(Object.assign({},tt),{authToken:{requestStatus:0}});yield En(we.appConfig,wt)}else yield tr(we.appConfig);throw At}})).apply(this,arguments)}function se(we){return void 0!==we&&2===we.registrationStatus}function He(we){return 2===we.requestStatus&&!function(we){const tt=Date.now();return tt<we.creationTime||we.creationTime+we.expiresIn<tt+36e5}(we)}function Rt(we){const tt={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},we),{authToken:tt})}function re(){return(re=(0,f.Z)(function*(we){const tt=we,{installationEntry:At,registrationPromise:wt}=yield qn(tt.appConfig);return wt?wt.catch(console.error):mn(tt).catch(console.error),At.fid})).apply(this,arguments)}function Ze(){return(Ze=(0,f.Z)(function*(we,tt=!1){const At=we;return yield et(At.appConfig),(yield mn(At,tt)).token})).apply(this,arguments)}function et(we){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,f.Z)(function*(we){const{registrationPromise:tt}=yield qn(we);tt&&(yield tt)})).apply(this,arguments)}function an(we){return yt.create("missing-app-config-values",{valueName:we})}const $n="installations";(0,_._registerComponent)(new $.wA($n,we=>{const tt=we.getProvider("app").getImmediate(),At=function(we){if(!we||!we.options)throw an("App Configuration");if(!we.name)throw an("App Name");const tt=["projectId","apiKey","appId"];for(const At of tt)if(!we.options[At])throw an(At);return{appName:we.name,projectId:we.options.projectId,apiKey:we.options.apiKey,appId:we.options.appId}}(tt);return{app:tt,appConfig:At,platformLoggerProvider:(0,_._getProvider)(tt,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,_._registerComponent)(new $.wA("installations-internal",we=>{const tt=we.getProvider("app").getImmediate(),At=(0,_._getProvider)(tt,$n).getImmediate();return{getId:()=>function(we){return re.apply(this,arguments)}(At),getToken:Wn=>function(we){return Ze.apply(this,arguments)}(At,Wn)}},"PRIVATE")),(0,_.registerVersion)(Ae,"0.5.4"),(0,_.registerVersion)(Ae,"0.5.4","esm2017")},3855:(Lt,je,N)=>{"use strict";N.d(je,{in:()=>_,Yd:()=>Ie,Ub:()=>te,Am:()=>Pe});const f=[];var _=(()=>{return(Y=_||(_={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",_;var Y})();const $={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},he=_.INFO,fe={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Ae=(Y,ie,...Re)=>{if(ie<Y.logLevel)return;const Qe=(new Date).toISOString(),Ke=fe[ie];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ke](`[${Qe}]  ${Y.name}:`,...Re)};class Ie{constructor(ie){this.name=ie,this._logLevel=he,this._logHandler=Ae,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in _))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?$[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...ie),this._logHandler(this,_.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...ie),this._logHandler(this,_.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,_.INFO,...ie),this._logHandler(this,_.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,_.WARN,...ie),this._logHandler(this,_.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...ie),this._logHandler(this,_.ERROR,...ie)}}function te(Y){f.forEach(ie=>{ie.setLogLevel(Y)})}function Pe(Y,ie){for(const Re of f){let Qe=null;ie&&ie.level&&(Qe=$[ie.level]),Re.userLogHandler=null===Y?null:(Ke,_t,...yt)=>{const oe=yt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch(We){return null}}).filter(Me=>Me).join(" ");_t>=(null!=Qe?Qe:Ke.logLevel)&&Y({level:_[_t].toLowerCase(),message:oe,args:yt,type:Ke.name})}}}},8239:(Lt,je,N)=>{"use strict";function f($,he,fe,Ae,Ie,te,Pe){try{var Y=$[te](Pe),ie=Y.value}catch(Re){return void fe(Re)}Y.done?he(ie):Promise.resolve(ie).then(Ae,Ie)}function _($){return function(){var he=this,fe=arguments;return new Promise(function(Ae,Ie){var te=$.apply(he,fe);function Pe(ie){f(te,Ae,Ie,Pe,Y,"next",ie)}function Y(ie){f(te,Ae,Ie,Pe,Y,"throw",ie)}Pe(void 0)})}}N.d(je,{Z:()=>_})}},Lt=>{Lt(Lt.s=9932)}]);