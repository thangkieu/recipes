var hS=Object.defineProperty,fS=Object.defineProperties,pS=Object.getOwnPropertyDescriptors,sw=Object.getOwnPropertySymbols,gS=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,ow=(Dt,Ne,k)=>Ne in Dt?hS(Dt,Ne,{enumerable:!0,configurable:!0,writable:!0,value:k}):Dt[Ne]=k,vn=(Dt,Ne)=>{for(var k in Ne||(Ne={}))gS.call(Ne,k)&&ow(Dt,k,Ne[k]);if(sw)for(var k of sw(Ne))mS.call(Ne,k)&&ow(Dt,k,Ne[k]);return Dt},$s=(Dt,Ne)=>fS(Dt,pS(Ne));(self.webpackChunkudemy_recipe=self.webpackChunkudemy_recipe||[]).push([[179],{7798:(Dt,Ne,k)=>{"use strict";k.d(Ne,{nm:()=>Ge});var m=k(2049),ne=(k(3668),k(3590),k(7713),k(8239)),Ie=k(1572),ce=k(1177),J=k(4213),Te=k(3855);const q=new Map,te={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function $e(De){return q.get(De)||te}function Ve(De,we){q.set(De,we)}function ot(){return ve}class at{constructor(we,Oe,Qe,mt,Ft){if(this.operation=we,this.retryPolicy=Oe,this.getWaitDuration=Qe,this.lowerBound=mt,this.upperBound=Ft,this.pending=null,this.nextErrorWaitInterval=mt,mt>Ft)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var Oe=this;return(0,ne.Z)(function*(){Oe.stop();try{Oe.pending=new J.BH,yield(De=Oe.getNextRun(we),new Promise(we=>{setTimeout(we,De)})),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new J.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(Qe){Oe.retryPolicy(Qe)?Oe.process(!1).catch(()=>{}):Oe.stop()}var De})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const Ce=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Z(De){if(!$e(De).activated)throw Ce.create("use-before-activation",{appName:De.name})}function xe(De,we){return re.apply(this,arguments)}function re(){return(re=(0,ne.Z)(function*({url:De,body:we},Oe){const Qe={"Content-Type":"application/json"},mt=Oe.getImmediate({optional:!0});mt&&(Qe["X-Firebase-Client"]=mt.getPlatformInfoString());const Ft={method:"POST",body:JSON.stringify(we),headers:Qe};let jt,jn;try{jt=yield fetch(De,Ft)}catch(Ur){throw Ce.create("fetch-network-error",{originalErrorMessage:Ur.message})}if(200!==jt.status)throw Ce.create("fetch-status-error",{httpStatus:jt.status});try{jn=yield jt.json()}catch(Ur){throw Ce.create("fetch-parse-error",{originalErrorMessage:Ur.message})}const mn=jn.ttl.match(/^([\d.]+)(s)$/);if(!mn||!mn[2]||isNaN(Number(mn[1])))throw Ce.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${jn.ttl}`});const Rr=1e3*Number(mn[1]),yr=Date.now();return{token:jn.attestationToken,expireTimeMillis:yr+Rr,issuedAtTimeMillis:yr}})).apply(this,arguments)}function Bt(De,we){const{projectId:Oe,appId:Qe,apiKey:mt}=De.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Oe}/apps/${Qe}:exchangeDebugToken?key=${mt}`,body:{debug_token:we}}}const Mt="firebase-app-check-store";let an=null;function wn(){return an||(an=new Promise((De,we)=>{try{const Oe=indexedDB.open("firebase-app-check-database",1);Oe.onsuccess=Qe=>{De(Qe.target.result)},Oe.onerror=Qe=>{var mt;we(Ce.create("storage-open",{originalErrorMessage:null===(mt=Qe.target.error)||void 0===mt?void 0:mt.message}))},Oe.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(Oe){we(Ce.create("storage-open",{originalErrorMessage:Oe.message}))}}),an)}function Bn(){return(Bn=(0,ne.Z)(function*(De,we){const Qe=(yield wn()).transaction(Mt,"readwrite"),Ft=Qe.objectStore(Mt).put({compositeKey:De,value:we});return new Promise((jt,jn)=>{Ft.onsuccess=mn=>{jt()},Qe.onerror=mn=>{var Rr;jn(Ce.create("storage-set",{originalErrorMessage:null===(Rr=mn.target.error)||void 0===Rr?void 0:Rr.message}))}})})).apply(this,arguments)}const Rn=new Te.Yd("@firebase/app-check");function Ct(De,we){return(0,J.hl)()?function(De,we){return function(De,we){return Bn.apply(this,arguments)}(function(De){return`${De.options.appId}-${De.name}`}(De),we)}(De,we).catch(Oe=>{Rn.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function er(){return ot().enabled}function Zt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,ne.Z)(function*(){const De=ot();if(De.enabled&&De.token)return De.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sn={error:"UNKNOWN_ERROR"};function Ht(De){return J.US.encodeString(JSON.stringify(De),!1)}function cn(De){return St.apply(this,arguments)}function St(){return(St=(0,ne.Z)(function*(De,we=!1){const Oe=De.app;Z(Oe);const Qe=$e(Oe);let Ft,mt=Qe.token;if(!mt){const mn=yield Qe.cachedTokenPromise;mn&&Sn(mn)&&(mt=mn)}if(!we&&mt&&Sn(mt))return{token:mt.token};let jn,jt=!1;if(er()){Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=xe(Bt(Oe,yield Zt()),De.platformLoggerProvider).then(Rr=>(Qe.exchangeTokenPromise=void 0,Rr)),jt=!0);const mn=yield Qe.exchangeTokenPromise;return yield Ct(Oe,mn),Ve(Oe,Object.assign(Object.assign({},Qe),{token:mn})),{token:mn.token}}try{Qe.exchangeTokenPromise||(Qe.exchangeTokenPromise=Qe.provider.getToken().then(mn=>(Qe.exchangeTokenPromise=void 0,mn)),jt=!0),mt=yield Qe.exchangeTokenPromise}catch(mn){"appCheck/throttled"===mn.code?Rn.warn(mn.message):Rn.error(mn),Ft=mn}return mt?(jn={token:mt.token},Ve(Oe,Object.assign(Object.assign({},Qe),{token:mt})),yield Ct(Oe,mt)):jn=qr(Ft),jt&&Cn(Oe,jn),jn})).apply(this,arguments)}function Jn(De,we){const Oe=$e(De),Qe=Oe.tokenObservers.filter(mt=>mt.next!==we);0===Qe.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Ve(De,Object.assign(Object.assign({},Oe),{tokenObservers:Qe}))}function $r(De){const{app:we}=De,Oe=$e(we);let Qe=Oe.tokenRefresher;Qe||(Qe=function(De){const{app:we}=De;return new at((0,ne.Z)(function*(){let Qe;if(Qe=$e(we).token?yield cn(De,!0):yield cn(De),Qe.error)throw Qe.error}),()=>!0,()=>{const Oe=$e(we);if(Oe.token){let Qe=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return Qe=Math.min(Qe,Oe.token.expireTimeMillis-3e5),Math.max(0,Qe-Date.now())}return 0},3e4,96e4)}(De),Ve(we,Object.assign(Object.assign({},Oe),{tokenRefresher:Qe}))),!Qe.isRunning()&&Oe.isTokenAutoRefreshEnabled&&Qe.start()}function Cn(De,we){const Oe=$e(De).tokenObservers;for(const Qe of Oe)try{"EXTERNAL"===Qe.type&&null!=we.error?Qe.error(we.error):Qe.next(we)}catch(mt){}}function Sn(De){return De.expireTimeMillis-Date.now()>0}function qr(De){return{token:Ht(sn),error:De}}class me{constructor(we,Oe){this.app=we,this.platformLoggerProvider=Oe}_delete(){const{tokenObservers:we}=$e(this.app);for(const Oe of we)Jn(this.app,Oe.next);return Promise.resolve()}}const Cr="app-check-internal";(0,Ie._registerComponent)(new ce.wA("app-check",De=>function(De,we){return new me(De,we)}(De.getProvider("app").getImmediate(),De.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((De,we,Oe)=>{De.getProvider(Cr).initialize()})),(0,Ie._registerComponent)(new ce.wA(Cr,De=>function(De){return{getToken:we=>cn(De,we),addTokenListener:we=>function(De,we,Oe,Qe){const{app:mt}=De,Ft=$e(mt),jt={next:Oe,error:Qe,type:we};if(Ve(mt,Object.assign(Object.assign({},Ft),{tokenObservers:[...Ft.tokenObservers,jt]})),Ft.token&&Sn(Ft.token)){const jn=Ft.token;Promise.resolve().then(()=>{Oe({token:jn.token}),$r(De)}).catch(()=>{})}Ft.cachedTokenPromise.then(()=>$r(De))}(De,"INTERNAL",we),removeTokenListener:we=>Jn(De.app,we)}}(De.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/app-check","0.5.2");class Ge{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},3590:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Ot:()=>pe,z6:()=>ne,ZF:()=>Le,hX:()=>$e});var m=k(7713),_=k(3668),ae=k(2049);class pe{constructor(at){return at}}class ne{constructor(){return(0,m.C6)()}}const J=new _.OlP("angularfire2._apps"),Te={provide:pe,useFactory:function(Re){return Re&&1===Re.length?Re[0]:new pe((0,m.Mq)())},deps:[[new _.FiY,J]]},q={provide:ne,deps:[[new _.FiY,J]]};function te(Re){return(at,ke)=>{const dt=at.runOutsideAngular(()=>Re(ke));return new pe(dt)}}let ve=(()=>{class Re{constructor(ke){(0,m.KN)("angularfire",ae.q4.full,"core"),(0,m.KN)("angularfire",ae.q4.full,"app"),(0,m.KN)("angular",_.q4F.full,ke.toString())}}return Re.\u0275fac=function(ke){return new(ke||Re)(_.LFG(_.Lbi))},Re.\u0275mod=_.oAB({type:Re}),Re.\u0275inj=_.cJS({providers:[Te,q]}),Re})();function $e(Re,...at){return{ngModule:ve,providers:[{provide:J,useFactory:te(Re),multi:!0,deps:[_.R0b,_.zs3,ae.HU,...at]}]}}const Le=(0,ae.u3)(m.ZF,!0)},7843:(Dt,Ne,k)=>{"use strict";k.d(Ne,{zQ:()=>re,rT:()=>X,f7:()=>ge,L6:()=>Nt,_Q:()=>Z,lh:()=>ie,Qv:()=>Ce,nw:()=>xe});var m=k(3668),_=k(273),ae=k(2997),pe=k(8305),ne=k(5947),Ie=k(3719),ce=k(1733);class J extends _.x{constructor(Bt=1/0,tt=1/0,et=ce.l){super(),this._bufferSize=Bt,this._windowTime=tt,this._timestampProvider=et,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=tt===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,tt)}next(Bt){const{isStopped:tt,_buffer:et,_infiniteTimeWindow:Mt,_timestampProvider:Ut,_windowTime:an}=this;tt||(et.push(Bt),!Mt&&et.push(Ut.now()+an)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const tt=this._innerSubscribe(Bt),{_infiniteTimeWindow:et,_buffer:Mt}=this,Ut=Mt.slice();for(let an=0;an<Ut.length&&!Bt.closed;an+=et?1:2)Bt.next(Ut[an]);return this._checkFinalizedStatuses(Bt),tt}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:tt,_buffer:et,_infiniteTimeWindow:Mt}=this,Ut=(Mt?1:2)*Bt;if(Bt<1/0&&Ut<et.length&&et.splice(0,et.length-Ut),!Mt){const an=tt.now();let wn=0;for(let kt=1;kt<et.length&&et[kt]<=an;kt+=2)wn=kt;wn&&et.splice(0,wn+1)}}}var Te=k(3174);function q(ht,Bt,tt){var et,Mt;let Ut,an=!1;return ht&&"object"==typeof ht?(Ut=null!==(et=ht.bufferSize)&&void 0!==et?et:1/0,Bt=null!==(Mt=ht.windowTime)&&void 0!==Mt?Mt:1/0,an=!!ht.refCount,tt=ht.scheduler):Ut=null!=ht?ht:1/0,(0,Te.B)({connector:()=>new J(Ut,Bt,tt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:an})}var te=k(3067),ve=k(5044);function $e(ht,Bt){return(0,ve.m)(Bt)?(0,te.w)(()=>ht,Bt):(0,te.w)(()=>ht)}var Ve=k(4763),ot=k(4753),ut=k(6047),Le=k(5222),Ee=k(461),Pe=k(2049),Ue=k(7905),Re=k(6019),at=k(7798);k(7892);const Ce=new m.OlP("angularfire2.auth.use-emulator"),Nt=new m.OlP("angularfire2.auth.settings"),Z=new m.OlP("angularfire2.auth.tenant-id"),X=new m.OlP("angularfire2.auth.langugage-code"),ie=new m.OlP("angularfire2.auth.use-device-language"),ge=new m.OlP("angularfire.auth.persistence"),xe=(ht,Bt,tt,et,Mt,Ut,an,wn)=>(0,Ue.cc)(`${ht.name}.auth`,"AngularFireAuth",ht.name,()=>{const kt=Bt.runOutsideAngular(()=>ht.auth());if(tt&&kt.useEmulator(...tt),et&&(kt.tenantId=et),kt.languageCode=Mt,Ut&&kt.useDeviceLanguage(),an)for(const[Gt,un]of Object.entries(an))kt.settings[Gt]=un;return wn&&kt.setPersistence(wn),kt},[tt,et,Mt,Ut,an,wn]);let re=(()=>{class ht{constructor(tt,et,Mt,Ut,an,wn,kt,Gt,un,pn,Un,Bn){const zn=new _.x,Xn=(0,ae.of)(void 0).pipe((0,Ve.Q)(an.outsideAngular),(0,te.w)(()=>Ut.runOutsideAngular(()=>k.e(115).then(k.bind(k,2115)))),(0,ot.U)(()=>(0,Ue.on)(tt,Ut,et)),(0,ot.U)(Hn=>xe(Hn,Ut,wn,Gt,un,pn,kt,Un)),q({bufferSize:1,refCount:!1}));if((0,Re.PM)(Mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ae.of)(null);else{Xn.pipe((0,ut.P)()).subscribe();const Rn=Xn.pipe((0,te.w)(Ct=>Ct.getRedirectResult().then(zt=>zt,()=>null)),Pe.iC,q({bufferSize:1,refCount:!1})),rr=Xn.pipe((0,te.w)(Ct=>new pe.y(zt=>({unsubscribe:Ut.runOutsideAngular(()=>Ct.onAuthStateChanged(An=>zt.next(An),An=>zt.error(An),()=>zt.complete()))})))),Qn=Xn.pipe((0,te.w)(Ct=>new pe.y(zt=>({unsubscribe:Ut.runOutsideAngular(()=>Ct.onIdTokenChanged(An=>zt.next(An),An=>zt.error(An),()=>zt.complete()))}))));this.authState=Rn.pipe($e(rr),(0,Le.R)(an.outsideAngular),(0,Ve.Q)(an.insideAngular)),this.user=Rn.pipe($e(Qn),(0,Le.R)(an.outsideAngular),(0,Ve.Q)(an.insideAngular)),this.idToken=this.user.pipe((0,te.w)(Ct=>Ct?(0,ne.D)(Ct.getIdToken()):(0,ae.of)(null))),this.idTokenResult=this.user.pipe((0,te.w)(Ct=>Ct?(0,ne.D)(Ct.getIdTokenResult()):(0,ae.of)(null))),this.credential=(0,Ie.T)(Rn,zn,this.authState.pipe((0,Ee.h)(Ct=>!Ct))).pipe((0,ot.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,Le.R)(an.outsideAngular),(0,Ve.Q)(an.insideAngular))}return(0,Ue.pX)(this,Xn,Ut,{spy:{apply:(Hn,Rn,rr)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&rr.then(Qn=>zn.next(Qn))}}})}}return ht.\u0275fac=function(tt){return new(tt||ht)(m.LFG(Ue.Dh),m.LFG(Ue.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Pe.HU),m.LFG(Ce,8),m.LFG(Nt,8),m.LFG(Z,8),m.LFG(X,8),m.LFG(ie,8),m.LFG(ge,8),m.LFG(at.nm,8))},ht.\u0275prov=m.Yz7({token:ht,factory:ht.\u0275fac,providedIn:"any"}),ht})()},7905:(Dt,Ne,k)=>{"use strict";k.d(Ne,{hO:()=>$e,xv:()=>Te,Dh:()=>J,GT:()=>Ie,cc:()=>Ve,on:()=>q,pX:()=>ne});var m=k(3668),_=k(7892),ae=k(2049);Dt=k.hmd(Dt);const pe=["ngOnDestroy"],ne=(Ee,Pe,Ue,Re={})=>new Proxy(Ee,{get:(at,ke)=>Ue.runOutsideAngular(()=>{var dt;if(Ee[ke])return(null===(dt=null==Re?void 0:Re.spy)||void 0===dt?void 0:dt.get)&&Re.spy.get(ke,Ee[ke]),Ee[ke];if(pe.indexOf(ke)>-1)return()=>{};const Ce=Pe.toPromise().then(Nt=>{const Z=Nt&&Nt[ke];return"function"==typeof Z?Z.bind(Nt):Z&&Z.then?Z.then(X=>Ue.run(()=>X)):Ue.run(()=>Z)});return new Proxy(()=>{},{get:(Nt,Z)=>Ce[Z],apply:(Nt,Z,X)=>Ce.then(ie=>{var ge;const xe=ie&&ie(...X);return(null===(ge=null==Re?void 0:Re.spy)||void 0===ge?void 0:ge.apply)&&Re.spy.apply(ke,X,xe),xe})})})}),Ie=(Ee,Pe)=>{Pe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Re=>{Object.defineProperty(Ee.prototype,Re,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Re))})})};class ce{constructor(Pe){return Pe}}const J=new m.OlP("angularfire2.app.options"),Te=new m.OlP("angularfire2.app.name");function q(Ee,Pe,Ue){const at="object"==typeof Ue&&Ue||{};at.name=at.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const dt=_.Z.apps.filter(Ce=>Ce&&Ce.name===at.name)[0]||Pe.runOutsideAngular(()=>_.Z.initializeApp(Ee,at));try{JSON.stringify(Ee)!==JSON.stringify(dt.options)&&te("error",`${dt.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ce){}return new ce(dt)}const te=(Ee,...Pe)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Pe)},ve={provide:ce,useFactory:q,deps:[J,m.R0b,[new m.FiY,Te]]};let $e=(()=>{class Ee{constructor(Ue){_.Z.registerVersion("angularfire",ae.q4.full,"core"),_.Z.registerVersion("angularfire",ae.q4.full,"app-compat"),_.Z.registerVersion("angular",m.q4F.full,Ue.toString())}static initializeApp(Ue,Re){return{ngModule:Ee,providers:[{provide:J,useValue:Ue},{provide:Te,useValue:Re}]}}}return Ee.\u0275fac=function(Ue){return new(Ue||Ee)(m.LFG(m.Lbi))},Ee.\u0275mod=m.oAB({type:Ee}),Ee.\u0275inj=m.cJS({providers:[ve]}),Ee})();function Ve(Ee,Pe,Ue,Re,at){const[,ke,dt]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===Ee)||[];if(ke)return function(Ee,Pe){try{return Ee.toString()===Pe.toString()}catch(Ue){return Ee===Pe}}(at,dt)||(Le("error",`${Pe} was already initialized on the ${Ue} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:at,was:dt})),ke;{const Ce=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Ce,at]),Ce}}const ut=!!Dt.hot,Le=(Ee,...Pe)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[Ee](...Pe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2049:(Dt,Ne,k)=>{"use strict";k.d(Ne,{q4:()=>fi,iC:()=>ct,HU:()=>R,vb:()=>to,JM:()=>ys,nk:()=>eo,u3:()=>M});var m=k(3668),_=k(7713),ae=k(8239),pe=k(1572),ne=k(4213),Ie=k(1177),ce=k(3855);k(8094);const Te="@firebase/remote-config",q="0.3.3",Ve=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ht{constructor(b,H,ue,ze){this.client=b,this.storage=H,this.storageCache=ue,this.logger=ze}isCachedDataFresh(b,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-H,ze=ue<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${ze}.`),ze}fetch(b){var H=this;return(0,ae.Z)(function*(){const[ue,ze]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(ze&&H.isCachedDataFresh(b.cacheMaxAgeMillis,ue))return ze;b.eTag=ze&&ze.eTag;const Je=yield H.client.fetch(b),qt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&qt.push(H.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(qt),Je})()}}function Bt(y=navigator){return y.languages&&y.languages[0]||y.language}class tt{constructor(b,H,ue,ze,Je,qt){this.firebaseInstallations=b,this.sdkVersion=H,this.namespace=ue,this.projectId=ze,this.apiKey=Je,this.appId=qt}fetch(b){var H=this;return(0,ae.Z)(function*(){const[ue,ze]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,pr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},Xt={sdk_version:H.sdkVersion,app_instance_id:ue,app_instance_id_token:ze,app_id:H.appId,language_code:Bt()},lr={method:"POST",headers:pr,body:JSON.stringify(Xt)},sr=fetch(qt,lr),Ci=new Promise((qi,Zi)=>{b.signal.addEventListener(()=>{const Di=new Error("The operation was aborted.");Di.name="AbortError",Zi(Di)})});let _s;try{yield Promise.race([sr,Ci]),_s=yield sr}catch(qi){let Zi="fetch-client-network";throw"AbortError"===qi.name&&(Zi="fetch-timeout"),Ve.create(Zi,{originalErrorMessage:qi.message})}let rt=_s.status;const _n=_s.headers.get("ETag")||void 0;let Co,bn;if(200===_s.status){let qi;try{qi=yield _s.json()}catch(Zi){throw Ve.create("fetch-client-parse",{originalErrorMessage:Zi.message})}Co=qi.entries,bn=qi.state}if("INSTANCE_STATE_UNSPECIFIED"===bn?rt=500:"NO_CHANGE"===bn?rt=304:("NO_TEMPLATE"===bn||"EMPTY_CONFIG"===bn)&&(Co={}),304!==rt&&200!==rt)throw Ve.create("fetch-status",{httpStatus:rt});return{status:rt,eTag:_n,config:Co}})()}}class Ut{constructor(b,H){this.client=b,this.storage=H}fetch(b){var H=this;return(0,ae.Z)(function*(){const ue=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(b,ue)})()}attemptFetch(b,{throttleEndTimeMillis:H,backoffCount:ue}){var ze=this;return(0,ae.Z)(function*(){yield function(y,b){return new Promise((H,ue)=>{const ze=Math.max(b-Date.now(),0),Je=setTimeout(H,ze);y.addEventListener(()=>{clearTimeout(Je),ue(Ve.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,H);try{const Je=yield ze.client.fetch(b);return yield ze.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function(y){if(!(y instanceof ne.ZR&&y.customData))return!1;const b=Number(y.customData.httpStatus);return 429===b||500===b||503===b||504===b}(Je))throw Je;const qt={throttleEndTimeMillis:Date.now()+(0,ne.$s)(ue),backoffCount:ue+1};return yield ze.storage.setThrottleMetadata(qt),ze.attemptFetch(b,qt)}})()}}class kt{constructor(b,H,ue,ze,Je){this.app=b,this._client=H,this._storageCache=ue,this._storage=ze,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gt(y,b){const H=y.target.error||void 0;return Ve.create(b,{originalErrorMessage:H&&H.message})}const un="app_namespace_store";class zn{constructor(b,H,ue,ze=function(){return new Promise((y,b)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ue=>{b(Gt(ue,"storage-open"))},H.onsuccess=ue=>{y(ue.target.result)},H.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(un,{keyPath:"compositeKey"})}}catch(H){b(Ve.create("storage-open",{originalErrorMessage:H}))}})}()){this.appId=b,this.appName=H,this.namespace=ue,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var H=this;return(0,ae.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((ze,Je)=>{const pr=ue.transaction([un],"readonly").objectStore(un),Xt=H.createCompositeKey(b);try{const lr=pr.get(Xt);lr.onerror=sr=>{Je(Gt(sr,"storage-get"))},lr.onsuccess=sr=>{const Ci=sr.target.result;ze(Ci?Ci.value:void 0)}}catch(lr){Je(Ve.create("storage-get",{originalErrorMessage:lr&&lr.message}))}})})()}set(b,H){var ue=this;return(0,ae.Z)(function*(){const ze=yield ue.openDbPromise;return new Promise((Je,qt)=>{const Xt=ze.transaction([un],"readwrite").objectStore(un),lr=ue.createCompositeKey(b);try{const sr=Xt.put({compositeKey:lr,value:H});sr.onerror=Ci=>{qt(Gt(Ci,"storage-set"))},sr.onsuccess=()=>{Je()}}catch(sr){qt(Ve.create("storage-set",{originalErrorMessage:sr&&sr.message}))}})})()}delete(b){var H=this;return(0,ae.Z)(function*(){const ue=yield H.openDbPromise;return new Promise((ze,Je)=>{const pr=ue.transaction([un],"readwrite").objectStore(un),Xt=H.createCompositeKey(b);try{const lr=pr.delete(Xt);lr.onerror=sr=>{Je(Gt(sr,"storage-delete"))},lr.onsuccess=()=>{ze()}}catch(lr){Je(Ve.create("storage-delete",{originalErrorMessage:lr&&lr.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class Xn{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,ae.Z)(function*(){const H=b.storage.getLastFetchStatus(),ue=b.storage.getLastSuccessfulFetchTimestampMillis(),ze=b.storage.getActiveConfig(),Je=yield H;Je&&(b.lastFetchStatus=Je);const qt=yield ue;qt&&(b.lastSuccessfulFetchTimestampMillis=qt);const pr=yield ze;pr&&(b.activeConfig=pr)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function Qn(){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,ae.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(y){return!1}})).apply(this,arguments)}(0,pe._registerComponent)(new Ie.wA("remote-config",function(b,{instanceIdentifier:H}){const ue=b.getProvider("app").getImmediate(),ze=b.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ve.create("registration-window");if(!(0,ne.hl)())throw Ve.create("indexed-db-unavailable");const{projectId:Je,apiKey:qt,appId:pr}=ue.options;if(!Je)throw Ve.create("registration-project-id");if(!qt)throw Ve.create("registration-api-key");if(!pr)throw Ve.create("registration-app-id");const Xt=new zn(pr,ue.name,H=H||"firebase"),lr=new Xn(Xt),sr=new ce.Yd(Te);sr.logLevel=ce.in.ERROR;const Ci=new tt(ze,pe.SDK_VERSION,H,Je,qt,pr),_s=new Ut(Ci,Xt),rt=new ht(_s,Xt,lr,sr),_n=new kt(ue,rt,lr,Xt,sr);return function(y){const b=(0,ne.m9)(y);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(_n),_n},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Te,q),(0,pe.registerVersion)(Te,q,"esm2017");var zt=k(4995);const An="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",Zt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qt="google.c.a.c_id",sn="google.c.a.c_l",Ht="google.c.a.ts",cn="google.c.a.e";var Ot=(()=>{return(y=Ot||(Ot={})).PUSH_RECEIVED="push-received",y.NOTIFICATION_CLICKED="notification-clicked",Ot;var y})();function Jn(y){const b=new Uint8Array(y);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $r(y){const H=(y+"=".repeat((4-y.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(H),ze=new Uint8Array(ue.length);for(let Je=0;Je<ue.length;++Je)ze[Je]=ue.charCodeAt(Je);return ze}const vr="fcm_token_details_db",Sn="fcm_token_object_Store";function qr(y){return me.apply(this,arguments)}function me(){return me=(0,ae.Z)(function*(y){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(vr))return null;let b=null;return(yield(0,zt.openDb)(vr,5,function(){var ue=(0,ae.Z)(function*(ze){var Je;if(ze.oldVersion<2||!ze.objectStoreNames.contains(Sn))return;const qt=ze.transaction.objectStore(Sn),pr=yield qt.index("fcmSenderId").get(y);if(yield qt.clear(),pr)if(2===ze.oldVersion){const Xt=pr;if(!Xt.auth||!Xt.p256dh||!Xt.endpoint)return;b={token:Xt.fcmToken,createTime:null!==(Je=Xt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:Xt.auth,p256dh:Xt.p256dh,endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:"string"==typeof Xt.vapidKey?Xt.vapidKey:Jn(Xt.vapidKey)}}}else if(3===ze.oldVersion){const Xt=pr;b={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Jn(Xt.auth),p256dh:Jn(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Jn(Xt.vapidKey)}}}else if(4===ze.oldVersion){const Xt=pr;b={token:Xt.fcmToken,createTime:Xt.createTime,subscriptionOptions:{auth:Jn(Xt.auth),p256dh:Jn(Xt.p256dh),endpoint:Xt.endpoint,swScope:Xt.swScope,vapidKey:Jn(Xt.vapidKey)}}}});return function(ze){return ue.apply(this,arguments)}}())).close(),yield(0,zt.deleteDb)(vr),yield(0,zt.deleteDb)("fcm_vapid_details_db"),yield(0,zt.deleteDb)("undefined"),oe(b)?b:null}),me.apply(this,arguments)}function oe(y){if(!y||!y.subscriptionOptions)return!1;const{subscriptionOptions:b}=y;return"number"==typeof y.createTime&&y.createTime>0&&"string"==typeof y.token&&y.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const Me="firebase-messaging-store";let Pt=null;function Ae(){return Pt||(Pt=(0,zt.openDb)("firebase-messaging-database",1,y=>{0===y.oldVersion&&y.createObjectStore(Me)})),Pt}function He(y){return nt.apply(this,arguments)}function nt(){return(nt=(0,ae.Z)(function*(y){const b=on(y),ue=yield(yield Ae()).transaction(Me).objectStore(Me).get(b);if(ue)return ue;{const ze=yield qr(y.appConfig.senderId);if(ze)return yield It(y,ze),ze}})).apply(this,arguments)}function It(y,b){return bt.apply(this,arguments)}function bt(){return(bt=(0,ae.Z)(function*(y,b){const H=on(y),ze=(yield Ae()).transaction(Me,"readwrite");return yield ze.objectStore(Me).put(b,H),yield ze.complete,b})).apply(this,arguments)}function lt(y){return xt.apply(this,arguments)}function xt(){return(xt=(0,ae.Z)(function*(y){const b=on(y),ue=(yield Ae()).transaction(Me,"readwrite");yield ue.objectStore(Me).delete(b),yield ue.complete})).apply(this,arguments)}function on({appConfig:y}){return y.appId}const En=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tn(y,b){return ar.apply(this,arguments)}function ar(){return(ar=(0,ae.Z)(function*(y,b){const H=yield Ir(y),ue=Kt(b),ze={method:"POST",headers:H,body:JSON.stringify(ue)};let Je;try{Je=yield(yield fetch(Er(y.appConfig),ze)).json()}catch(qt){throw En.create("token-subscribe-failed",{errorInfo:qt})}if(Je.error)throw En.create("token-subscribe-failed",{errorInfo:Je.error.message});if(!Je.token)throw En.create("token-subscribe-no-token");return Je.token})).apply(this,arguments)}function Sr(y,b){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,ae.Z)(function*(y,b){const H=yield Ir(y),ue=Kt(b.subscriptionOptions),ze={method:"PATCH",headers:H,body:JSON.stringify(ue)};let Je;try{Je=yield(yield fetch(`${Er(y.appConfig)}/${b.token}`,ze)).json()}catch(qt){throw En.create("token-update-failed",{errorInfo:qt})}if(Je.error)throw En.create("token-update-failed",{errorInfo:Je.error.message});if(!Je.token)throw En.create("token-update-no-token");return Je.token})).apply(this,arguments)}function Mr(y,b){return tr.apply(this,arguments)}function tr(){return(tr=(0,ae.Z)(function*(y,b){const ue={method:"DELETE",headers:yield Ir(y)};try{const Je=yield(yield fetch(`${Er(y.appConfig)}/${b}`,ue)).json();if(Je.error)throw En.create("token-unsubscribe-failed",{errorInfo:Je.error.message})}catch(ze){throw En.create("token-unsubscribe-failed",{errorInfo:ze})}})).apply(this,arguments)}function Er({projectId:y}){return`https://fcmregistrations.googleapis.com/v1/projects/${y}/registrations`}function Ir(y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ae.Z)(function*({appConfig:y,installations:b}){const H=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":y.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Kt({p256dh:y,auth:b,endpoint:H,vapidKey:ue}){const ze={web:{endpoint:H,auth:b,p256dh:y}};return ue!==Zt&&(ze.web.applicationPubKey=ue),ze}const xn=6048e5;function mr(y){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,ae.Z)(function*(y){const b=yield Pn(y.swRegistration,y.vapidKey),H={vapidKey:y.vapidKey,swScope:y.swRegistration.scope,endpoint:b.endpoint,auth:Jn(b.getKey("auth")),p256dh:Jn(b.getKey("p256dh"))},ue=yield He(y.firebaseDependencies);if(ue){if(ur(ue.subscriptionOptions,H))return Date.now()>=ue.createTime+xn?fe(y,{token:ue.token,createTime:Date.now(),subscriptionOptions:H}):ue.token;try{yield Mr(y.firebaseDependencies,ue.token)}catch(ze){console.warn(ze)}return ft(y.firebaseDependencies,H)}return ft(y.firebaseDependencies,H)})).apply(this,arguments)}function yn(y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,ae.Z)(function*(y){const b=yield He(y.firebaseDependencies);b&&(yield Mr(y.firebaseDependencies,b.token),yield lt(y.firebaseDependencies));const H=yield y.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function fe(y,b){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,ae.Z)(function*(y,b){try{const H=yield Sr(y.firebaseDependencies,b),ue=Object.assign(Object.assign({},b),{token:H,createTime:Date.now()});return yield It(y.firebaseDependencies,ue),H}catch(H){throw yield yn(y),H}})).apply(this,arguments)}function ft(y,b){return it.apply(this,arguments)}function it(){return(it=(0,ae.Z)(function*(y,b){const ue={token:yield tn(y,b),createTime:Date.now(),subscriptionOptions:b};return yield It(y,ue),ue.token})).apply(this,arguments)}function Pn(y,b){return dn.apply(this,arguments)}function dn(){return(dn=(0,ae.Z)(function*(y,b){return(yield y.pushManager.getSubscription())||y.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$r(b)})})).apply(this,arguments)}function ur(y,b){return b.vapidKey===y.vapidKey&&b.endpoint===y.endpoint&&b.auth===y.auth&&b.p256dh===y.p256dh}function Mn(y){const b={from:y.from,collapseKey:y.collapse_key,messageId:y.fcm_message_id};return function(y,b){if(!b.notification)return;y.notification={};const H=b.notification.title;H&&(y.notification.title=H);const ue=b.notification.body;ue&&(y.notification.body=ue);const ze=b.notification.image;ze&&(y.notification.image=ze)}(b,y),function(y,b){!b.data||(y.data=b.data)}(b,y),function(y,b){if(!b.fcmOptions)return;y.fcmOptions={};const H=b.fcmOptions.link;H&&(y.fcmOptions.link=H);const ue=b.fcmOptions.analytics_label;ue&&(y.fcmOptions.analyticsLabel=ue)}(b,y),b}function Vr(y){return"object"==typeof y&&!!y&&Qt in y}function kn(y,b){const H=[];for(let ue=0;ue<y.length;ue++)H.push(y.charAt(ue)),ue<b.length&&H.push(b.charAt(ue));return H.join("")}function Dr(y){return En.create("missing-app-config-values",{valueName:y})}kn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hr{constructor(b,H,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function(y){if(!y||!y.options)throw Dr("App Configuration Object");if(!y.name)throw Dr("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:H}=y;for(const ue of b)if(!H[ue])throw Dr(ue);return{appName:y.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:ze,installations:H,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function cr(y){return De.apply(this,arguments)}function De(){return(De=(0,ae.Z)(function*(y){try{y.swRegistration=yield navigator.serviceWorker.register(An,{scope:er}),y.swRegistration.update().catch(()=>{})}catch(b){throw En.create("failed-service-worker-registration",{browserErrorMessage:b.message})}})).apply(this,arguments)}function we(y,b){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ae.Z)(function*(y,b){if(!b&&!y.swRegistration&&(yield cr(y)),b||!y.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");y.swRegistration=b}})).apply(this,arguments)}function Qe(y,b){return mt.apply(this,arguments)}function mt(){return(mt=(0,ae.Z)(function*(y,b){b?y.vapidKey=b:y.vapidKey||(y.vapidKey=Zt)})).apply(this,arguments)}function jt(){return(jt=(0,ae.Z)(function*(y,b){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Qe(y,null==b?void 0:b.vapidKey),yield we(y,null==b?void 0:b.serviceWorkerRegistration),mr(y)})).apply(this,arguments)}function jn(y,b,H){return mn.apply(this,arguments)}function mn(){return(mn=(0,ae.Z)(function*(y,b,H){const ue=Rr(b);(yield y.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:H[Qt],message_name:H[sn],message_time:H[Ht],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rr(y){switch(y){case Ot.NOTIFICATION_CLICKED:return"notification_open";case Ot.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ur(){return(Ur=(0,ae.Z)(function*(y,b){const H=b.data;if(!H.isFirebaseMessaging)return;y.onMessageHandler&&H.messageType===Ot.PUSH_RECEIVED&&("function"==typeof y.onMessageHandler?y.onMessageHandler(Mn(H)):y.onMessageHandler.next(Mn(H)));const ue=H.data;Vr(ue)&&"1"===ue[cn]&&(yield jn(y,H.messageType,ue))})).apply(this,arguments)}const xr="@firebase/messaging";function xi(){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,ae.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,pe._registerComponent)(new Ie.wA("messaging",y=>{const b=new Hr(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),y.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function(y,b){return Ur.apply(this,arguments)}(b,H)),b},"PUBLIC")),(0,pe._registerComponent)(new Ie.wA("messaging-internal",y=>{const b=y.getProvider("messaging").getImmediate();return{getToken:ue=>function(y,b){return jt.apply(this,arguments)}(b,ue)}},"PRIVATE")),(0,pe.registerVersion)(xr,"0.9.4"),(0,pe.registerVersion)(xr,"0.9.4","esm2017");var ns=k(6621),Ws=k(2869),hi=k(8843);const Ei=new class extends hi.v{}(class extends Ws.o{constructor(b,H){super(b,H),this.scheduler=b,this.work=H}schedule(b,H=0){return H>0?super.schedule(b,H):(this.delay=H,this.state=b,this.scheduler.flush(this),this)}execute(b,H){return H>0||this.closed?super.execute(b,H):this._execute(b,H)}requestAsyncId(b,H,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(b,H,ue):b.flush(this)}});var Ii=k(2210),ri=k(8305),zr=k(7384),Nr=k(5222),Ni=k(4763);const fi=new m.GfV("7.2.0"),Bi="__angularfire_symbol__analyticsIsSupportedValue",Gn="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupported",fr="__angularfire_symbol__messagingIsSupported";globalThis[Gn]||(globalThis[Gn]=(0,ns.Gb)().then(y=>globalThis[Bi]=y)),globalThis[fr]||(globalThis[fr]=xi().then(y=>globalThis.__angularfire_symbol__messagingIsSupportedValue=y)),globalThis[Ki]||(globalThis[Ki]=Qn().then(y=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=y));const eo={async:()=>globalThis[Gn],sync:()=>{const y=globalThis[Bi];if(void 0===y)throw new Error((y=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${y} in the constructor, first ensure that ${y} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${y})\`.`)("Analytics"));return y}};function ys(y,b,H){if(b){if(1===b.length)return b[0];const Je=b.filter(qt=>qt.app===H);if(1===Je.length)return Je[0]}return H.container.getProvider(y).getImmediate({optional:!0})}const to=(y,b)=>{const H=b?[b]:(0,_.C6)(),ue=[];return H.forEach(ze=>{ze.container.getProvider(y).instances.forEach(qt=>{ue.includes(qt)||ue.push(qt)})}),ue};function Kn(){}class ji{constructor(b,H=Ei){this.zone=b,this.delegate=H}now(){return this.delegate.now()}schedule(b,H,ue){const ze=this.zone;return this.delegate.schedule(function(qt){ze.runGuarded(()=>{b.apply(this,[qt])})},H,ue)}}class wi{constructor(b){this.zone=b,this.task=null}call(b,H){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kn,{},Kn,Kn)),H.pipe((0,zr.b)({next:ue,complete:ue,error:ue})).subscribe(b).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R=(()=>{class y{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ji(Zone.current)),this.insideAngular=H.run(()=>new ji(Zone.current,Ii.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return y.\u0275fac=function(H){return new(H||y)(m.LFG(m.R0b))},y.\u0275prov=m.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function U(){const y=globalThis.\u0275AngularFireScheduler;if(!y)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return y}function N(y){return U().ngZone.runOutsideAngular(()=>y())}function $(y){return U().ngZone.run(()=>y())}function ct(y){return U(),function(y){return function(H){return(H=H.lift(new wi(y.ngZone))).pipe((0,Nr.R)(y.outsideAngular),(0,Ni.Q)(y.insideAngular))}}(U())(y)}const P=(y,b)=>{const H=void 0;return function(){return b&&setTimeout(()=>{"scheduled"===b.state&&b.invoke()},10),$(()=>y.apply(H,arguments))}},M=(y,b)=>function(){let H;for(let ze=0;ze<arguments.length;ze++)"function"==typeof arguments[ze]&&(b&&(H||(H=$(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kn,{},Kn,Kn)))),arguments[ze]=P(arguments[ze],H));const ue=N(()=>y.apply(this,arguments));if(!b){if(ue instanceof ri.y){const ze=U();return ue.pipe((0,Nr.R)(ze.outsideAngular),(0,Ni.Q)(ze.insideAngular))}return $(()=>ue)}return ue instanceof ri.y?ue.pipe(ct):ue instanceof Promise?$(()=>new Promise((ze,Je)=>ue.then(qt=>$(()=>ze(qt)),qt=>$(()=>Je(qt))))):"function"==typeof ue&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),ue.apply(this,arguments)}:$(()=>ue)}},6972:(Dt,Ne,k)=>{"use strict";k.d(Ne,{$:()=>lr,A:()=>te,E:()=>fe,G:()=>dn,I:()=>li,K:()=>bt,L:()=>hi,M:()=>Ii,N:()=>ri,P:()=>Xo,Q:()=>zr,R:()=>cl,T:()=>Gi,U:()=>Bi,V:()=>Gn,W:()=>is,X:()=>ct,Y:()=>P,Z:()=>y,_:()=>ze,a:()=>mi,a0:()=>Ci,a1:()=>rt,a2:()=>Co,a3:()=>qi,a4:()=>Di,a5:()=>hu,a6:()=>fa,a7:()=>pa,a8:()=>Do,a9:()=>Wo,aA:()=>Fo,aB:()=>va,aC:()=>yn,aG:()=>hn,aJ:()=>Ni,aa:()=>ma,ab:()=>ya,ae:()=>zo,af:()=>Bu,ag:()=>To,aj:()=>to,ak:()=>zs,am:()=>Qo,an:()=>xo,ao:()=>Er,ap:()=>Z,aq:()=>tr,ar:()=>Sr,as:()=>Ue,at:()=>Cu,au:()=>yl,av:()=>Re,aw:()=>Ce,ax:()=>ie,ay:()=>lt,az:()=>za,b:()=>At,c:()=>le,d:()=>nr,e:()=>Lt,f:()=>hl,g:()=>Ha,h:()=>ks,i:()=>qn,j:()=>gl,k:()=>Bo,l:()=>vd,m:()=>Il,n:()=>Sc,o:()=>J,r:()=>_a,s:()=>ll,t:()=>Mo,u:()=>Ks,z:()=>Ve});var m=k(8239),_=k(4213),ae=k(1572),pe=k(4762),ne=k(3855),Ie=k(1177);const J={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new ne.Yd("@firebase/auth");function Pe(I,...h){Ee.logLevel<=ne.in.ERROR&&Ee.error(`Auth (${ae.SDK_VERSION}): ${I}`,...h)}function Ue(I,...h){throw dt(I,...h)}function Re(I,...h){return dt(I,...h)}function at(I,h,p){const T=Object.assign(Object.assign({},ot()),{[h]:p});return new _.LL("auth","Firebase",T).create(h,{appName:I.name})}function ke(I,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ue(I,"argument-error"),at(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(I,...h){if("string"!=typeof I){const p=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(p,...T)}return ut.create(I,...h)}function Ce(I,h,...p){if(!I)throw dt(h,...p)}function Nt(I){const h="INTERNAL ASSERTION FAILED: "+I;throw Pe(h),new Error(h)}function Z(I,h){I||Nt(h)}const X=new Map;function ie(I){Z(I instanceof Function,"Expected a class definition");let h=X.get(I);return h?(Z(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,X.set(I,h),h)}function re(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function vt(){return"http:"===ht()||"https:"===ht()}function ht(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class et{constructor(h,p){this.shortDelay=h,this.longDelay=p,Z(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vt()||(0,_.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Mt(I,h){Z(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Ut{static initialize(h,p,T){this.fetchImpl=h,p&&(this.headersImpl=p),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wn=new et(3e4,6e4);function kt(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Gt(I,h,p,T){return un.apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(I,h,p,T,V={}){return pn(I,V,()=>{let Y={},Be={};T&&("GET"===h?Be=T:Y={body:JSON.stringify(T)});const gt=(0,_.xO)(Object.assign({key:I.config.apiKey},Be)).slice(1),Yt=new(Ut.headers());return Yt.set("Content-Type","application/json"),Yt.set("X-Client-Version",I._getSdkClientVersion()),I.languageCode&&Yt.set("X-Firebase-Locale",I.languageCode),Ut.fetch()(Xn(I,I.config.apiHost,p,gt),Object.assign({method:h,headers:Yt,referrerPolicy:"no-referrer"},Y))})})).apply(this,arguments)}function pn(I,h,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,m.Z)(function*(I,h,p){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},an),h);try{const V=new Hn(I),Y=yield Promise.race([p(),V.promise]);V.clearNetworkTimeout();const Be=yield Y.json();if("needConfirmation"in Be)throw Rn(I,"account-exists-with-different-credential",Be);if(Y.ok&&!("errorMessage"in Be))return Be;{const gt=Y.ok?Be.errorMessage:Be.error.message,[Yt,In]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yt)throw Rn(I,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Yt)throw Rn(I,"email-already-in-use",Be);const Yn=T[Yt]||Yt.toLowerCase().replace(/[_\s]+/g,"-");if(In)throw at(I,Yn,In);Ue(I,Yn)}}catch(V){if(V instanceof _.ZR)throw V;Ue(I,"network-request-failed")}})).apply(this,arguments)}function Bn(I,h,p,T){return zn.apply(this,arguments)}function zn(){return(zn=(0,m.Z)(function*(I,h,p,T,V={}){const Y=yield Gt(I,h,p,T,V);return"mfaPendingCredential"in Y&&Ue(I,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Xn(I,h,p,T){const V=`${h}${p}?${T}`;return I.config.emulator?Mt(I.config,V):`${I.config.apiScheme}://${V}`}class Hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,T)=>{this.timer=setTimeout(()=>T(Re(this.auth,"timeout")),wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rn(I,h,p){const T={appName:I.name};p.email&&(T.email=p.email),p.phoneNumber&&(T.phoneNumber=p.phoneNumber);const V=Re(I,h,T);return V.customData._tokenResponse=p,V}function Qn(){return(Qn=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ct(I,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function An(I,h){return er.apply(this,arguments)}function er(){return(er=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Zt(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function sn(){return(sn=(0,m.Z)(function*(I,h=!1){const p=(0,_.m9)(I),T=yield p.getIdToken(h),V=cn(T);Ce(V&&V.exp&&V.auth_time&&V.iat,p.auth,"internal-error");const Y="object"==typeof V.firebase?V.firebase:void 0,Be=null==Y?void 0:Y.sign_in_provider;return{claims:V,token:T,authTime:Zt(Ht(V.auth_time)),issuedAtTime:Zt(Ht(V.iat)),expirationTime:Zt(Ht(V.exp)),signInProvider:Be||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(I){return 1e3*Number(I)}function cn(I){const[h,p,T]=I.split(".");if(void 0===h||void 0===p||void 0===T)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,_.tV)(p);return V?JSON.parse(V):(Pe("Failed to decode base64 JWT payload"),null)}catch(V){return Pe("Caught error parsing JWT payload as JSON",V),null}}function Ot(I,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,m.Z)(function*(I,h,p=!1){if(p)return h;try{return yield h}catch(T){throw T instanceof _.ZR&&$r(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}function $r({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class vr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const V=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),T)}iteration(){var h=this;return(0,m.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Cn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zt(this.lastLoginAt),this.creationTime=Zt(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(I){return qr.apply(this,arguments)}function qr(){return(qr=(0,m.Z)(function*(I){var h;const p=I.auth,T=yield I.getIdToken(),V=yield Ot(I,An(p,{idToken:T}));Ce(null==V?void 0:V.users.length,p,"internal-error");const Y=V.users[0];I._notifyReloadListener(Y);const Be=(null===(h=Y.providerUserInfo)||void 0===h?void 0:h.length)?We(Y.providerUserInfo):[],gt=_e(I.providerData,Be),Yn=!!I.isAnonymous&&!(I.email&&Y.passwordHash||(null==gt?void 0:gt.length)),Kr={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:gt,metadata:new Cn(Y.createdAt,Y.lastLoginAt),isAnonymous:Yn};Object.assign(I,Kr)})).apply(this,arguments)}function oe(){return(oe=(0,m.Z)(function*(I){const h=(0,_.m9)(I);yield Sn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function _e(I,h){return[...I.filter(T=>!h.some(V=>V.providerId===T.providerId)),...h]}function We(I){return I.map(h=>{var{providerId:p}=h,T=(0,pe._T)(h,["providerId"]);return{providerId:p,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Pt(){return(Pt=(0,m.Z)(function*(I,h){const p=yield pn(I,{},()=>{const T=(0,_.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:V,apiKey:Y}=I.config,Be=Xn(I,V,"/v1/token",`key=${Y}`);return Ut.fetch()(Be,{method:"POST",headers:{"X-Client-Version":I._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(void 0!==h.idToken,"internal-error"),Ce(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(I){const h=cn(I);return Ce(h,"internal-error"),Ce(void 0!==h.exp,"internal-error"),Ce(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var T=this;return(0,m.Z)(function*(){return Ce(!T.accessToken||T.refreshToken,h,"user-token-expired"),p||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var T=this;return(0,m.Z)(function*(){const{accessToken:V,refreshToken:Y,expiresIn:Be}=yield function(I,h){return Pt.apply(this,arguments)}(h,p);T.updateTokensAndExpiration(V,Y,Number(Be))})()}updateTokensAndExpiration(h,p,T){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,p){const{refreshToken:T,accessToken:V,expirationTime:Y}=p,Be=new Ae;return T&&(Ce("string"==typeof T,"internal-error",{appName:h}),Be.refreshToken=T),V&&(Ce("string"==typeof V,"internal-error",{appName:h}),Be.accessToken=V),Y&&(Ce("number"==typeof Y,"internal-error",{appName:h}),Be.expirationTime=Y),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ae,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function He(I,h){Ce("string"==typeof I||void 0===I,"internal-error",{appName:h})}class nt{constructor(h){var{uid:p,auth:T,stsTokenManager:V}=h,Y=(0,pe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new vr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=T,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.metadata=new Cn(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const T=yield Ot(p,p.stsTokenManager.getToken(p.auth,h));return Ce(T,p.auth,"internal-error"),p.accessToken!==T&&(p.accessToken=T,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),T})()}getIdTokenResult(h){return function(I){return sn.apply(this,arguments)}(this,h)}reload(){return function(I){return oe.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new nt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var T=this;return(0,m.Z)(function*(){let V=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),V=!0),p&&(yield Sn(T)),yield T.auth._persistUserIfCurrent(T),V&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield Ot(h,function(I,h){return Qn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var T,V,Y,Be,gt,Yt,In,Yn;const Kr=null!==(T=p.displayName)&&void 0!==T?T:void 0,qs=null!==(V=p.email)&&void 0!==V?V:void 0,Da=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,Cl=null!==(Be=p.photoURL)&&void 0!==Be?Be:void 0,yi=null!==(gt=p.tenantId)&&void 0!==gt?gt:void 0,Ga=null!==(Yt=p._redirectEventId)&&void 0!==Yt?Yt:void 0,Ku=null!==(In=p.createdAt)&&void 0!==In?In:void 0,qu=null!==(Yn=p.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:vo,emailVerified:Zu,isAnonymous:Dl,providerData:Ka,stsTokenManager:bl}=p;Ce(vo&&bl,h,"internal-error");const Rd=Ae.fromJSON(this.name,bl);Ce("string"==typeof vo,h,"internal-error"),He(Kr,h.name),He(qs,h.name),Ce("boolean"==typeof Zu,h,"internal-error"),Ce("boolean"==typeof Dl,h,"internal-error"),He(Da,h.name),He(Cl,h.name),He(yi,h.name),He(Ga,h.name),He(Ku,h.name),He(qu,h.name);const Yu=new nt({uid:vo,auth:h,email:qs,emailVerified:Zu,displayName:Kr,isAnonymous:Dl,photoURL:Cl,phoneNumber:Da,tenantId:yi,stsTokenManager:Rd,createdAt:Ku,lastLoginAt:qu});return Ka&&Array.isArray(Ka)&&(Yu.providerData=Ka.map(Mc=>Object.assign({},Mc))),Ga&&(Yu._redirectEventId=Ga),Yu}static _fromIdTokenResponse(h,p,T=!1){return(0,m.Z)(function*(){const V=new Ae;V.updateFromServerResponse(p);const Y=new nt({uid:p.localId,auth:h,stsTokenManager:V,isAnonymous:T});return yield Sn(Y),Y})()}}const bt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,T){var V=this;return(0,m.Z)(function*(){V.storage[p]=T})()}_get(p){var T=this;return(0,m.Z)(function*(){const V=T.storage[p];return void 0===V?null:V})()}_remove(p){var T=this;return(0,m.Z)(function*(){delete T.storage[p]})()}_addListener(p,T){}_removeListener(p,T){}}return I.type="NONE",I})();function lt(I,h,p){return`firebase:${I}:${h}:${p}`}class xt{constructor(h,p,T){this.persistence=h,this.auth=p,this.userKey=T;const{config:V,name:Y}=this.auth;this.fullUserKey=lt(this.userKey,V.apiKey,Y),this.fullPersistenceKey=lt("persistence",V.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?nt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const T=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,T?p.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,T="authUser"){return(0,m.Z)(function*(){if(!p.length)return new xt(ie(bt),h,T);const V=(yield Promise.all(p.map(function(){var In=(0,m.Z)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return In.apply(this,arguments)}}()))).filter(In=>In);let Y=V[0]||ie(bt);const Be=lt(T,h.config.apiKey,h.name);let gt=null;for(const In of p)try{const Yn=yield In._get(Be);if(Yn){const Kr=nt._fromJSON(h,Yn);In!==Y&&(gt=Kr),Y=In;break}}catch(Yn){}const Yt=V.filter(In=>In._shouldAllowMigration);return Y._shouldAllowMigration&&Yt.length?(Y=Yt[0],gt&&(yield Y._set(Be,gt.toJSON())),yield Promise.all(p.map(function(){var In=(0,m.Z)(function*(Yn){if(Yn!==Y)try{yield Yn._remove(Be)}catch(Kr){}});return function(Yn){return In.apply(this,arguments)}}())),new xt(Y,h,T)):new xt(Y,h,T)})()}}function on(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ar(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(gn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Dn(h))return"Blackberry";if(Mr(h))return"Webos";if(En(h))return"Safari";if((h.includes("chrome/")||tn(h))&&!h.includes("edge/"))return"Chrome";if(Sr(h))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function gn(I=(0,_.z$)()){return/firefox\//i.test(I)}function En(I=(0,_.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function tn(I=(0,_.z$)()){return/crios\//i.test(I)}function ar(I=(0,_.z$)()){return/iemobile/i.test(I)}function Sr(I=(0,_.z$)()){return/android/i.test(I)}function Dn(I=(0,_.z$)()){return/blackberry/i.test(I)}function Mr(I=(0,_.z$)()){return/webos/i.test(I)}function tr(I=(0,_.z$)()){return/iphone|ipad|ipod/i.test(I)}function Er(I=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Kt(I=(0,_.z$)()){return tr(I)||Sr(I)||Mr(I)||Dn(I)||/windows phone/i.test(I)||ar(I)}function mr(I,h=[]){let p;switch(I){case"Browser":p=on((0,_.z$)());break;case"Worker":p=`${on((0,_.z$)())}-${I}`;break;default:p=I}const T=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${T}`}class Cr{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nn(this),this.idTokenSubscription=new Nn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var T=this;return p&&(this._popupRedirectResolver=ie(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var V,Y;T._deleted||(T.persistenceManager=yield xt.create(T,h),!T._deleted&&((null===(V=T._popupRedirectResolver)||void 0===V?void 0:V._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(p),T.lastNotifiedUid=(null===(Y=T.currentUser)||void 0===Y?void 0:Y.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var T;let V=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Y=null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId,Be=null==V?void 0:V._redirectEventId,gt=yield p.tryRedirectSignIn(h);(!Y||Y===Be)&&(null==gt?void 0:gt.user)&&(V=gt.user)}return V?V._redirectEventId?(Ce(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===V._redirectEventId?p.directlySetCurrentUser(V):p.reloadAndSetCurrentUserOrClear(V)):p.reloadAndSetCurrentUserOrClear(V):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let T=null;try{T=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(V){yield p._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){try{yield Sn(h)}catch(T){if("auth/network-request-failed"!==T.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const T=h?(0,_.m9)(h):null;return T&&Ce(T.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(T&&T._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){if(!p._deleted)return h&&Ce(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,m.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(ie(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new _.LL("auth","Firebase",h())}onAuthStateChanged(h,p,T){return this.registerStateListener(this.authStateSubscription,h,p,T)}onIdTokenChanged(h,p,T){return this.registerStateListener(this.idTokenSubscription,h,p,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var T=this;return(0,m.Z)(function*(){const V=yield T.getOrInitRedirectPersistenceManager(p);return null===h?V.removeCurrentUser():V.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const T=h&&ie(h)||p._popupRedirectResolver;Ce(T,p,"argument-error"),p.redirectPersistenceManager=yield xt.create(p,[ie(T._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var T,V;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(T=p._currentUser)||void 0===T?void 0:T._redirectEventId)===h?p._currentUser:(null===(V=p.redirectUser)||void 0===V?void 0:V._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,T,V){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Be,this,"internal-error"),Be.then(()=>Y(this.currentUser)),"function"==typeof p?h.addObserver(p,T,V):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function yn(I){return(0,_.m9)(I)}class Nn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,_.ne)(p=>this.observer=p)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fe(I,h,p){const T=yn(I);Ce(T._canInitEmulator,T,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const V=!!(null==p?void 0:p.disableWarnings),Y=Ge(h),{host:Be,port:gt}=function(I){const h=Ge(I),p=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!p)return{host:"",port:null};const T=p[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(T);if(V){const Y=V[1];return{host:Y,port:it(T.substr(Y.length+1))}}{const[Y,Be]=T.split(":");return{host:Y,port:it(Be)}}}(h);T.config.emulator={url:`${Y}//${Be}${null===gt?"":`:${gt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Be,port:gt,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function(){function I(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ge(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function it(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class dn{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Nt("not implemented")}_getIdTokenResponse(h){return Nt("not implemented")}_linkToIdToken(h,p){return Nt("not implemented")}_getReauthenticationResolver(h){return Nt("not implemented")}}function ur(I,h){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:resetPassword",kt(I,h))})).apply(this,arguments)}function ir(I,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ni(I,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:update",kt(I,h))})).apply(this,arguments)}function ts(){return(ts=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPassword",kt(I,h))})).apply(this,arguments)}function Dr(I,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:sendOobCode",kt(I,h))})).apply(this,arguments)}function cr(I,h){return De.apply(this,arguments)}function De(){return(De=(0,m.Z)(function*(I,h){return Dr(I,h)})).apply(this,arguments)}function we(I,h){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,m.Z)(function*(I,h){return Dr(I,h)})).apply(this,arguments)}function Qe(I,h){return mt.apply(this,arguments)}function mt(){return(mt=(0,m.Z)(function*(I,h){return Dr(I,h)})).apply(this,arguments)}function Ft(I,h){return jt.apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(I,h){return Dr(I,h)})).apply(this,arguments)}function mn(){return(mn=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",kt(I,h))})).apply(this,arguments)}function yr(){return(yr=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",kt(I,h))})).apply(this,arguments)}class Ur extends dn{constructor(h,p,T,V=null){super("password",T),this._email=h,this._password=p,this._tenantId=V}static _fromEmailAndPassword(h,p){return new Ur(h,p,"password")}static _fromEmailAndCode(h,p,T=null){return new Ur(h,p,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return function(I,h){return ts.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(I,h){return mn.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ue(h,"internal-error")}})()}_linkToIdToken(h,p){var T=this;return(0,m.Z)(function*(){switch(T.signInMethod){case"password":return ir(h,{idToken:p,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(I,h){return yr.apply(this,arguments)}(h,{idToken:p,email:T._email,oobCode:T._password});default:Ue(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function xr(I,h){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithIdp",kt(I,h))})).apply(this,arguments)}class li extends dn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new li(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ue("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:V}=p,Y=(0,pe._T)(p,["providerId","signInMethod"]);if(!T||!V)return null;const Be=new li(T,V);return Be.idToken=Y.idToken||void 0,Be.accessToken=Y.accessToken||void 0,Be.secret=Y.secret,Be.nonce=Y.nonce,Be.pendingToken=Y.pendingToken||null,Be}_getIdTokenResponse(h){return xr(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,xr(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,xr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,_.xO)(p)}return h}}function Ri(I,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:sendVerificationCode",kt(I,h))})).apply(this,arguments)}function Ts(){return(Ts=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",kt(I,h))})).apply(this,arguments)}function zi(){return(zi=(0,m.Z)(function*(I,h){const p=yield Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",kt(I,h));if(p.temporaryProof)throw Rn(I,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const gs={USER_NOT_FOUND:"user-not-found"};function Ui(){return(Ui=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",kt(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),gs)})).apply(this,arguments)}class di extends dn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new di({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new di({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function(I,h){return Ts.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function(I,h){return zi.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(I,h){return Ui.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:T,verificationCode:V}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:T,code:V}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:T,phoneNumber:V,temporaryProof:Y}=h;return T||p||V||Y?new di({verificationId:p,verificationCode:T,phoneNumber:V,temporaryProof:Y}):null}}class Ws{constructor(h){var p,T,V,Y,Be,gt;const Yt=(0,_.zd)((0,_.pd)(h)),In=null!==(p=Yt.apiKey)&&void 0!==p?p:null,Yn=null!==(T=Yt.oobCode)&&void 0!==T?T:null,Kr=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Yt.mode)&&void 0!==V?V:null);Ce(In&&Yn&&Kr,"argument-error"),this.apiKey=In,this.operation=Kr,this.code=Yn,this.continueUrl=null!==(Y=Yt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Be=Yt.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(gt=Yt.tenantId)&&void 0!==gt?gt:null}static parseLink(h){const p=function(I){const h=(0,_.zd)((0,_.pd)(I)).link,p=h?(0,_.zd)((0,_.pd)(h)).deep_link_id:null,T=(0,_.zd)((0,_.pd)(I)).deep_link_id;return(T?(0,_.zd)((0,_.pd)(T)).link:null)||T||p||h||I}(h);try{return new Ws(p)}catch(T){return null}}}let hi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,T){return Ur._fromEmailAndPassword(p,T)}static credentialWithLink(p,T){const V=Ws.parseLink(T);return Ce(V,"argument-error"),Ur._fromEmailAndCode(p,V.code,V.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ui{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ei extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Gi extends Ei{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in p&&"signInMethod"in p,"argument-error"),li._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Gi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Gi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:T,oauthTokenSecret:V,pendingToken:Y,nonce:Be,providerId:gt}=h;if(!T&&!V&&!p&&!Y||!gt)return null;try{return new Gi(gt)._credential({idToken:p,accessToken:T,nonce:Be,pendingToken:Y})}catch(Yt){return null}}}let Ii=(()=>{class I extends Ei{constructor(){super("facebook.com")}static credential(p){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch(T){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ri=(()=>{class I extends Ei{constructor(){super("google.com"),this.addScope("profile")}static credential(p,T){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:T,oauthAccessToken:V}=p;if(!T&&!V)return null;try{return I.credential(T,V)}catch(Y){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),zr=(()=>{class I extends Ei{constructor(){super("github.com")}static credential(p){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return I.credential(p.oauthAccessToken)}catch(T){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ni extends dn{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return xr(h,this.buildRequest())}_linkToIdToken(h,p){const T=this.buildRequest();return T.idToken=p,xr(h,T)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,xr(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:V,pendingToken:Y}=p;return T&&V&&Y&&T===V?new Ni(T,Y):null}static _create(h,p){return new Ni(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends ui{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Bi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Bi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Ni.fromJSON(h);return Ce(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:T}=h;if(!p||!T)return null;try{return Ni._create(T,p)}catch(V){return null}}}let Gn=(()=>{class I extends Ei{constructor(){super("twitter.com")}static credential(p,T){return li._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:T})}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:T,oauthTokenSecret:V}=p;if(!T||!V)return null;try{return I.credential(T,V)}catch(Y){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function rs(I,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signUp",kt(I,h))})).apply(this,arguments)}class Tr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,T,V=!1){return(0,m.Z)(function*(){const Y=yield nt._fromIdTokenResponse(h,T,V),Be=fr(T);return new Tr({user:Y,providerId:Be,_tokenResponse:T,operationType:p})})()}static _forOperation(h,p,T){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const V=fr(T);return new Tr({user:h,providerId:V,_tokenResponse:T,operationType:p})})()}}function fr(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function is(I){return ss.apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(I){var h;const p=yn(I);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Tr({user:p.currentUser,providerId:null,operationType:"signIn"});const T=yield rs(p,{returnSecureToken:!0}),V=yield Tr._fromIdTokenResponse(p,"signIn",T,!0);return yield p._updateCurrentUser(V.user),V})).apply(this,arguments)}class os extends _.ZR{constructor(h,p,T,V){var Y;super(p.code,p.message),this.operationType=T,this.user=V,Object.setPrototypeOf(this,os.prototype),this.customData={appName:h.name,tenantId:null!==(Y=h.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,p,T,V){return new os(h,p,T,V)}}function eo(I,h,p,T){return("reauthenticate"===h?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?os._fromErrorAndOperation(I,Y,h,T):Y})}function ys(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function to(I,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(I,h){const p=(0,_.m9)(I);yield R(!0,p,h);const{providerUserInfo:T}=yield Ct(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),V=ys(T||[]);return p.providerData=p.providerData.filter(Y=>V.has(Y.providerId)),V.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ji(I,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,m.Z)(function*(I,h,p=!1){const T=yield Ot(I,h._linkToIdToken(I.auth,yield I.getIdToken()),p);return Tr._forOperation(I,"link",T)})).apply(this,arguments)}function R(I,h,p){return U.apply(this,arguments)}function U(){return(U=(0,m.Z)(function*(I,h,p){yield Sn(h);const V=!1===I?"provider-already-linked":"no-such-provider";Ce(ys(h.providerData).has(p)===I,h.auth,V)})).apply(this,arguments)}function N(I,h){return $.apply(this,arguments)}function $(){return($=(0,m.Z)(function*(I,h,p=!1){const{auth:T}=I,V="reauthenticate";try{const Y=yield Ot(I,eo(T,V,h,I),p);Ce(Y.idToken,T,"internal-error");const Be=cn(Y.idToken);Ce(Be,T,"internal-error");const{sub:gt}=Be;return Ce(I.uid===gt,T,"user-mismatch"),Tr._forOperation(I,V,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&Ue(T,"user-mismatch"),Y}})).apply(this,arguments)}function de(I,h){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(I,h,p=!1){const T="signIn",V=yield eo(I,T,h),Y=yield Tr._fromIdTokenResponse(I,T,V);return p||(yield I._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function ct(I,h){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(function*(I,h){return de(yn(I),h)})).apply(this,arguments)}function P(I,h){return M.apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(I,h){const p=(0,_.m9)(I);return yield R(!1,p,h.providerId),ji(p,h)})).apply(this,arguments)}function y(I,h){return b.apply(this,arguments)}function b(){return(b=(0,m.Z)(function*(I,h){return N((0,_.m9)(I),h)})).apply(this,arguments)}function H(I,h){return ue.apply(this,arguments)}function ue(){return(ue=(0,m.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithCustomToken",kt(I,h))})).apply(this,arguments)}function ze(I,h){return Je.apply(this,arguments)}function Je(){return(Je=(0,m.Z)(function*(I,h){const p=yn(I),T=yield H(p,{token:h,returnSecureToken:!0}),V=yield Tr._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(V.user),V})).apply(this,arguments)}class qt{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?pr._fromServerResponse(h,p):Ue(h,"internal-error")}}class pr extends qt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new pr(p)}}function Xt(I,h,p){var T;Ce((null===(T=p.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),Ce(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ce(p.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ce(p.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function lr(I,h,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I),V={requestType:"PASSWORD_RESET",email:h};p&&Xt(T,V,p),yield we(T,V)})).apply(this,arguments)}function Ci(I,h,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,m.Z)(function*(I,h,p){yield ur((0,_.m9)(I),{oobCode:h,newPassword:p})})).apply(this,arguments)}function rt(I,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,m.Z)(function*(I,h){yield ni((0,_.m9)(I),{oobCode:h})})).apply(this,arguments)}function Co(I,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,m.Z)(function*(I,h){const p=(0,_.m9)(I),T=yield ur(p,{oobCode:h}),V=T.requestType;switch(Ce(V,p,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(T.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(T.mfaInfo,p,"internal-error");default:Ce(T.email,p,"internal-error")}let Y=null;return T.mfaInfo&&(Y=qt._fromServerResponse(yn(p),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Y},operation:V}})).apply(this,arguments)}function qi(I,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(I,h){const{data:p}=yield Co((0,_.m9)(I),h);return p.email})).apply(this,arguments)}function Di(I,h,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(I,h,p){const T=yn(I),V=yield rs(T,{returnSecureToken:!0,email:h,password:p}),Y=yield Tr._fromIdTokenResponse(T,"signIn",V);return yield T._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function hu(I,h,p){return ct((0,_.m9)(I),hi.credential(h,p))}function fa(I,h,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I),V={requestType:"EMAIL_SIGNIN",email:h};Ce(p.handleCodeInApp,T,"argument-error"),p&&Xt(T,V,p),yield Qe(T,V)})).apply(this,arguments)}function pa(I,h){const p=Ws.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Do(I,h,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I),V=hi.credentialWithLink(h,p||re());return Ce(V._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ct(T,V)})).apply(this,arguments)}function bi(I,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:createAuthUri",kt(I,h))})).apply(this,arguments)}function Wo(I,h){return as.apply(this,arguments)}function as(){return(as=(0,m.Z)(function*(I,h){const T={identifier:h,continueUri:vt()?re():"http://localhost"},{signinMethods:V}=yield bi((0,_.m9)(I),T);return V||[]})).apply(this,arguments)}function ma(I,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,m.Z)(function*(I,h){const p=(0,_.m9)(I),V={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Xt(p.auth,V,h);const{email:Y}=yield cr(p.auth,V);Y!==I.email&&(yield I.reload())})).apply(this,arguments)}function ya(I,h,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};p&&Xt(T.auth,Y,p);const{email:Be}=yield Ft(T.auth,Y);Be!==I.email&&(yield I.reload())})).apply(this,arguments)}function Fa(I,h){return no.apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(I,h){return Gt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function zo(I,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,m.Z)(function*(I,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const T=(0,_.m9)(I),Y={idToken:yield T.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Be=yield Ot(T,Fa(T.auth,Y));T.displayName=Be.displayName||null,T.photoURL=Be.photoUrl||null;const gt=T.providerData.find(({providerId:Yt})=>"password"===Yt);gt&&(gt.displayName=T.displayName,gt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Be)})).apply(this,arguments)}function Bu(I,h){return Ao((0,_.m9)(I),h,null)}function To(I,h){return Ao((0,_.m9)(I),null,h)}function Ao(I,h,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,m.Z)(function*(I,h,p){const{auth:T}=I,Y={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(Y.email=h),p&&(Y.password=p);const Be=yield Ot(I,ir(T,Y));yield I._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class ro{constructor(h,p,T={}){this.isNewUser=h,this.providerId=p,this.profile=T}}class So extends ro{constructor(h,p,T,V){super(h,p,T),this.username=V}}class fo extends ro{constructor(h,p){super(h,"facebook.com",p)}}class fu extends So{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class pu extends ro{constructor(h,p){super(h,"google.com",p)}}class Or extends So{constructor(h,p,T){super(h,"twitter.com",p,T)}}function zs(I){const{user:h,_tokenResponse:p}=I;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(I){var h,p;if(!I)return null;const{providerId:T}=I,V=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},Y=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&(null==I?void 0:I.idToken)){const Be=null===(p=null===(h=cn(I.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Be)return new ro(Y,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!T)return null;switch(T){case"facebook.com":return new fo(Y,V);case"github.com":return new fu(Y,V);case"google.com":return new pu(Y,V);case"twitter.com":return new Or(Y,V,I.screenName||null);case"custom":case"anonymous":return new ro(Y,null);default:return new ro(Y,T,V)}}(p)}function Mo(I,h,p,T){return(0,_.m9)(I).onAuthStateChanged(h,p,T)}class Es{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Es("enroll",h)}static _fromMfaPendingCredential(h){return new Es("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,T;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Es._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(T=h.multiFactorSession)||void 0===T?void 0:T.idToken)return Es._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ro{constructor(h,p,T){this.session=h,this.hints=p,this.signInResolver=T}static _fromError(h,p){const T=yn(h),V=p.customData._serverResponse,Y=(V.mfaInfo||[]).map(gt=>qt._fromServerResponse(T,gt));Ce(V.mfaPendingCredential,T,"internal-error");const Be=Es._fromMfaPendingCredential(V.mfaPendingCredential);return new Ro(Be,Y,function(){var gt=(0,m.Z)(function*(Yt){const In=yield Yt._process(T,Be);delete V.mfaInfo,delete V.mfaPendingCredential;const Yn=Object.assign(Object.assign({},V),{idToken:In.idToken,refreshToken:In.refreshToken});switch(p.operationType){case"signIn":const Kr=yield Tr._fromIdTokenResponse(T,p.operationType,Yn);return yield T._updateCurrentUser(Kr.user),Kr;case"reauthenticate":return Ce(p.user,T,"internal-error"),Tr._forOperation(p.user,p.operationType,Yn);default:Ue(T,"internal-error")}});return function(Yt){return gt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,m.Z)(function*(){return p.signInResolver(h)})()}}function Qo(I,h){var p;const T=(0,_.m9)(I),V=h;return Ce(h.customData.operationType,T,"argument-error"),Ce(null===(p=V.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,T,"argument-error"),Ro._fromError(T,V)}function gi(I,h){return Gt(I,"POST","/v2/accounts/mfaEnrollment:start",kt(I,h))}class Is{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(T=>qt._fromServerResponse(h.auth,T)))})}static _fromUser(h){return new Is(h)}getSession(){var h=this;return(0,m.Z)(function*(){return Es._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var T=this;return(0,m.Z)(function*(){const V=h,Y=yield T.getSession(),Be=yield Ot(T.user,V._process(T.user.auth,Y,p));return yield T.user._updateTokensIfNecessary(Be),T.user.reload()})()}unenroll(h){var p=this;return(0,m.Z)(function*(){const T="string"==typeof h?h:h.uid,V=yield p.user.getIdToken(),Y=yield Ot(p.user,function(I,h){return Gt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(I,h))}(p.user.auth,{idToken:V,mfaEnrollmentId:T}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Be})=>Be!==T),yield p.user._updateTokensIfNecessary(Y);try{yield p.user.reload()}catch(Be){if("auth/user-token-expired"!==Be.code)throw Be}})()}}const ws=new WeakMap;function xo(I){const h=(0,_.m9)(I);return ws.has(h)||ws.set(h,Is._fromUser(h)),ws.get(h)}const Gs="__sak";class Zr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const At=(()=>{class I extends Zr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,T)=>this.onStorageEvent(p,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,_.z$)();return En(I)||tr(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Kt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const T of Object.keys(this.listeners)){const V=this.storage.getItem(T),Y=this.localCache[T];V!==Y&&p(T,Y,V)}}onStorageEvent(p,T=!1){if(!p.key)return void this.forAllChangedKeys((gt,Yt,In)=>{this.notifyListeners(gt,In)});const V=p.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const gt=this.storage.getItem(V);if(p.newValue!==gt)null!==p.newValue?this.storage.setItem(V,p.newValue):this.storage.removeItem(V);else if(this.localCache[V]===p.newValue&&!T)return}const Y=()=>{const gt=this.storage.getItem(V);!T&&this.localCache[V]===gt||this.notifyListeners(V,gt)},Be=this.storage.getItem(V);(0,_.w1)()&&10===document.documentMode&&Be!==p.newValue&&p.newValue!==p.oldValue?setTimeout(Y,10):Y()}notifyListeners(p,T){this.localCache[p]=T;const V=this.listeners[p];if(V)for(const Y of Array.from(V))Y(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,T,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:T,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,T){var V=()=>super._set,Y=this;return(0,m.Z)(function*(){yield V().call(Y,p,T),Y.localCache[p]=JSON.stringify(T)})()}_get(p){var T=()=>super._get,V=this;return(0,m.Z)(function*(){const Y=yield T().call(V,p);return V.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var T=()=>super._remove,V=this;return(0,m.Z)(function*(){yield T().call(V,p),delete V.localCache[p]})()}}return I.type="LOCAL",I})(),mi=(()=>{class I extends Zr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,T){}_removeListener(p,T){}}return I.type="SESSION",I})();let en=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const T=this.receivers.find(Y=>Y.isListeningto(p));if(T)return T;const V=new I(p);return this.receivers.push(V),V}isListeningto(p){return this.eventTarget===p}handleEvent(p){var T=this;return(0,m.Z)(function*(){const V=p,{eventId:Y,eventType:Be,data:gt}=V.data,Yt=T.handlersMap[Be];if(!(null==Yt?void 0:Yt.size))return;V.ports[0].postMessage({status:"ack",eventId:Y,eventType:Be});const In=Array.from(Yt).map(function(){var Kr=(0,m.Z)(function*(qs){return qs(V.origin,gt)});return function(qs){return Kr.apply(this,arguments)}}()),Yn=yield function(I){return Promise.all(I.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(T){return{fulfilled:!1,reason:T}}});return function(p){return h.apply(this,arguments)}}()))}(In);V.ports[0].postMessage({status:"done",eventId:Y,eventType:Be,response:Yn})})()}_subscribe(p,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(T)}_unsubscribe(p,T){this.handlersMap[p]&&T&&this.handlersMap[p].delete(T),(!T||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function hn(I="",h=10){let p="";for(let T=0;T<h;T++)p+=Math.floor(10*Math.random());return I+p}class oo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,T=50){var V=this;return(0,m.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Be,gt;return new Promise((Yt,In)=>{const Yn=hn("",20);Y.port1.start();const Kr=setTimeout(()=>{In(new Error("unsupported_event"))},T);gt={messageChannel:Y,onMessage(qs){const Da=qs;if(Da.data.eventId===Yn)switch(Da.data.status){case"ack":clearTimeout(Kr),Be=setTimeout(()=>{In(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Yt(Da.data.response);break;default:clearTimeout(Kr),clearTimeout(Be),In(new Error("invalid_response"))}}},V.handlers.add(gt),Y.port1.addEventListener("message",gt.onMessage),V.target.postMessage({eventType:h,eventId:Yn,data:p},[Y.port2])}).finally(()=>{gt&&V.removeMessageHandler(gt)})})()}}function wt(){return window}function _t(){return void 0!==wt().WorkerGlobalScope&&"function"==typeof wt().importScripts}function Va(){return(Va=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Ua="firebaseLocalStorageDb",go="firebaseLocalStorage",Ti="fbase_key";class No{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Oo(I,h){return I.transaction([go],h?"readwrite":"readonly").objectStore(go)}function E(){const I=indexedDB.open(Ua,1);return new Promise((h,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(go,{keyPath:Ti})}catch(V){p(V)}}),I.addEventListener("success",(0,m.Z)(function*(){const T=I.result;T.objectStoreNames.contains(go)?h(T):(T.close(),yield function(){const I=indexedDB.deleteDatabase(Ua);return new No(I).toPromise()}(),h(yield E()))}))})}function v(I,h,p){return S.apply(this,arguments)}function S(){return(S=(0,m.Z)(function*(I,h,p){const T=Oo(I,!0).put({[Ti]:h,value:p});return new No(T).toPromise()})).apply(this,arguments)}function j(){return(j=(0,m.Z)(function*(I,h){const p=Oo(I,!1).get(h),T=yield new No(p).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ee(I,h){const p=Oo(I,!0).delete(h);return new No(p).toPromise()}const qn=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield E()),p.db})()}_withRetries(p){var T=this;return(0,m.Z)(function*(){let V=0;for(;;)try{const Y=yield T._openDb();return yield p(Y)}catch(Y){if(V++>3)throw Y;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return _t()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=en._getInstance(_t()?self:null),p.receiver._subscribe("keyChanged",function(){var T=(0,m.Z)(function*(V,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(V,Y){return T.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var T=(0,m.Z)(function*(V,Y){return["keyChanged"]});return function(V,Y){return T.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var T,V;if(p.activeServiceWorker=yield function(){return Va.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new oo(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);!Y||(null===(T=Y[0])||void 0===T?void 0:T.fulfilled)&&(null===(V=Y[0])||void 0===V?void 0:V.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var T=this;return(0,m.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:p},T.serviceWorkerReceiverAvailable?800:50)}catch(V){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield E();return yield v(p,Gs,"1"),yield ee(p,Gs),!0}catch(p){}return!1})()}_withPendingWrite(p){var T=this;return(0,m.Z)(function*(){T.pendingWrites++;try{yield p()}finally{T.pendingWrites--}})()}_set(p,T){var V=this;return(0,m.Z)(function*(){return V._withPendingWrite((0,m.Z)(function*(){return yield V._withRetries(Y=>v(Y,p,T)),V.localCache[p]=T,V.notifyServiceWorker(p)}))})()}_get(p){var T=this;return(0,m.Z)(function*(){const V=yield T._withRetries(Y=>function(I,h){return j.apply(this,arguments)}(Y,p));return T.localCache[p]=V,V})()}_remove(p){var T=this;return(0,m.Z)(function*(){return T._withPendingWrite((0,m.Z)(function*(){return yield T._withRetries(V=>ee(V,p)),delete T.localCache[p],T.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const T=yield p._withRetries(Be=>{const gt=Oo(Be,!1).getAll();return new No(gt).toPromise()});if(!T)return[];if(0!==p.pendingWrites)return[];const V=[],Y=new Set;for(const{fbase_key:Be,value:gt}of T)Y.add(Be),JSON.stringify(p.localCache[Be])!==JSON.stringify(gt)&&(p.notifyListeners(Be,gt),V.push(Be));for(const Be of Object.keys(p.localCache))p.localCache[Be]&&!Y.has(Be)&&(p.notifyListeners(Be,null),V.push(Be));return V})()}notifyListeners(p,T){this.localCache[p]=T;const V=this.listeners[p];if(V)for(const Y of Array.from(V))Y(T)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(T)}_removeListener(p,T){this.listeners[p]&&(this.listeners[p].delete(T),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function $t(I,h){return Gt(I,"POST","/v2/accounts/mfaSignIn:start",kt(I,h))}function _r(){return(_r=(0,m.Z)(function*(I){return(yield Gt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yr(I){return new Promise((h,p)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=h,T.onerror=V=>{const Y=Re("internal-error");Y.customData=V,p(Y)},T.type="text/javascript",T.charset="UTF-8",function(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(T)})}function dr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Yi=1e12;class Po{constructor(h){this.auth=h,this.counter=Yi,this._widgets=new Map}render(h,p){const T=this.counter;return this._widgets.set(T,new Rs(h,this.auth.name,p||{})),this.counter++,T}reset(h){var p;const T=h||Yi;null===(p=this._widgets.get(T))||void 0===p||p.delete(),this._widgets.delete(T)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Yi))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,m.Z)(function*(){var T;return null===(T=p._widgets.get(h||Yi))||void 0===T||T.execute(),""})()}}class Rs{constructor(h,p,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof h?document.getElementById(h):h;Ce(V,"argument-error",{appName:p}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}();const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ic=dr("rcb"),nn=new et(3e4,6e4);class mo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wt().grecaptcha}load(h,p=""){return Ce((I=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(wt().grecaptcha):new Promise((T,V)=>{const Y=wt().setTimeout(()=>{V(Re(h,"network-request-failed"))},nn.get());wt()[Ic]=()=>{wt().clearTimeout(Y),delete wt()[Ic];const gt=wt().grecaptcha;if(!gt)return void V(Re(h,"internal-error"));const Yt=gt.render;gt.render=(In,Yn)=>{const Kr=Yt(In,Yn);return this.counter++,Kr},this.hostLanguage=p,T(gt)},Yr(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:Ic,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Y),V(Re(h,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!wt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ja{load(h){return(0,m.Z)(function*(){return new Po(h)})()}clearedOneInstance(){}}const al="recaptcha",ul={theme:"light",type:"image"};class cl{constructor(h,p=Object.assign({},ul),T){this.parameters=p,this.type=al,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(T),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof h?document.getElementById(h):h;Ce(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ja:new mo,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),T=h.getAssertedRecaptcha();return T.getResponse(p)||new Promise(Y=>{const Be=gt=>{!gt||(h.tokenChangeListeners.delete(Be),Y(gt))};h.tokenChangeListeners.add(Be),h.isInvisible&&T.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(T=>T(p)),"function"==typeof h)h(p);else if("string"==typeof h){const T=wt()[h];"function"==typeof T&&T(p)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const T=document.createElement("div");p.appendChild(T),p=T}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){Ce(vt()&&!_t(),h.auth,"internal-error"),yield function(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function(I){return _r.apply(this,arguments)}(h.auth);Ce(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hu{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=di._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function ll(I,h,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,m.Z)(function*(I,h,p){const T=yn(I),V=yield Wu(T,h,(0,_.m9)(p));return new Hu(V,Y=>ct(T,Y))})).apply(this,arguments)}function vd(I,h,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I);yield R(!1,T,"phone");const V=yield Wu(T.auth,h,(0,_.m9)(p));return new Hu(V,Y=>P(T,Y))})).apply(this,arguments)}function _a(I,h,p){return si.apply(this,arguments)}function si(){return(si=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I),V=yield Wu(T.auth,h,(0,_.m9)(p));return new Hu(V,Y=>y(T,Y))})).apply(this,arguments)}function Wu(I,h,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,m.Z)(function*(I,h,p){var T;const V=yield p.verify();try{let Y;if(Ce("string"==typeof V,I,"argument-error"),Ce(p.type===al,I,"argument-error"),Y="string"==typeof h?{phoneNumber:h}:h,"session"in Y){const Be=Y.session;if("phoneNumber"in Y)return Ce("enroll"===Be.type,I,"internal-error"),(yield gi(I,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Be.type,I,"internal-error");const gt=(null===(T=Y.multiFactorHint)||void 0===T?void 0:T.uid)||Y.multiFactorUid;return Ce(gt,I,"missing-multi-factor-info"),(yield $t(I,{mfaPendingCredential:Be.credential,mfaEnrollmentId:gt,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield Ri(I,{phoneNumber:Y.phoneNumber,recaptchaToken:V});return Be}}finally{p._reset()}})).apply(this,arguments)}function Ks(I,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,m.Z)(function*(I,h){yield ji((0,_.m9)(I),h)})).apply(this,arguments)}let Xo=(()=>{class I{constructor(p){this.providerId=I.PROVIDER_ID,this.auth=yn(p)}verifyPhoneNumber(p,T){return Wu(this.auth,p,(0,_.m9)(T))}static credential(p,T){return di._fromVerification(p,T)}static credentialFromResult(p){return I.credentialFromTaggedObject(p)}static credentialFromError(p){return I.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:T,temporaryProof:V}=p;return T&&V?di._fromTokenResponse(T,V):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ns(I,h){return h?ie(h):(Ce(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Os extends dn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return xr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return xr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return xr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function _u(I){return de(I.auth,new Os(I),I.bypassAuthState)}function ds(I){const{auth:h,user:p}=I;return Ce(p,h,"internal-error"),N(p,new Os(I),I.bypassAuthState)}function dl(I){return z.apply(this,arguments)}function z(){return(z=(0,m.Z)(function*(I){const{auth:h,user:p}=I;return Ce(p,h,"internal-error"),ji(p,new Os(I),I.bypassAuthState)})).apply(this,arguments)}class Q{constructor(h,p,T,V,Y=!1){this.auth=h,this.resolver=T,this.user=V,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(T,V){h.pendingPromise={resolve:T,reject:V};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Y){h.reject(Y)}});return function(T,V){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:T,sessionId:V,postBody:Y,tenantId:Be,error:gt,type:Yt}=h;if(gt)return void p.reject(gt);const In={auth:p.auth,requestUri:T,sessionId:V,tenantId:Be||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Yt)(In))}catch(Yn){p.reject(Yn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return _u;case"linkViaPopup":case"linkViaRedirect":return dl;case"reauthViaPopup":case"reauthViaRedirect":return ds;default:Ue(this.auth,"internal-error")}}resolve(h){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const B=new et(2e3,1e4);function le(I,h,p){return je.apply(this,arguments)}function je(){return(je=(0,m.Z)(function*(I,h,p){const T=yn(I);ke(I,h,ui);const V=Ns(T,p);return new Oi(T,"signInViaPopup",h,V).executeNotNull()})).apply(this,arguments)}function Lt(I,h,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I);ke(T.auth,h,ui);const V=Ns(T.auth,p);return new Oi(T.auth,"reauthViaPopup",h,V,T).executeNotNull()})).apply(this,arguments)}function nr(I,h,p){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I);ke(T.auth,h,ui);const V=Ns(T.auth,p);return new Oi(T.auth,"linkViaPopup",h,V,T).executeNotNull()})).apply(this,arguments)}let Oi=(()=>{class I extends Q{constructor(p,T,V,Y,Be){super(p,T,Y,Be),this.provider=V,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const T=yield p.execute();return Ce(T,p.auth,"internal-error"),T})()}onExecution(){var p=this;return(0,m.Z)(function*(){Z(1===p.filter.length,"Popup operations only handle one event");const T=hn();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],T),p.authWindow.associatedEvent=T,p.resolver._originValidation(p.auth).catch(V=>{p.reject(V)}),p.resolver._isIframeWebStorageSupported(p.auth,V=>{V||p.reject(Re(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const p=()=>{var T,V;this.pollId=(null===(V=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===V?void 0:V.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,B.get())};p()}}return I.currentPopupAction=null,I})();const ko=new Map;class Qr extends Q{constructor(h,p,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let T=ko.get(p.auth._key());if(!T){try{const Y=(yield function(I,h){return Lr.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;T=()=>Promise.resolve(Y)}catch(V){T=()=>Promise.reject(V)}ko.set(p.auth._key(),T)}return p.bypassAuthState||ko.set(p.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,T=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(T,h);if("unknown"!==h.type){if(h.eventId){const V=yield T.auth._redirectUserForId(h.eventId);if(V)return T.user=V,p().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Lr(){return(Lr=(0,m.Z)(function*(I,h){const p=ea(h),T=$a(I);if(!(yield T._isAvailable()))return!1;const V="true"===(yield T._get(p));return yield T._remove(p),V})).apply(this,arguments)}function uo(I,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,m.Z)(function*(I,h){return $a(I)._set(ea(h),"true")})).apply(this,arguments)}function va(){ko.clear()}function $a(I){return ie(I._redirectPersistence)}function ea(I){return lt("pendingRedirect",I.config.apiKey,I.name)}function hl(I,h,p){return function(I,h,p){return Ea.apply(this,arguments)}(I,h,p)}function Ea(){return(Ea=(0,m.Z)(function*(I,h,p){const T=yn(I);ke(I,h,ui);const V=Ns(T,p);return yield uo(V,T),V._openRedirect(T,h,"signInViaRedirect")})).apply(this,arguments)}function ks(I,h,p){return function(I,h,p){return yo.apply(this,arguments)}(I,h,p)}function yo(){return(yo=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I);ke(T.auth,h,ui);const V=Ns(T.auth,p);yield uo(V,T.auth);const Y=yield ml(T);return V._openRedirect(T.auth,h,"reauthViaRedirect",Y)})).apply(this,arguments)}function Ha(I,h,p){return function(I,h,p){return Jr.apply(this,arguments)}(I,h,p)}function Jr(){return(Jr=(0,m.Z)(function*(I,h,p){const T=(0,_.m9)(I);ke(T.auth,h,ui);const V=Ns(T.auth,p);yield R(!1,T,h.providerId),yield uo(V,T.auth);const Y=yield ml(T);return V._openRedirect(T.auth,h,"linkViaRedirect",Y)})).apply(this,arguments)}function gl(I,h){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,m.Z)(function*(I,h){return yield yn(I)._initializationPromise,Fo(I,h,!1)})).apply(this,arguments)}function Fo(I,h){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,m.Z)(function*(I,h,p=!1){const T=yn(I),V=Ns(T,h),Be=yield new Qr(T,V,p).execute();return Be&&!p&&(delete Be.user._redirectEventId,yield T._persistUserIfCurrent(Be.user),yield T._setRedirectUser(null,h)),Be})).apply(this,arguments)}function ml(I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,m.Z)(function*(I){const h=hn(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class za{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(p=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lo(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var T;if(h.error&&!Lo(h)){const V=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";p.onError(Re(this.auth,V))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const T=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_o(h))}saveEventToCache(h){this.cachedEventUids.add(_o(h)),this.lastProcessedEventTime=Date.now()}}function _o(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Lo({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===(null==h?void 0:h.code)}function yl(I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(I,h={}){return Gt(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ta=/^https?/;function bc(){return(bc=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield yl(I);for(const p of h)try{if(zu(p))return}catch(T){}Ue(I,"unauthorized-domain")})).apply(this,arguments)}function zu(I){const h=re(),{protocol:p,hostname:T}=new URL(h);if(I.startsWith("chrome-extension://")){const Be=new URL(I);return""===Be.hostname&&""===T?"chrome-extension:"===p&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Be.hostname===T}if(!ta.test(p))return!1;if(Dc.test(I))return T===I;const V=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(T)}const vu=new et(3e4,6e4);function Eu(){const I=wt().___jsl;if(null==I?void 0:I.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let p=0;p<I.CP.length;p++)I.CP[p]=null}let Iu=null;function Gu(I){return Iu=Iu||function(I){return new Promise((h,p)=>{var T,V,Y;function Be(){Eu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Eu(),p(Re(I,"network-request-failed"))},timeout:vu.get()})}if(null===(V=null===(T=wt().gapi)||void 0===T?void 0:T.iframes)||void 0===V?void 0:V.Iframe)h(gapi.iframes.getContext());else{if(!(null===(Y=wt().gapi)||void 0===Y?void 0:Y.load)){const gt=dr("iframefcb");return wt()[gt]=()=>{gapi.load?Be():p(Re(I,"network-request-failed"))},Yr(`https://apis.google.com/js/api.js?onload=${gt}`)}Be()}}).catch(h=>{throw Iu=null,h})}(I),Iu}const Bh=new et(5e3,15e3),Cd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wa(I){const h=I.config;Ce(h.authDomain,I,"auth-domain-config-required");const p=h.emulator?Mt(h,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:I.name,v:ae.SDK_VERSION},V=Dd.get(I.config.apiHost);V&&(T.eid=V);const Y=I._getFrameworks();return Y.length&&(T.fw=Y.join(",")),`${p}?${(0,_.xO)(T).slice(1)}`}function na(){return na=(0,m.Z)(function*(I){const h=yield Gu(I),p=wt().gapi;return Ce(p,I,"internal-error"),h.open({where:document.body,url:wa(I),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cd,dontclear:!0},T=>new Promise(function(){var V=(0,m.Z)(function*(Y,Be){yield T.restyle({setHideOnLeave:!1});const gt=Re(I,"network-request-failed"),Yt=wt().setTimeout(()=>{Be(gt)},Bh.get());function In(){wt().clearTimeout(Yt),Y(T)}T.ping(In).then(In,()=>{Be(gt)})});return function(Y,Be){return V.apply(this,arguments)}}()))}),na.apply(this,arguments)}const bd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ci{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Cu(I,h,p,T,V,Y){Ce(I.config.authDomain,I,"auth-domain-config-required"),Ce(I.config.apiKey,I,"invalid-api-key");const Be={apiKey:I.config.apiKey,appName:I.name,authType:p,redirectUrl:T,v:ae.SDK_VERSION,eventId:V};if(h instanceof ui){h.setDefaultLanguage(I.languageCode),Be.providerId=h.providerId||"",(0,_.xb)(h.getCustomParameters())||(Be.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Yt,In]of Object.entries(Y||{}))Be[Yt]=In}if(h instanceof Ei){const Yt=h.getScopes().filter(In=>""!==In);Yt.length>0&&(Be.scopes=Yt.join(","))}I.tenantId&&(Be.tid=I.tenantId);const gt=Be;for(const Yt of Object.keys(gt))void 0===gt[Yt]&&delete gt[Yt];return`${function({config:I}){return I.emulator?Mt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,_.xO)(gt).slice(1)}`}const Xr="webStorageSupport",Bo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mi,this._completeRedirectFn=Fo}_openPopup(h,p,T,V){var Y=this;return(0,m.Z)(function*(){var Be;Z(null===(Be=Y.eventManagers[h._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const gt=Cu(h,p,T,re(),V);return function(I,h,p,T=500,V=600){const Y=Math.max((window.screen.availHeight-V)/2,0).toString(),Be=Math.max((window.screen.availWidth-T)/2,0).toString();let gt="";const Yt=Object.assign(Object.assign({},bd),{width:T.toString(),height:V.toString(),top:Y,left:Be}),In=(0,_.z$)().toLowerCase();p&&(gt=tn(In)?"_blank":p),gn(In)&&(h=h||"http://localhost",Yt.scrollbars="yes");const Yn=Object.entries(Yt).reduce((qs,[Da,Cl])=>`${qs}${Da}=${Cl},`,"");if(function(I=(0,_.z$)()){var h;return tr(I)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(In)&&"_self"!==gt)return function(I,h){const p=document.createElement("a");p.href=I,p.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(T)}(h||"",gt),new ci(null);const Kr=window.open(h||"",gt,Yn);Ce(Kr,I,"popup-blocked");try{Kr.focus()}catch(qs){}return new ci(Kr)}(h,gt,hn())})()}_openRedirect(h,p,T,V){var Y=this;return(0,m.Z)(function*(){return yield Y._originValidation(h),I=Cu(h,p,T,re(),V),wt().location.href=I,new Promise(()=>{});var I})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:V,promise:Y}=this.eventManagers[p];return V?Promise.resolve(V):(Z(Y,"If manager is not set, promise should be"),Y)}const T=this.initAndGetManager(h);return this.eventManagers[p]={promise:T},T}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const T=yield function(I){return na.apply(this,arguments)}(h),V=new za(h);return T.register("authEvent",Y=>(Ce(null==Y?void 0:Y.authEvent,h,"invalid-auth-event"),{status:V.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:V},p.iframes[h._key()]=T,V})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Xr,{type:Xr},V=>{var Y;const Be=null===(Y=null==V?void 0:V[0])||void 0===Y?void 0:Y[Xr];void 0!==Be&&p(!!Be),Ue(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(I){return bc.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Kt()||En()||tr()}};class Ac extends class{constructor(h){this.factorId=h}_process(h,p,T){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,T);case"signin":return this._finalizeSignIn(h,p.credential);default:return Nt("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ac(h)}_finalizeEnroll(h,p,T){return function(I,h){return Gt(I,"POST","/v2/accounts/mfaEnrollment:finalize",kt(I,h))}(h,{idToken:p,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function(I,h){return Gt(I,"POST","/v2/accounts/mfaSignIn:finalize",kt(I,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Il=(()=>{class I{constructor(){}static assertion(p){return Ac._fromCredential(p)}}return I.FACTOR_ID="phone",I})();var I,Sd="@firebase/auth";class $h{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(T=>{var V;h((null===(V=T)||void 0===V?void 0:V.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sc(I=(0,ae.getApp)()){const h=(0,ae._getProvider)(I,"auth");return h.isInitialized()?h.getImmediate():function(I,h){const p=(0,ae._getProvider)(I,"auth");if(p.isInitialized()){const V=p.getImmediate(),Y=p.getOptions();if((0,_.vZ)(Y,null!=h?h:{}))return V;Ue(V,"already-initialized")}return p.initialize({options:h})}(I,{popupRedirectResolver:Bo,persistence:[qn,At,mi]})}I="Browser",(0,ae._registerComponent)(new Ie.wA("auth",(h,{options:p})=>{const T=h.getProvider("app").getImmediate(),{apiKey:V,authDomain:Y}=T.options;return(Be=>{Ce(V&&!V.includes(":"),"invalid-api-key",{appName:Be.name}),Ce(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:Be.name});const gt={apiKey:V,authDomain:Y,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(I)},Yt=new Cr(Be,gt);return function(I,h){const p=(null==h?void 0:h.persistence)||[],T=(Array.isArray(p)?p:[p]).map(ie);(null==h?void 0:h.errorMap)&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(T,null==h?void 0:h.popupRedirectResolver)}(Yt,p),Yt})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,T)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ie.wA("auth-internal",h=>{const p=yn(h.getProvider("auth").getImmediate());return new $h(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Sd,"0.19.3",void 0),(0,ae.registerVersion)(Sd,"0.19.3","esm2017")},5023:(Dt,Ne,k)=>{"use strict";k.d(Ne,{u7:()=>Eh,Jj:()=>ca,IX:()=>zy,my:()=>ki,xU:()=>gc,Lz:()=>_i,WA:()=>_t,F8:()=>Qc,$q:()=>tl,W:()=>nl,EK:()=>S,PU:()=>mm,l7:()=>Gc,Ky:()=>nn,Xb:()=>$t,Cf:()=>wr,K9:()=>oo,Me:()=>Zn,yq:()=>mi,Wi:()=>qf,ET:()=>hd,Ab:()=>gp,vr:()=>u_,Fc:()=>qc,hJ:()=>Mv,B$:()=>nm,at:()=>tm,oe:()=>Vv,AK:()=>Em,TF:()=>Zy,JU:()=>Yf,ST:()=>Ky,fH:()=>qy,Ix:()=>ud,Wu:()=>fm,Lx:()=>r_,qY:()=>es,GL:()=>ku,QT:()=>s_,kl:()=>o_,Xk:()=>ym,PL:()=>_m,UQ:()=>cp,zN:()=>Lv,ad:()=>Gy,nP:()=>mp,b9:()=>kv,vh:()=>t_,Pb:()=>Jf,L$:()=>Ra,cf:()=>vm,sc:()=>dp,Xo:()=>Pv,IO:()=>Jy,iE:()=>im,Eo:()=>rm,i3:()=>pp,Bt:()=>Uv,pl:()=>lp,Ub:()=>_c,qK:()=>Yy,TQ:()=>n_,e0:()=>Fv,r7:()=>a_,Mx:()=>om,ar:()=>op});var J,m=k(8239),_=k(1572),ae=k(1177),pe=k(3855),ne=k(4213),Ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ce={},Te=Te||{},q=Ie||self;function te(){}function ve(s){var n=typeof s;return"array"==(n="object"!=n?n:s?Array.isArray(s)?"array":n:"null")||"object"==n&&"number"==typeof s.length}function $e(s){var n=typeof s;return"object"==n&&null!=s||"function"==n}var ot="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function Le(s,n,i){return s.call.apply(s.bind,arguments)}function Ee(s,n,i){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),s.apply(n,l)}}return function(){return s.apply(n,arguments)}}function Pe(s,n,i){return(Pe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Le:Ee).apply(null,arguments)}function Ue(s,n){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function Re(s,n){function i(){}i.prototype=n.prototype,s.Z=n.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(a,l,f){for(var C=Array(arguments.length-2),x=2;x<arguments.length;x++)C[x-2]=arguments[x];return n.prototype[l].apply(a,C)}}function at(){this.s=this.s,this.o=this.o}var dt={};at.prototype.s=!1,at.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,ot)&&s[ot]||(s[ot]=++ut)}(this);delete dt[s]}},at.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ce=Array.prototype.indexOf?function(s,n){return Array.prototype.indexOf.call(s,n,void 0)}:function(s,n){if("string"==typeof s)return"string"!=typeof n||1!=n.length?-1:s.indexOf(n,0);for(let i=0;i<s.length;i++)if(i in s&&s[i]===n)return i;return-1},Nt=Array.prototype.forEach?function(s,n,i){Array.prototype.forEach.call(s,n,i)}:function(s,n,i){const a=s.length,l="string"==typeof s?s.split(""):s;for(let f=0;f<a;f++)f in l&&n.call(i,l[f],f,s)};function X(s){return Array.prototype.concat.apply([],arguments)}function ie(s){const n=s.length;if(0<n){const i=Array(n);for(let a=0;a<n;a++)i[a]=s[a];return i}return[]}function ge(s){return/^[\s\xa0]*$/.test(s)}var ht,xe=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function re(s,n){return-1!=s.indexOf(n)}function vt(s,n){return s<n?-1:s>n?1:0}e:{var Bt=q.navigator;if(Bt){var tt=Bt.userAgent;if(tt){ht=tt;break e}}ht=""}function et(s,n,i){for(const a in s)n.call(i,s[a],a,s)}function Mt(s){const n={};for(const i in s)n[i]=s[i];return n}var Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function an(s,n){let i,a;for(let l=1;l<arguments.length;l++){for(i in a=arguments[l],a)s[i]=a[i];for(let f=0;f<Ut.length;f++)i=Ut[f],Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}}function wn(s){return wn[" "](s),s}wn[" "]=te;var Hn,s,Gt=re(ht,"Opera"),un=re(ht,"Trident")||re(ht,"MSIE"),pn=re(ht,"Edge"),Un=pn||un,Bn=re(ht,"Gecko")&&!(re(ht.toLowerCase(),"webkit")&&!re(ht,"Edge"))&&!(re(ht,"Trident")||re(ht,"MSIE"))&&!re(ht,"Edge"),zn=re(ht.toLowerCase(),"webkit")&&!re(ht,"Edge");function Xn(){var s=q.document;return s?s.documentMode:void 0}e:{var Rn="",rr=(s=ht,Bn?/rv:([^\);]+)(\)|;)/.exec(s):pn?/Edge\/([\d\.]+)/.exec(s):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):zn?/WebKit\/(\S+)/.exec(s):Gt?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(rr&&(Rn=rr?rr[1]:""),un){var Qn=Xn();if(null!=Qn&&Qn>parseFloat(Rn)){Hn=String(Qn);break e}}Hn=Rn}var Ct={};function zt(){return n=Ct,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let s=0;const n=xe(String(Hn)).split("."),i=xe("9").split("."),a=Math.max(n.length,i.length);for(let C=0;0==s&&C<a;C++){var l=n[C]||"",f=i[C]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;s=vt(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||vt(0==l[2].length,0==f[2].length)||vt(l[2],f[2]),l=l[3],f=f[3]}while(0==s)}return 0<=s}();var n}var Zt=q.document&&un&&(Xn()||parseInt(Hn,10))||void 0,Jt=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var s=!1,n=Object.defineProperty({},"passive",{get:function(){s=!0}});try{q.addEventListener("test",te,n),q.removeEventListener("test",te,n)}catch(i){}return s}();function Qt(s,n){this.type=s,this.g=this.target=n,this.defaultPrevented=!1}function sn(s,n){if(Qt.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=n,n=s.relatedTarget){if(Bn){e:{try{wn(n.nodeName);var l=!0;break e}catch(f){}l=!1}l||(n=null)}}else"mouseover"==i?n=s.fromElement:"mouseout"==i&&(n=s.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Ht[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&sn.Z.h.call(this)}}Qt.prototype.h=function(){this.defaultPrevented=!0},Re(sn,Qt);var Ht={2:"touch",3:"pen",4:"mouse"};sn.prototype.h=function(){sn.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),St=0;function Ot(s,n,i,a,l){this.listener=s,this.proxy=null,this.src=n,this.type=i,this.capture=!!a,this.ia=l,this.key=++St,this.ca=this.fa=!1}function Jn(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function $r(s){this.src=s,this.g={},this.h=0}function vr(s,n){var i=n.type;if(i in s.g){var f,a=s.g[i],l=Ce(a,n);(f=0<=l)&&Array.prototype.splice.call(a,l,1),f&&(Jn(n),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Cn(s,n,i,a){for(var l=0;l<s.length;++l){var f=s[l];if(!f.ca&&f.listener==n&&f.capture==!!i&&f.ia==a)return l}return-1}$r.prototype.add=function(s,n,i,a,l){var f=s.toString();(s=this.g[f])||(s=this.g[f]=[],this.h++);var C=Cn(s,n,a,l);return-1<C?(n=s[C],i||(n.fa=!1)):((n=new Ot(n,this.src,f,!!a,l)).fa=i,s.push(n)),n};var Sn="closure_lm_"+(1e6*Math.random()|0),qr={};function me(s,n,i,a,l){if(a&&a.once)return We(s,n,i,a,l);if(Array.isArray(n)){for(var f=0;f<n.length;f++)me(s,n[f],i,a,l);return null}return i=bt(i),s&&s[cn]?s.N(n,i,$e(a)?!!a.capture:!!a,l):oe(s,n,i,!1,a,l)}function oe(s,n,i,a,l,f){if(!n)throw Error("Invalid event type");var C=$e(l)?!!l.capture:!!l,x=nt(s);if(x||(s[Sn]=x=new $r(s)),(i=x.add(n,i,a,C,f)).proxy)return i;if(a=function(){var n=He;return function s(i){return n.call(s.src,s.listener,i)}}(),i.proxy=a,a.src=s,a.listener=i,s.addEventListener)Jt||(l=C),void 0===l&&(l=!1),s.addEventListener(n.toString(),a,l);else if(s.attachEvent)s.attachEvent(Ae(n.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return i}function We(s,n,i,a,l){if(Array.isArray(n)){for(var f=0;f<n.length;f++)We(s,n[f],i,a,l);return null}return i=bt(i),s&&s[cn]?s.O(n,i,$e(a)?!!a.capture:!!a,l):oe(s,n,i,!0,a,l)}function Me(s,n,i,a,l){if(Array.isArray(n))for(var f=0;f<n.length;f++)Me(s,n[f],i,a,l);else a=$e(a)?!!a.capture:!!a,i=bt(i),s&&s[cn]?(s=s.i,(n=String(n).toString())in s.g&&-1<(i=Cn(f=s.g[n],i,a,l))&&(Jn(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete s.g[n],s.h--))):s&&(s=nt(s))&&(n=s.g[n.toString()],s=-1,n&&(s=Cn(n,i,a,l)),(i=-1<s?n[s]:null)&&Pt(i))}function Pt(s){if("number"!=typeof s&&s&&!s.ca){var n=s.src;if(n&&n[cn])vr(n.i,s);else{var i=s.type,a=s.proxy;n.removeEventListener?n.removeEventListener(i,a,s.capture):n.detachEvent?n.detachEvent(Ae(i),a):n.addListener&&n.removeListener&&n.removeListener(a),(i=nt(n))?(vr(i,s),0==i.h&&(i.src=null,n[Sn]=null)):Jn(s)}}}function Ae(s){return s in qr?qr[s]:qr[s]="on"+s}function He(s,n){if(s.ca)s=!0;else{n=new sn(n,this);var i=s.listener,a=s.ia||s.src;s.fa&&Pt(s),s=i.call(a,n)}return s}function nt(s){return(s=s[Sn])instanceof $r?s:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(s){return"function"==typeof s?s:(s[It]||(s[It]=function(n){return s.handleEvent(n)}),s[It])}function lt(){at.call(this),this.i=new $r(this),this.P=this,this.I=null}function xt(s,n){var i,a=s.I;if(a)for(i=[];a;a=a.I)i.push(a);if(s=s.P,a=n.type||n,"string"==typeof n)n=new Qt(n,s);else if(n instanceof Qt)n.target=n.target||s;else{var l=n;an(n=new Qt(a,s),l)}if(l=!0,i)for(var f=i.length-1;0<=f;f--){var C=n.g=i[f];l=on(C,a,!0,n)&&l}if(l=on(C=n.g=s,a,!0,n)&&l,l=on(C,a,!1,n)&&l,i)for(f=0;f<i.length;f++)l=on(C=n.g=i[f],a,!1,n)&&l}function on(s,n,i,a){if(!(n=s.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,f=0;f<n.length;++f){var C=n[f];if(C&&!C.ca&&C.capture==i){var x=C.listener,L=C.ia||C.src;C.fa&&vr(s.i,C),l=!1!==x.call(L,a)&&l}}return l&&!a.defaultPrevented}Re(lt,at),lt.prototype[cn]=!0,lt.prototype.removeEventListener=function(s,n,i,a){Me(this,s,n,i,a)},lt.prototype.M=function(){if(lt.Z.M.call(this),this.i){var n,s=this.i;for(n in s.g){for(var i=s.g[n],a=0;a<i.length;a++)Jn(i[a]);delete s.g[n],s.h--}}this.I=null},lt.prototype.N=function(s,n,i,a){return this.i.add(String(s),n,!1,i,a)},lt.prototype.O=function(s,n,i,a){return this.i.add(String(s),n,!0,i,a)};var gn=q.JSON.stringify;function En(){var s=Tt;let n=null;return s.g&&(n=s.g,s.g=s.g.next,s.g||(s.h=null),n.next=null),n}var tr,ar=new class{constructor(s,n){this.i=s,this.j=n,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Sr,s=>s.reset());class Sr{constructor(){this.next=this.g=this.h=null}set(n,i){this.h=n,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function Dn(s){q.setTimeout(()=>{throw s},0)}function Mr(s,n){tr||function(){var s=q.Promise.resolve(void 0);tr=function(){s.then(Kt)}}(),Ir||(tr(),Ir=!0),Tt.add(s,n)}var Ir=!1,Tt=new class{constructor(){this.h=this.g=null}add(n,i){const a=ar.get();a.set(n,i),this.h?this.h.next=a:this.g=a,this.h=a}};function Kt(){for(var s;s=En();){try{s.h.call(s.g)}catch(i){Dn(i)}var n=ar;n.j(s),100>n.h&&(n.h++,s.next=n.g,n.g=s)}Ir=!1}function xn(s,n){lt.call(this),this.h=s||1,this.g=n||q,this.j=Pe(this.kb,this),this.l=Date.now()}function mr(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function Cr(s,n,i){if("function"==typeof s)i&&(s=Pe(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Pe(s.handleEvent,s)}return 2147483647<Number(n)?-1:q.setTimeout(s,n||0)}function yn(s){s.g=Cr(()=>{s.g=null,s.i&&(s.i=!1,yn(s))},s.j);const n=s.h;s.h=null,s.m.apply(null,n)}Re(xn,lt),(J=xn.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xt(this,"tick"),this.da&&(mr(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){xn.Z.M.call(this),mr(this),delete this.g};class Nn extends at{constructor(n,i){super(),this.m=n,this.j=i,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:yn(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fe(s){at.call(this),this.h=s,this.g={}}Re(fe,at);var Ge=[];function ft(s,n,i,a){Array.isArray(i)||(i&&(Ge[0]=i.toString()),i=Ge);for(var l=0;l<i.length;l++){var f=me(n,i[l],a||s.handleEvent,!1,s.h||s);if(!f)break;s.g[f.key]=f}}function it(s){et(s.g,function(n,i){this.g.hasOwnProperty(i)&&Pt(n)},s),s.g={}}function Pn(){this.g=!0}function Mn(s,n,i,a){s.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(s,n){if(!s.g)return n;if(!n)return null;try{var i=JSON.parse(n);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var a=i[s];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var C=1;C<l.length;C++)l[C]=""}}}return gn(i)}catch(x){return n}}(s,i)+(a?" "+a:"")})}fe.prototype.M=function(){fe.Z.M.call(this),it(this)},fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pn.prototype.Aa=function(){this.g=!1},Pn.prototype.info=function(){};var ni={},Vr=null;function kn(){return Vr=Vr||new lt}function ts(s){Qt.call(this,ni.Ma,s)}function Dr(s){const n=kn();xt(n,new ts(n,s))}function Hr(s,n){Qt.call(this,ni.STAT_EVENT,s),this.stat=n}function cr(s){const n=kn();xt(n,new Hr(n,s))}function De(s,n){Qt.call(this,ni.Na,s),this.size=n}function we(s,n){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){s()},n)}ni.Ma="serverreachability",Re(ts,Qt),ni.STAT_EVENT="statevent",Re(Hr,Qt),ni.Na="timingevent",Re(De,Qt);var Oe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mt(){}function jt(){}mt.prototype.h=null;var yr,jn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mn(){Qt.call(this,"d")}function Rr(){Qt.call(this,"c")}function Ur(){}function xr(s,n,i,a){this.l=s,this.j=n,this.m=i,this.X=a||1,this.V=new fe(this),this.P=Hs,this.W=new xn(s=Un?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wr}function Wr(){this.i=null,this.g="",this.h=!1}Re(mn,Qt),Re(Rr,Qt),Re(Ur,mt),Ur.prototype.g=function(){return new XMLHttpRequest},Ur.prototype.i=function(){return{}},yr=new Ur;var Hs=45e3,li={},Ri={};function xi(s,n,i){s.K=1,s.v=rs(zr(n)),s.s=i,s.U=!0,Vi(s,null)}function Vi(s,n){s.F=Date.now(),gs(s),s.A=zr(s.v);var i=s.A,a=s.X;Array.isArray(a)||(a=[String(a)]),N(i.h,"t",a),s.C=0,i=s.l.H,s.h=new Wr,s.g=gu(s.l,i?n:null,!s.s),0<s.O&&(s.L=new Nn(Pe(s.Ia,s,s.g),s.O)),ft(s.V,s.g,"readystatechange",s.gb),n=s.H?Mt(s.H):{},s.s?(s.u||(s.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,n)):(s.u="GET",s.g.ea(s.A,s.u,null,n)),Dr(1),function(s,n,i,a,l,f){s.info(function(){if(s.g)if(f)for(var C="",x=f.split("&"),L=0;L<x.length;L++){var K=x[L].split("=");if(1<K.length){var se=K[0];K=K[1];var Se=se.split("_");C=2<=Se.length&&"type"==Se[1]?C+(se+"=")+K+"&":C+(se+"=redacted&")}}else C=null;else C=f;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+i+"\n"+C})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Ts(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function Wi(s,n,i){let l,a=!0;for(;!s.I&&s.C<i.length;){if(l=zi(s,i),l==Ri){4==n&&(s.o=4,cr(14),a=!1),Mn(s.j,s.m,null,"[Incomplete Response]");break}if(l==li){s.o=4,cr(15),Mn(s.j,s.m,i,"[Invalid Chunk]"),a=!1;break}Mn(s.j,s.m,l,null),ns(s,l)}Ts(s)&&l!=Ri&&l!=li&&(s.h.g="",s.C=0),4!=n||0!=i.length||s.h.h||(s.o=1,cr(16),a=!1),s.i=s.i&&a,a?0<i.length&&!s.aa&&(s.aa=!0,(n=s.l).g==s&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),ro(n),n.L=!0,cr(11))):(Mn(s.j,s.m,i,"[Invalid Chunked Response]"),ms(s),di(s))}function zi(s,n){var i=s.C,a=n.indexOf("\n",i);return-1==a?Ri:(i=Number(n.substring(i,a)),isNaN(i)?li:(a+=1)+i>n.length?Ri:(n=n.substr(a,i),s.C=a+i,n))}function gs(s){s.Y=Date.now()+s.P,As(s,s.P)}function As(s,n){if(null!=s.B)throw Error("WatchDog timer not null");s.B=we(Pe(s.eb,s),n)}function Ui(s){s.B&&(q.clearTimeout(s.B),s.B=null)}function di(s){0==s.l.G||s.I||fu(s.l,s)}function ms(s){Ui(s);var n=s.L;n&&"function"==typeof n.na&&n.na(),s.L=null,mr(s.W),it(s.V),s.g&&(n=s.g,s.g=null,n.abort(),n.na())}function ns(s,n){try{var i=s.l;if(0!=i.G&&(i.g==s||y(i.i,s)))if(i.I=s.N,!s.J&&y(i.i,s)&&3==i.G){try{var a=i.Ca.g.parse(n)}catch(K){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(i.u)i.ta=l[1],0<i.ta-i.U&&37500>l[2]&&i.N&&0==i.A&&!i.v&&(i.v=we(Pe(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;fo(i),bo(i)}qo(i),cr(18)}if(1>=M(i.i)&&i.ka){try{i.ka()}catch(K){}i.ka=void 0}}else Or(i,11)}else if((s.J||i.g==s)&&fo(i),!ge(n))for(l=i.Ca.g.parse(n),n=0;n<l.length;n++){let K=l[n];if(i.U=K[0],K=K[1],2==i.G)if("c"==K[0]){i.J=K[1],i.la=K[2];const se=K[3];null!=se&&(i.ma=se,i.h.info("VER="+i.ma));const Se=K[4];null!=Se&&(i.za=Se,i.h.info("SVER="+i.za));const Xe=K[5];null!=Xe&&"number"==typeof Xe&&0<Xe&&(i.K=a=1.5*Xe,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;const pt=s.g;if(pt){const Vt=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vt){var f=a.i;!f.g&&(re(Vt,"spdy")||re(Vt,"quic")||re(Vt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(b(f,f.h),f.h=null))}if(a.D){const ln=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(a.sa=ln,Gn(a.F,a.D,ln))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var C=s;if((a=i).oa=Pr(a,a.H?a.la:null,a.W),C.J){H(a.i,C);var x=C,L=a.K;L&&x.setTimeout(L),x.B&&(Ui(x),gs(x)),a.g=C}else Ko(a);0<i.l.length&&zo(i)}else"stop"!=K[0]&&"close"!=K[0]||Or(i,7);else 3==i.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Or(i,7):ya(i):"noop"!=K[0]&&i.j&&i.j.wa(K),i.A=0)}Dr(4)}catch(K){}}function Ss(s,n){if(s.forEach&&"function"==typeof s.forEach)s.forEach(n,void 0);else if(ve(s)||"string"==typeof s)Nt(s,n,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(ve(s)||"string"==typeof s){i=[];for(var a=s.length,l=0;l<a;l++)i.push(l)}else for(l in i=[],a=0,s)i[a++]=l;a=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(ve(s)){for(var n=[],i=s.length,a=0;a<i;a++)n.push(s[a]);return n}for(a in n=[],i=0,s)n[i++]=s[a];return n}(s),l=a.length;for(var f=0;f<l;f++)n.call(void 0,a[f],i&&i[f],s)}}function hi(s,n){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(s)if(s instanceof hi)for(i=s.T(),a=0;a<i.length;a++)this.set(i[a],s.get(i[a]));else for(a in s)this.set(a,s[a])}function ui(s){if(s.i!=s.g.length){for(var n=0,i=0;n<s.g.length;){var a=s.g[n];Ei(s.h,a)&&(s.g[i++]=a),n++}s.g.length=i}if(s.i!=s.g.length){var l={};for(i=n=0;n<s.g.length;)Ei(l,a=s.g[n])||(s.g[i++]=a,l[a]=1),n++;s.g.length=i}}function Ei(s,n){return Object.prototype.hasOwnProperty.call(s,n)}(J=xr.prototype).setTimeout=function(s){this.P=s},J.gb=function(s){s=s.target;const n=this.L;n&&3==bi(s)?n.l():this.Ia(s)},J.Ia=function(s){try{if(s==this.g)e:{const se=bi(this.g);var n=this.g.Da();const Se=this.g.ba();if(!(3>se)&&(3!=se||Un||this.g&&(this.h.h||this.g.ga()||ga(this.g)))){this.I||4!=se||7==n||Dr(8==n||0>=Se?3:2),Ui(this);var i=this.g.ba();this.N=i;t:if(Ts(this)){var a=ga(this.g);s="";var l=a.length,f=4==bi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ms(this),di(this);var C="";break t}this.h.i=new q.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,s+=this.h.i.decode(a[n],{stream:f&&n==l-1});a.splice(0,l),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==i,function(s,n,i,a,l,f,C){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+i+"\n"+f+" "+C})}(this.j,this.u,this.A,this.m,this.X,se,i),this.i){if(this.$&&!this.J){t:{if(this.g){var x,L=this.g;if((x=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(x)){var K=x;break t}}K=null}if(!(i=K)){this.i=!1,this.o=3,cr(12),ms(this),di(this);break e}Mn(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ns(this,i)}this.U?(Wi(this,se,C),Un&&this.i&&3==se&&(ft(this.V,this.W,"tick",this.fb),this.W.start())):(Mn(this.j,this.m,C,null),ns(this,C)),4==se&&ms(this),this.i&&!this.I&&(4==se?fu(this.l,this):(this.i=!1,gs(this)))}else 400==i&&0<C.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),ms(this),di(this)}}}catch(se){}},J.fb=function(){if(this.g){var s=bi(this.g),n=this.g.ga();this.C<n.length&&(Ui(this),Wi(this,s,n),this.i&&4!=s&&gs(this))}},J.cancel=function(){this.I=!0,ms(this)},J.eb=function(){this.B=null;const s=Date.now();0<=s-this.Y?(function(s,n){s.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Dr(3),cr(17)),ms(this),this.o=2,di(this)):As(this,this.Y-s)},(J=hi.prototype).R=function(){ui(this);for(var s=[],n=0;n<this.g.length;n++)s.push(this.h[this.g[n]]);return s},J.T=function(){return ui(this),this.g.concat()},J.get=function(s,n){return Ei(this.h,s)?this.h[s]:n},J.set=function(s,n){Ei(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=n},J.forEach=function(s,n){for(var i=this.T(),a=0;a<i.length;a++){var l=i[a],f=this.get(l);s.call(n,f,l,this)}};var Gi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ri(s,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof ri){this.g=void 0!==n?n:s.g,Nr(this,s.j),this.s=s.s,Ni(this,s.i),fi(this,s.m),this.l=s.l,n=s.h;var i=new ji;i.i=n.i,n.g&&(i.g=new hi(n.g),i.h=n.h),Bi(this,i),this.o=s.o}else s&&(i=String(s).match(Gi))?(this.g=!!n,Nr(this,i[1]||"",!0),this.s=fr(i[2]||""),Ni(this,i[3]||"",!0),fi(this,i[4]),this.l=fr(i[5]||"",!0),Bi(this,i[6]||"",!0),this.o=fr(i[7]||"")):(this.g=!!n,this.h=new ji(null,this.g))}function zr(s){return new ri(s)}function Nr(s,n,i){s.j=i?fr(n,!0):n,s.j&&(s.j=s.j.replace(/:$/,""))}function Ni(s,n,i){s.i=i?fr(n,!0):n}function fi(s,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);s.m=n}else s.m=null}function Bi(s,n,i){n instanceof ji?(s.h=n,function(s,n){n&&!s.j&&(wi(s),s.i=null,s.g.forEach(function(i,a){var l=a.toLowerCase();a!=l&&(R(this,a),N(this,l,i))},s)),s.j=n}(s.h,s.g)):(i||(n=is(n,to)),s.h=new ji(n,s.g))}function Gn(s,n,i){s.h.set(n,i)}function rs(s){return Gn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function fr(s,n){return s?n?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function is(s,n,i){return"string"==typeof s?(s=encodeURI(s).replace(n,ss),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function ss(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}ri.prototype.toString=function(){var s=[],n=this.j;n&&s.push(is(n,os,!0),":");var i=this.i;return(i||"file"==n)&&(s.push("//"),(n=this.s)&&s.push(is(n,os,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(is(i,"/"==i.charAt(0)?ys:eo,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",is(i,Kn)),s.join("")};var os=/[#\/\?@]/g,eo=/[#\?:]/g,ys=/[#\?]/g,to=/[#\?@]/g,Kn=/#/g;function ji(s,n){this.h=this.g=null,this.i=s||null,this.j=!!n}function wi(s){s.g||(s.g=new hi,s.h=0,s.i&&function(s,n){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var a=s[i].indexOf("="),l=null;if(0<=a){var f=s[i].substring(0,a);l=s[i].substring(a+1)}else f=s[i];n(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(n,i){s.add(decodeURIComponent(n.replace(/\+/g," ")),i)}))}function R(s,n){wi(s),n=$(s,n),Ei(s.g.h,n)&&(s.i=null,s.h-=s.g.get(n).length,Ei((s=s.g).h,n)&&(delete s.h[n],s.i--,s.g.length>2*s.i&&ui(s)))}function U(s,n){return wi(s),n=$(s,n),Ei(s.g.h,n)}function N(s,n,i){R(s,n),0<i.length&&(s.i=null,s.g.set($(s,n),ie(i)),s.h+=i.length)}function $(s,n){return n=String(n),s.j&&(n=n.toLowerCase()),n}function ct(s){this.l=s||Wt,s=q.PerformanceNavigationTiming?0<(s=q.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(q.g&&q.g.Ea&&q.g.Ea()&&q.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=ji.prototype).add=function(s,n){wi(this),this.i=null,s=$(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(n),this.h+=1,this},J.forEach=function(s,n){wi(this),this.g.forEach(function(i,a){Nt(i,function(l){s.call(n,l,a,this)},this)},this)},J.T=function(){wi(this);for(var s=this.g.R(),n=this.g.T(),i=[],a=0;a<n.length;a++)for(var l=s[a],f=0;f<l.length;f++)i.push(n[a]);return i},J.R=function(s){wi(this);var n=[];if("string"==typeof s)U(this,s)&&(n=X(n,this.g.get($(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)n=X(n,s[i])}return n},J.set=function(s,n){return wi(this),this.i=null,U(this,s=$(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[n]),this.h+=1,this},J.get=function(s,n){return s&&0<(s=this.R(s)).length?String(s[0]):n},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],n=this.g.T(),i=0;i<n.length;i++){var a=n[i],l=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var C=l;""!==a[f]&&(C+="="+encodeURIComponent(String(a[f]))),s.push(C)}}return this.i=s.join("&")};var Wt=10;function P(s){return!!s.h||!!s.g&&s.g.size>=s.j}function M(s){return s.h?1:s.g?s.g.size:0}function y(s,n){return s.h?s.h==n:!!s.g&&s.g.has(n)}function b(s,n){s.g?s.g.add(n):s.h=n}function H(s,n){s.h&&s.h==n?s.h=null:s.g&&s.g.has(n)&&s.g.delete(n)}function ue(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let n=s.i;for(const i of s.g.values())n=n.concat(i.D);return n}return ie(s.i)}function ze(){}function Je(){this.g=new ze}function qt(s,n,i){const a=i||"";try{Ss(s,function(l,f){let C=l;$e(l)&&(C=gn(l)),n.push(a+f+"="+encodeURIComponent(C))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function Xt(s,n,i,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(f){}}function lr(s){this.l=s.$b||null,this.j=s.ib||!1}function sr(s,n){lt.call(this),this.D=s,this.u=n,this.m=void 0,this.readyState=Ci,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct.prototype.cancel=function(){if(this.i=ue(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},ze.prototype.stringify=function(s){return q.JSON.stringify(s,void 0)},ze.prototype.parse=function(s){return q.JSON.parse(s,void 0)},Re(lr,mt),lr.prototype.g=function(){return new sr(this.l,this.j)},lr.prototype.i=function(s){return function(){return s}}({}),Re(sr,lt);var Ci=0;function _s(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function rt(s){s.readyState=4,s.l=null,s.j=null,s.A=null,_n(s)}function _n(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(J=sr.prototype).open=function(s,n){if(this.readyState!=Ci)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=n,this.readyState=1,_n(this)},J.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(n.body=s),(this.D||q).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rt(this)),this.readyState=Ci},J.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==q.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_s(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var n=s.value?s.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!s.done}))&&(this.response=this.responseText+=n)}s.done?rt(this):_n(this),3==this.readyState&&_s(this)}},J.Ua=function(s){this.g&&(this.response=this.responseText=s,rt(this))},J.Ta=function(s){this.g&&(this.response=s,rt(this))},J.ha=function(){this.g&&rt(this)},J.setRequestHeader=function(s,n){this.v.append(s,n)},J.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],n=this.h.entries();for(var i=n.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=n.next();return s.join("\r\n")},Object.defineProperty(sr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Co=q.JSON.parse;function bn(s){lt.call(this),this.headers=new hi,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qi,this.K=this.L=!1}Re(bn,lt);var qi="",Zi=/^https?$/i,Di=["POST","PUT"];function hu(s){return"content-type"==s.toLowerCase()}function fa(s,n){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=n,s.m=5,ka(s),Do(s)}function ka(s){s.D||(s.D=!0,xt(s,"complete"),xt(s,"error"))}function pa(s){if(s.h&&void 0!==Te&&(!s.C[1]||4!=bi(s)||2!=s.ba()))if(s.v&&4==bi(s))Cr(s.Fa,0,s);else if(xt(s,"readystatechange"),4==bi(s)){s.h=!1;try{const x=s.ba();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var a;if(a=0===x){var l=String(s.H).match(Gi)[1]||null;if(!l&&q.self&&q.self.location){var f=q.self.location.protocol;l=f.substr(0,f.length-1)}a=!Zi.test(l?l.toLowerCase():"")}i=a}if(i)xt(s,"complete"),xt(s,"success");else{s.m=6;try{var C=2<bi(s)?s.g.statusText:""}catch(L){C=""}s.j=C+" ["+s.ba()+"]",ka(s)}}finally{Do(s)}}}function Do(s,n){if(s.g){pi(s);const i=s.g,a=s.C[0]?te:null;s.g=null,s.C=null,n||xt(s,"ready");try{i.onreadystatechange=a}catch(l){}}}function pi(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(q.clearTimeout(s.A),s.A=null)}function bi(s){return s.g?s.g.readyState:0}function ga(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case qi:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(n){return null}}function as(s,n,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(s){let n="";return et(s,function(i,a){n+=a,n+=":",n+=i,n+="\r\n"}),n}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):Gn(s,n,i))}function ma(s,n,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||n}function Ms(s){this.za=0,this.l=[],this.h=new Pn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ma("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ma("baseRetryDelayMs",5e3,s),this.$a=ma("retryDelaySeedMs",1e4,s),this.Ya=ma("forwardChannelMaxRetries",2,s),this.ra=ma("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new ct(s&&s.concurrentRequestLimit),this.Ca=new Je,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ya(s){if(Fa(s),3==s.G){var n=s.V++,i=zr(s.F);Gn(i,"SID",s.J),Gn(i,"RID",n),Gn(i,"TYPE","terminate"),To(s,i),(n=new xr(s,s.h,n,void 0)).K=2,n.v=rs(zr(i)),i=!1,q.navigator&&q.navigator.sendBeacon&&(i=q.navigator.sendBeacon(n.v.toString(),"")),!i&&q.Image&&((new Image).src=n.v,i=!0),i||(n.g=gu(n.l,null),n.g.ea(n.v)),n.F=Date.now(),gs(n)}zs(s)}function bo(s){s.g&&(ro(s),s.g.cancel(),s.g=null)}function Fa(s){bo(s),s.u&&(q.clearTimeout(s.u),s.u=null),fo(s),s.i.cancel(),s.m&&("number"==typeof s.m&&q.clearTimeout(s.m),s.m=null)}function no(s,n){s.l.push(new class{constructor(s,n){this.h=s,this.g=n}}(s.Za++,n)),3==s.G&&zo(s)}function zo(s){P(s.i)||s.m||(s.m=!0,Mr(s.Ha,s),s.C=0)}function Bu(s,n){var i;i=n?n.m:s.V++;const a=zr(s.F);Gn(a,"SID",s.J),Gn(a,"RID",i),Gn(a,"AID",s.U),To(s,a),s.o&&s.s&&as(a,s.o,s.s),i=new xr(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),n&&(s.l=n.D.concat(s.l)),n=Ao(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),b(s.i,i),xi(i,a,n)}function To(s,n){s.j&&Ss({},function(i,a){Gn(n,a,i)})}function Ao(s,n,i){i=Math.min(s.l.length,i);var a=s.j?Pe(s.j.Oa,s.j,s):null;e:{var l=s.l;let f=-1;for(;;){const C=["count="+i];-1==f?0<i?(f=l[0].h,C.push("ofs="+f)):f=0:C.push("ofs="+f);let x=!0;for(let L=0;L<i;L++){let K=l[L].h;const se=l[L].g;if(K-=f,0>K)f=Math.max(0,l[L].h-100),x=!1;else try{qt(se,C,"req"+K+"_")}catch(Se){a&&a(se)}}if(x){a=C.join("&");break e}}}return s=s.l.splice(0,i),n.D=s,a}function Ko(s){s.g||s.u||(s.Y=1,Mr(s.Ga,s),s.A=0)}function qo(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=we(Pe(s.Ga,s),pu(s,s.A)),s.A++,0))}function ro(s){null!=s.B&&(q.clearTimeout(s.B),s.B=null)}function So(s){s.g=new xr(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var n=zr(s.oa);Gn(n,"RID","rpc"),Gn(n,"SID",s.J),Gn(n,"CI",s.N?"0":"1"),Gn(n,"AID",s.U),To(s,n),Gn(n,"TYPE","xmlhttp"),s.o&&s.s&&as(n,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=rs(zr(n)),i.s=null,i.U=!0,Vi(i,s)}function fo(s){null!=s.v&&(q.clearTimeout(s.v),s.v=null)}function fu(s,n){var i=null;if(s.g==n){fo(s),ro(s),s.g=null;var a=2}else{if(!y(s.i,n))return;i=n.D,H(s.i,n),a=1}if(s.I=n.N,0!=s.G)if(n.i)if(1==a){i=n.s?n.s.length:0,n=Date.now()-n.F;var l=s.C;xt(a=kn(),new De(a,i,n,l)),zo(s)}else Ko(s);else if(3==(l=n.o)||0==l&&0<s.I||!(1==a&&function(s,n){return!(M(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=n.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=we(Pe(s.Ha,s,n),pu(s,s.C)),s.C++,0)))}(s,n)||2==a&&qo(s)))switch(i&&0<i.length&&(n=s.i,n.i=n.i.concat(i)),l){case 1:Or(s,5);break;case 4:Or(s,10);break;case 3:Or(s,6);break;default:Or(s,2)}}function pu(s,n){let i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*n}function Or(s,n){if(s.h.info("Error code "+n),2==n){var i=null;s.j&&(i=null);var a=Pe(s.jb,s);i||(i=new ri("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Nr(i,"https"),rs(i)),function(s,n){const i=new Pn;if(q.Image){const a=new Image;a.onload=Ue(Xt,i,a,"TestLoadImage: loaded",!0,n),a.onerror=Ue(Xt,i,a,"TestLoadImage: error",!1,n),a.onabort=Ue(Xt,i,a,"TestLoadImage: abort",!1,n),a.ontimeout=Ue(Xt,i,a,"TestLoadImage: timeout",!1,n),q.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else n(!1)}(i.toString(),a)}else cr(2);s.G=0,s.j&&s.j.va(n),zs(s),Fa(s)}function zs(s){s.G=0,s.I=-1,s.j&&((0!=ue(s.i).length||0!=s.l.length)&&(s.i.i.length=0,ie(s.l),s.l.length=0),s.j.ua())}function Pr(s,n,i){let a=function(s){return s instanceof ri?zr(s):new ri(s,void 0)}(i);if(""!=a.i)n&&Ni(a,n+"."+a.i),fi(a,a.m);else{const l=q.location;a=function(s,n,i,a){var l=new ri(null,void 0);return s&&Nr(l,s),n&&Ni(l,n),i&&fi(l,i),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,i)}return s.aa&&et(s.aa,function(l,f){Gn(a,f,l)}),i=s.sa,(n=s.D)&&i&&Gn(a,n,i),Gn(a,"VER",s.ma),To(s,a),a}function gu(s,n,i){if(n&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new bn(i&&s.Ba&&!s.qa?new lr({ib:!0}):s.qa)).L=s.H,n}function Mo(){}function Zo(){if(un&&!(10<=Number(Zt)))throw Error("Environmental error: no available transport.")}function us(s,n){lt.call(this),this.g=new Ms(n),this.l=s,this.h=n&&n.messageUrlParams||null,s=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(s?s["X-WebChannel-Content-Type"]=n.messageContentType:s={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(s?s["X-WebChannel-Client-Profile"]=n.ya:s={"X-WebChannel-Client-Profile":n.ya}),this.g.P=s,(s=n&&n.httpHeadersOverwriteParam)&&!ge(s)&&(this.g.o=s),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!ge(n)&&(this.g.D=n,null!==(s=this.h)&&n in s&&n in(s=this.h)&&delete s[n]),this.j=new vs(this)}function Yo(s){mn.call(this);var n=s.__sm__;if(n){e:{for(const i in n){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,n=null!==n&&s in n?n[s]:void 0),this.data=n}else this.data=s}function mu(){Rr.call(this),this.status=1}function vs(s){this.g=s}(J=bn.prototype).ea=function(s,n,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);n=n?n.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yr.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:yr),this.g.onreadystatechange=Pe(this.Fa,this);try{this.F=!0,this.g.open(n,String(s),!0),this.F=!1}catch(f){return void fa(this,f)}s=i||"";const l=new hi(this.headers);a&&Ss(a,function(f,C){l.set(C,f)}),a=function(s){e:{var n=hu;const i=s.length,a="string"==typeof s?s.split(""):s;for(let l=0;l<i;l++)if(l in a&&n.call(void 0,a[l],l,s)){n=l;break e}n=-1}return 0>n?null:"string"==typeof s?s.charAt(n):s[n]}(l.T()),i=q.FormData&&s instanceof q.FormData,!(0<=Ce(Di,n))||a||i||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,C){this.g.setRequestHeader(C,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pi(this),0<this.B&&((this.K=function(s){return un&&zt()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pe(this.pa,this)):this.A=Cr(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(f){fa(this,f)}},J.pa=function(){void 0!==Te&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},J.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,xt(this,"complete"),xt(this,"abort"),Do(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Do(this,!0)),bn.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?pa(this):this.cb())},J.cb=function(){pa(this)},J.ba=function(){try{return 2<bi(this)?this.g.status:-1}catch(s){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},J.Qa=function(s){if(this.g){var n=this.g.responseText;return s&&0==n.indexOf(s)&&(n=n.substring(s.length)),Co(n)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=Ms.prototype).ma=8,J.G=1,J.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(n){}},J.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;const l=new xr(this,this.h,s,void 0);let f=this.s;if(this.P&&(f?(f=Mt(f),an(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var n=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=i;break e}if(4096===n||i===this.l.length-1){n=i+1;break e}}n=1e3}else n=1e3;n=Ao(this,l,n),Gn(i=zr(this.F),"RID",s),Gn(i,"CVER",22),this.D&&Gn(i,"X-HTTP-Session-Id",this.D),To(this,i),this.o&&f&&as(i,this.o,f),b(this.i,l),this.Ra&&Gn(i,"TYPE","init"),this.ja?(Gn(i,"$req",n),Gn(i,"SID","null"),l.$=!0,xi(l,i,null)):xi(l,i,n),this.G=2}}else 3==this.G&&(s?Bu(this,s):0==this.l.length||P(this.i)||Bu(this))},J.Ga=function(){if(this.u=null,So(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=we(Pe(this.bb,this),s)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cr(10),bo(this),So(this))},J.ab=function(){null!=this.v&&(this.v=null,bo(this),qo(this),cr(19))},J.jb=function(s){s?(this.h.info("Successfully pinged google.com"),cr(2)):(this.h.info("Failed to ping google.com"),cr(1))},(J=Mo.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},Zo.prototype.g=function(s,n){return new us(s,n)},Re(us,lt),us.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,n=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),Mr(Pe(s.hb,s,n))),cr(0),s.W=n,s.aa=i||{},s.N=s.X,s.F=Pr(s,null,s.W),zo(s)},us.prototype.close=function(){ya(this.g)},us.prototype.u=function(s){if("string"==typeof s){var n={};n.__data__=s,no(this.g,n)}else this.v?((n={}).__data__=gn(s),no(this.g,n)):no(this.g,s)},us.prototype.M=function(){this.g.j=null,delete this.j,ya(this.g),delete this.g,us.Z.M.call(this)},Re(Yo,mn),Re(mu,Rr),Re(vs,Mo),vs.prototype.xa=function(){xt(this.g,"a")},vs.prototype.wa=function(s){xt(this.g,new Yo(s))},vs.prototype.va=function(s){xt(this.g,new mu(s))},vs.prototype.ua=function(){xt(this.g,"b")},Zo.prototype.createWebChannel=Zo.prototype.g,us.prototype.send=us.prototype.u,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Qe.COMPLETE="complete",jt.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",lt.prototype.listen=lt.prototype.N,bn.prototype.listenOnce=bn.prototype.O,bn.prototype.getLastError=bn.prototype.La,bn.prototype.getLastErrorCode=bn.prototype.Da,bn.prototype.getStatus=bn.prototype.ba,bn.prototype.getResponseJson=bn.prototype.Qa,bn.prototype.getResponseText=bn.prototype.ga,bn.prototype.send=bn.prototype.ea;var Es=ce.createWebChannelTransport=function(){return new Zo},Ro=ce.getStatEventTarget=function(){return kn()},Qo=ce.ErrorCode=Oe,gi=ce.EventType=Qe,ju=ce.Event=ni,cs=ce.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Is=ce.FetchXmlHttpFactory=lr,ws=ce.WebChannel=jt,xo=ce.XhrIo=bn;const Gs="@firebase/firestore";class Zr{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let po="9.5.0";const io=new pe.Yd("@firebase/firestore");function La(){return io.logLevel}function _c(s){io.setLogLevel(s)}function At(s,...n){if(io.logLevel<=pe.in.DEBUG){const i=n.map(so);io.debug(`Firestore (${po}): ${s}`,...i)}}function ii(s,...n){if(io.logLevel<=pe.in.ERROR){const i=n.map(so);io.error(`Firestore (${po}): ${s}`,...i)}}function mi(s,...n){if(io.logLevel<=pe.in.WARN){const i=n.map(so);io.warn(`Firestore (${po}): ${s}`,...i)}}function so(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function en(s="Unexpected state"){const n=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+s;throw ii(n),new Error(n)}function hn(s,n){s||en()}function oo(s,n){s||en()}function wt(s,n){return s}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Error{constructor(n,i){super(i),this.code=n,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Va{constructor(n,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class yu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Zr.UNAUTHENTICATED))}shutdown(){}}class $u{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ua{constructor(n){this.t=n,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;let l=this.i;const f=K=>this.i!==l?(l=this.i,i(K)):Promise.resolve();let C=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),C.resolve(),C=new Br,n.enqueueRetryable(()=>f(this.currentUser))};const x=()=>{const K=C;n.enqueueRetryable((0,m.Z)(function*(){yield K.promise,yield f(a.currentUser)}))},L=K=>{At("FirebaseCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(K=>L(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?L(K):(At("FirebaseCredentialsProvider","Auth not yet detected"),C.resolve(),C=new Br)}},0),x()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(At("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(hn("string"==typeof a.accessToken),new Va(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return hn(null===n||"string"==typeof n),new Zr(n)}}class vc{constructor(n,i,a){this.h=n,this.l=i,this.m=a,this.type="FirstParty",this.user=Zr.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(n.Authorization=i),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class go{constructor(n,i,a){this.h=n,this.l=i,this.m=a}getToken(){return Promise.resolve(new vc(this.h,this.l,this.m))}start(n,i){n.enqueueRetryable(()=>i(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ti{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=a=>this.g(a),this.p=a=>i.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function No(s){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}Ti.T=-1;class Oo{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=No(40);for(let f=0;f<l.length;++f)a.length<20&&l[f]<i&&(a+=n.charAt(l[f]%n.length))}return a}}function D(s,n){return s<n?-1:s>n?1:0}function E(s,n,i){return s.length===n.length&&s.every((a,l)=>i(a,n[l]))}function v(s){return s+"\0"}class S{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new _t(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new _t(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new _t(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return S.fromMillis(Date.now())}static fromDate(n){return S.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new S(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?D(this.nanoseconds,n.nanoseconds):D(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class O{constructor(n){this.timestamp=n}static fromTimestamp(n){return new O(n)}static min(){return new O(new S(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function j(s){let n=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n++;return n}function ee(s,n){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&n(i,s[i])}function ye(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}class Ze{constructor(n,i,a){void 0===i?i=0:i>n.length&&en(),void 0===a?a=n.length-i:a>n.length-i&&en(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Ze.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Ze?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let l=0;l<a;l++){const f=n.get(l),C=i.get(l);if(f<C)return-1;if(f>C)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Et extends Ze{construct(n,i,a){return new Et(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new _t(Ke.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new Et(i)}static emptyPath(){return new Et([])}}const qn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ze{construct(n,i,a){return new $t(n,i,a)}static isValidIdentifier(n){return qn.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $t(["__name__"])}static fromServerFormat(n){const i=[];let a="",l=0;const f=()=>{if(0===a.length)throw new _t(Ke.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let C=!1;for(;l<n.length;){const x=n[l];if("\\"===x){if(l+1===n.length)throw new _t(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const L=n[l+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new _t(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=L,l+=2}else"`"===x?(C=!C,l++):"."!==x||C?(a+=x,l++):(f(),l++)}if(f(),C)throw new _t(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new $t(i)}static emptyPath(){return new $t([])}}class Wn{constructor(n){this.fields=n,n.sort($t.comparator)}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return E(this.fields,n.fields,(i,a)=>i.isEqual(a))}}function Zn(){return"undefined"!=typeof atob}class _r{constructor(n){this.binaryString=n}static fromBase64String(n){const i=atob(n);return new _r(i)}static fromUint8Array(n){const i=function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l}(n);return new _r(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return D(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const ao=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(hn(!!s),"string"==typeof s){let n=0;const i=ao.exec(s);if(hn(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:dr(s.seconds),nanos:dr(s.nanos)}}function dr(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function $i(s){return"string"==typeof s?_r.fromBase64String(s):_r.fromUint8Array(s)}function ls(s){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==s?void 0:s.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Yi(s){const n=s.mapValue.fields.__previous_value__;return ls(n)?Yi(n):n}function Po(s){const n=Yr(s.mapValue.fields.__local_write_time__.timestampValue);return new S(n.seconds,n.nanos)}function Rs(s){return null==s}function Ec(s){return 0===s&&1/s==-1/0}function Ic(s){return"number"==typeof s&&Number.isInteger(s)&&!Ec(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class nn{constructor(n){this.path=n}static fromPath(n){return new nn(Et.fromString(n))}static fromName(n){return new nn(Et.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Et.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Et.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new nn(new Et(n.slice()))}}function Ba(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ls(s)?4:10:en()}function mo(s,n){const i=Ba(s);if(i!==Ba(n))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Po(s).isEqual(Po(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=Yr(a.timestampValue),C=Yr(l.timestampValue);return f.seconds===C.seconds&&f.nanos===C.nanos}(s,n);case 5:return s.stringValue===n.stringValue;case 6:return l=n,$i(s.bytesValue).isEqual($i(l.bytesValue));case 7:return s.referenceValue===n.referenceValue;case 8:return function(a,l){return dr(a.geoPointValue.latitude)===dr(l.geoPointValue.latitude)&&dr(a.geoPointValue.longitude)===dr(l.geoPointValue.longitude)}(s,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return dr(a.integerValue)===dr(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=dr(a.doubleValue),C=dr(l.doubleValue);return f===C?Ec(f)===Ec(C):isNaN(f)&&isNaN(C)}return!1}(s,n);case 9:return E(s.arrayValue.values||[],n.arrayValue.values||[],mo);case 10:return function(a,l){const f=a.mapValue.fields||{},C=l.mapValue.fields||{};if(j(f)!==j(C))return!1;for(const x in f)if(f.hasOwnProperty(x)&&(void 0===C[x]||!mo(f[x],C[x])))return!1;return!0}(s,n);default:return en()}var l}function kr(s,n){return void 0!==(s.values||[]).find(i=>mo(i,n))}function ja(s,n){const i=Ba(s),a=Ba(n);if(i!==a)return D(i,a);switch(i){case 0:return 0;case 1:return D(s.booleanValue,n.booleanValue);case 2:return function(l,f){const C=dr(l.integerValue||l.doubleValue),x=dr(f.integerValue||f.doubleValue);return C<x?-1:C>x?1:C===x?0:isNaN(C)?isNaN(x)?0:-1:1}(s,n);case 3:return al(s.timestampValue,n.timestampValue);case 4:return al(Po(s),Po(n));case 5:return D(s.stringValue,n.stringValue);case 6:return function(l,f){const C=$i(l),x=$i(f);return C.compareTo(x)}(s.bytesValue,n.bytesValue);case 7:return function(l,f){const C=l.split("/"),x=f.split("/");for(let L=0;L<C.length&&L<x.length;L++){const K=D(C[L],x[L]);if(0!==K)return K}return D(C.length,x.length)}(s.referenceValue,n.referenceValue);case 8:return function(l,f){const C=D(dr(l.latitude),dr(f.latitude));return 0!==C?C:D(dr(l.longitude),dr(f.longitude))}(s.geoPointValue,n.geoPointValue);case 9:return function(l,f){const C=l.values||[],x=f.values||[];for(let L=0;L<C.length&&L<x.length;++L){const K=ja(C[L],x[L]);if(K)return K}return D(C.length,x.length)}(s.arrayValue,n.arrayValue);case 10:return function(l,f){const C=l.fields||{},x=Object.keys(C),L=f.fields||{},K=Object.keys(L);x.sort(),K.sort();for(let se=0;se<x.length&&se<K.length;++se){const Se=D(x[se],K[se]);if(0!==Se)return Se;const Xe=ja(C[x[se]],L[K[se]]);if(0!==Xe)return Xe}return D(x.length,K.length)}(s.mapValue,n.mapValue);default:throw en()}}function al(s,n){if("string"==typeof s&&"string"==typeof n&&s.length===n.length)return D(s,n);const i=Yr(s),a=Yr(n),l=D(i.seconds,a.seconds);return 0!==l?l:D(i.nanos,a.nanos)}function ul(s){return cl(s)}function cl(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const l=Yr(a);return`time(${l.seconds},${l.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?$i(s.bytesValue).toBase64():"referenceValue"in s?nn.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(n=s.geoPointValue).latitude},${n.longitude})`:"arrayValue"in s?function(a){let l="[",f=!0;for(const C of a.values||[])f?f=!1:l+=",",l+=cl(C);return l+"]"}(s.arrayValue):"mapValue"in s?function(a){const l=Object.keys(a.fields||{}).sort();let f="{",C=!0;for(const x of l)C?C=!1:f+=",",f+=`${x}:${cl(a.fields[x])}`;return f+"}"}(s.mapValue):en();var n}function wc(s,n){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`}}function Hu(s){return!!s&&"integerValue"in s}function ll(s){return!!s&&"arrayValue"in s}function Jo(s){return!!s&&"nullValue"in s}function vd(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gr(s){return!!s&&"mapValue"in s}function _a(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const n={mapValue:{fields:{}}};return ee(s.mapValue.fields,(i,a)=>n.mapValue.fields[i]=_a(a)),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=_a(s.arrayValue.values[i]);return n}return Object.assign({},s)}class si{constructor(n){this.value=n}static empty(){return new si({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!Gr(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=_a(i)}setAll(n){let i=$t.emptyPath(),a={},l=[];n.forEach((C,x)=>{if(!i.isImmediateParentOf(x)){const L=this.getFieldsMap(i);this.applyChanges(L,a,l),a={},l=[],i=x.popLast()}C?a[x.lastSegment()]=_a(C):l.push(x.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,l)}delete(n){const i=this.field(n.popLast());Gr(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return mo(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=i.mapValue.fields[n.get(a)];Gr(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(n,i,a){ee(i,(l,f)=>n[l]=f);for(const l of a)delete n[l]}clone(){return new si(_a(this.value))}}function Wu(s){const n=[];return ee(s.fields,(i,a)=>{const l=new $t([i]);if(Gr(a)){const f=Wu(a.mapValue).fields;if(0===f.length)n.push(l);else for(const C of f)n.push(l.child(C))}else n.push(l)}),new Wn(n)}class Fr{constructor(n,i,a,l,f){this.key=n,this.documentType=i,this.version=a,this.data=l,this.documentState=f}static newInvalidDocument(n){return new Fr(n,0,O.min(),si.empty(),0)}static newFoundDocument(n,i,a){return new Fr(n,1,i,a,0)}static newNoDocument(n,i){return new Fr(n,2,i,si.empty(),0)}static newUnknownDocument(n,i){return new Fr(n,3,i,si.empty(),2)}convertToFoundDocument(n,i){return this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Fr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Fr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ks{constructor(n,i=null,a=[],l=[],f=null,C=null,x=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=f,this.startAt=C,this.endAt=x,this.A=null}}function xs(s,n=null,i=[],a=[],l=null,f=null,C=null){return new Ks(s,n,i,a,l,f,C)}function Xo(s){const n=wt(s);if(null===n.A){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>function(s){return s.field.canonicalString()+s.op.toString()+ul(s.value)}(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),Rs(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=Oi(n.startAt)),n.endAt&&(i+="|ub:",i+=Oi(n.endAt)),n.A=i}return n.A}function Os(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<s.orderBy.length;l++)if(!ko(s.orderBy[l],n.orderBy[l]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let l=0;l<s.filters.length;l++)if((i=s.filters[l]).op!==(a=n.filters[l]).op||!i.field.isEqual(a.field)||!mo(i.value,a.value))return!1;var i,a;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!hr(s.startAt,n.startAt)&&hr(s.endAt,n.endAt)}function _u(s){return nn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ds extends class{}{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.R(n,i,a):new z(n,i,a):"array-contains"===i?new je(n,a):"in"===i?new Lt(n,a):"not-in"===i?new rn(n,a):"array-contains-any"===i?new nr(n,a):new ds(n,i,a)}static R(n,i,a){return"in"===i?new Q(n,a):new B(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.P(ja(i,this.value)):null!==i&&Ba(this.value)===Ba(i)&&this.P(ja(i,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return en()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class z extends ds{constructor(n,i,a){super(n,i,a),this.key=nn.fromName(a.referenceValue)}matches(n){const i=nn.comparator(n.key,this.key);return this.P(i)}}class Q extends ds{constructor(n,i){super(n,"in",i),this.keys=le(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class B extends ds{constructor(n,i){super(n,"not-in",i),this.keys=le(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function le(s,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>nn.fromName(a.referenceValue))}class je extends ds{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return ll(i)&&kr(i.arrayValue,this.value)}}class Lt extends ds{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&kr(this.value.arrayValue,i)}}class rn extends ds{constructor(n,i){super(n,"not-in",i)}matches(n){if(kr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!kr(this.value.arrayValue,i)}}class nr extends ds{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!ll(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>kr(this.value.arrayValue,a))}}class br{constructor(n,i){this.position=n,this.before=i}}function Oi(s){return`${s.before?"b":"a"}:${s.position.map(n=>ul(n)).join(",")}`}class hs{constructor(n,i="asc"){this.field=n,this.dir=i}}function ko(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}function Qr(s,n,i){let a=0;for(let l=0;l<s.position.length;l++){const f=n[l],C=s.position[l];if(a=f.field.isKeyField()?nn.comparator(nn.fromName(C.referenceValue),i.key):ja(C,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return s.before?a<=0:a<0}function hr(s,n){if(null===s)return null===n;if(null===n||s.before!==n.before||s.position.length!==n.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!mo(s.position[i],n.position[i]))return!1;return!0}class Lr{constructor(n,i=null,a=[],l=[],f=null,C="F",x=null,L=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=f,this.limitType=C,this.startAt=x,this.endAt=L,this.V=null,this.S=null}}function uo(s,n,i,a,l,f,C,x){return new Lr(s,n,i,a,l,f,C,x)}function Ps(s){return new Lr(s)}function va(s){return!Rs(s.limit)&&"F"===s.limitType}function $a(s){return!Rs(s.limit)&&"L"===s.limitType}function ea(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function hl(s){for(const n of s.filters)if(n.v())return n.field;return null}function fl(s){return null!==s.collectionGroup}function Ea(s){const n=wt(s);if(null===n.V){n.V=[];const i=hl(n),a=ea(n);if(null!==i&&null===a)i.isKeyField()||n.V.push(new hs(i)),n.V.push(new hs($t.keyField(),"asc"));else{let l=!1;for(const f of n.explicitOrderBy)n.V.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new hs($t.keyField(),f))}}}return n.V}function ks(s){const n=wt(s);if(!n.S)if("F"===n.limitType)n.S=xs(n.path,n.collectionGroup,Ea(n),n.filters,n.limit,n.startAt,n.endAt);else{const i=[];for(const f of Ea(n))i.push(new hs(f.field,"desc"===f.dir?"asc":"desc"));const a=n.endAt?new br(n.endAt.position,!n.endAt.before):null,l=n.startAt?new br(n.startAt.position,!n.startAt.before):null;n.S=xs(n.path,n.collectionGroup,i,n.filters,n.limit,a,l)}return n.S}function Cc(s,n,i){return new Lr(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,i,s.startAt,s.endAt)}function yo(s,n){return Os(ks(s),ks(n))&&s.limitType===n.limitType}function Ha(s){return`${Xo(ks(s))}|lt:${s.limitType}`}function pl(s){return`Query(target=${function(s){let n=s.path.canonicalString();return null!==s.collectionGroup&&(n+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(n+=`, filters: [${s.filters.map(i=>{return`${(a=i).field.canonicalString()} ${a.op} ${ul(a.value)}`;var a}).join(", ")}]`),Rs(s.limit)||(n+=", limit: "+s.limit),s.orderBy.length>0&&(n+=`, orderBy: [${s.orderBy.map(i=>{return`${(a=i).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(n+=", startAt: "+Oi(s.startAt)),s.endAt&&(n+=", endAt: "+Oi(s.endAt)),`Target(${n})`}(ks(s))}; limitType=${s.limitType})`}function Jr(s,n){return n.isFoundDocument()&&function(i,a){const l=a.key.path;return null!==i.collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):nn.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,n)&&function(i,a){for(const l of i.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(s,n)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(s,n)&&(a=n,!((i=s).startAt&&!Qr(i.startAt,Ea(i),a)||i.endAt&&Qr(i.endAt,Ea(i),a)));var i,a}function gl(s){return(n,i)=>{let a=!1;for(const l of Ea(s)){const f=Ed(l,n,i);if(0!==f)return f;a=a||l.field.isKeyField()}return 0}}function Ed(s,n,i){const a=s.field.isKeyField()?nn.comparator(n.key,i.key):function(l,f,C){const x=f.data.field(l),L=C.data.field(l);return null!==x&&null!==L?ja(x,L):en()}(s.field,n,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return en()}}function Fo(s,n){if(s.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(n)?"-0":n}}function Ia(s){return{integerValue:""+s}}function ml(s,n){return Ic(n)?Ia(n):Fo(s,n)}class Wa{constructor(){this._=void 0}}function Id(s,n,i){return s instanceof Lo?function(a,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(i,n):s instanceof Fs?yl(s,n):s instanceof Vo?Dc(s,n):function(a,l){const f=_o(a,l),C=_l(f)+_l(a.C);return Hu(f)&&Hu(a.C)?Ia(C):Fo(a.N,C)}(s,n)}function za(s,n,i){return s instanceof Fs?yl(s,n):s instanceof Vo?Dc(s,n):i}function _o(s,n){return s instanceof ta?Hu(i=n)||(a=i)&&"doubleValue"in a?n:{integerValue:0}:null;var a,i}class Lo extends Wa{}class Fs extends Wa{constructor(n){super(),this.elements=n}}function yl(s,n){const i=bc(n);for(const a of s.elements)i.some(l=>mo(l,a))||i.push(a);return{arrayValue:{values:i}}}class Vo extends Wa{constructor(n){super(),this.elements=n}}function Dc(s,n){let i=bc(n);for(const a of s.elements)i=i.filter(l=>!mo(l,a));return{arrayValue:{values:i}}}class ta extends Wa{constructor(n,i){super(),this.N=n,this.C=i}}function _l(s){return dr(s.integerValue||s.doubleValue)}function bc(s){return ll(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class zu{constructor(n,i){this.field=n,this.transform=i}}class Eu{constructor(n,i){this.version=n,this.transformResults=i}}class Ai{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Ai}static exists(n){return new Ai(void 0,n)}static updateTime(n){return new Ai(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Iu(s,n){return void 0!==s.updateTime?n.isFoundDocument()&&n.version.isEqual(s.updateTime):void 0===s.exists||s.exists===n.isFoundDocument()}class Gu{}function Bh(s,n,i){s instanceof wa?function(a,l,f){const C=a.value.clone(),x=bd(a.fieldTransforms,l,f.transformResults);C.setAll(x),l.convertToFoundDocument(f.version,C).setHasCommittedMutations()}(s,n,i):s instanceof Uo?function(a,l,f){if(!Iu(a.precondition,l))return void l.convertToUnknownDocument(f.version);const C=bd(a.fieldTransforms,l,f.transformResults),x=l.data;x.setAll(na(a)),x.setAll(C),l.convertToFoundDocument(f.version,x).setHasCommittedMutations()}(s,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function wd(s,n,i){var l;s instanceof wa?function(a,l,f){if(!Iu(a.precondition,l))return;const C=a.value.clone(),x=Td(a.fieldTransforms,f,l);C.setAll(x),l.convertToFoundDocument(Dd(l),C).setHasLocalMutations()}(s,n,i):s instanceof Uo?function(a,l,f){if(!Iu(a.precondition,l))return;const C=Td(a.fieldTransforms,f,l),x=l.data;x.setAll(na(a)),x.setAll(C),l.convertToFoundDocument(Dd(l),x).setHasLocalMutations()}(s,n,i):Iu(s.precondition,l=n)&&l.convertToNoDocument(O.min())}function jh(s,n){let i=null;for(const a of s.fieldTransforms){const l=n.data.field(a.field),f=_o(a.transform,l||null);null!=f&&(null==i&&(i=si.empty()),i.set(a.field,f))}return i||null}function Cd(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===a||i&&a&&E(i,a,(l,f)=>function(s,n){return s.field.isEqual(n.field)&&(a=n.transform,(i=s.transform)instanceof Fs&&a instanceof Fs||i instanceof Vo&&a instanceof Vo?E(i.elements,a.elements,mo):i instanceof ta&&a instanceof ta?mo(i.C,a.C):i instanceof Lo&&a instanceof Lo);var i,a}(l,f))))&&(0===s.type?s.value.isEqual(n.value):1!==s.type||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask));var i,a}function Dd(s){return s.isFoundDocument()?s.version:O.min()}class wa extends Gu{constructor(n,i,a,l=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}}class Uo extends Gu{constructor(n,i,a,l,f=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=f,this.type=1}}function na(s){const n=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);n.set(i,a)}}),n}function bd(s,n,i){const a=new Map;hn(s.length===i.length);for(let l=0;l<i.length;l++){const f=s[l],C=f.transform,x=n.data.field(f.field);a.set(f.field,za(C,x,i[l]))}return a}function Td(s,n,i){const a=new Map;for(const l of s){const f=l.transform,C=i.data.field(l.field);a.set(l.field,Id(f,C,n))}return a}class Tc extends Gu{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class wu extends Gu{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class vl{constructor(n){this.count=n}}var ci,or;function El(s){switch(s){default:return en();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function Ca(s){if(void 0===s)return ii("GRPC error has no .code"),Ke.UNKNOWN;switch(s){case ci.OK:return Ke.OK;case ci.CANCELLED:return Ke.CANCELLED;case ci.UNKNOWN:return Ke.UNKNOWN;case ci.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case ci.INTERNAL:return Ke.INTERNAL;case ci.UNAVAILABLE:return Ke.UNAVAILABLE;case ci.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case ci.NOT_FOUND:return Ke.NOT_FOUND;case ci.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case ci.ABORTED:return Ke.ABORTED;case ci.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case ci.DATA_LOSS:return Ke.DATA_LOSS;default:return en()}}(or=ci||(ci={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";class Pi{constructor(n,i){this.comparator=n,this.root=i||Qi.EMPTY}insert(n,i){return new Pi(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Qi.BLACK,null,null))}remove(n){return new Pi(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Qi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Cu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Cu(this.root,n,this.comparator,!0)}}class Cu{constructor(n,i,a,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?a(n.key,i):1,l&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Qi{constructor(n,i,a,l,f){this.key=n,this.value=i,this.color=null!=a?a:Qi.RED,this.left=null!=l?l:Qi.EMPTY,this.right=null!=f?f:Qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,l,f){return new Qi(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let l=this;const f=a(n,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(n,i,a),null):0===f?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(n,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,l=this;if(i(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===i(n,l.key)){if(l.right.isEmpty())return Qi.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const n=this.left.check();if(n!==this.right.check())throw en();return n+(this.isRed()?0:1)}}Qi.EMPTY=null,Qi.RED=!0,Qi.BLACK=!1,Qi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(s,n,i,a,l){return this}insert(s,n,i){return new Qi(s,n)}remove(s,n){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(n){this.comparator=n,this.data=new Pi(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;i(l.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ad(this.data.getIterator())}getIteratorFrom(n){return new Ad(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof Xr)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Xr(this.comparator);return i.data=n,i}}class Ad{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Bo=new Pi(nn.comparator);function Ji(){return Bo}const Ac=new Pi(nn.comparator);function Il(){return Ac}const Sd=new Pi(nn.comparator);function wl(){return Sd}const $h=new Xr(nn.comparator);function Ar(...s){let n=$h;for(const i of s)n=n.add(i);return n}const Md=new Xr(D);function Sc(){return Md}class I{constructor(n,i,a,l,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i){const a=new Map;return a.set(n,h.createSynthesizedTargetChangeForCurrentChange(n,i)),new I(O.min(),a,Sc(),Ji(),Ar())}}class h{constructor(n,i,a,l,f){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i){return new h(_r.EMPTY_BYTE_STRING,i,Ar(),Ar(),Ar())}}class p{constructor(n,i,a,l){this.k=n,this.removedTargetIds=i,this.key=a,this.$=l}}class T{constructor(n,i){this.targetId=n,this.O=i}}class V{constructor(n,i,a=_r.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Y{constructor(){this.F=0,this.M=Yt(),this.L=_r.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Ar(),i=Ar(),a=Ar();return this.M.forEach((l,f)=>{switch(f){case 0:n=n.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:en()}}),new h(this.L,this.B,n,i,a)}G(){this.U=!1,this.M=Yt()}H(n,i){this.U=!0,this.M=this.M.insert(n,i)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Be{constructor(n){this.tt=n,this.et=new Map,this.nt=Ji(),this.st=gt(),this.it=new Xr(D)}rt(n){for(const i of n.k)n.$&&n.$.isFoundDocument()?this.ot(i,n.$):this.ct(i,n.key,n.$);for(const i of n.removedTargetIds)this.ct(i,n.key,n.$)}at(n){this.forEachTarget(n,i=>{const a=this.ut(i);switch(n.state){case 0:this.ht(i)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(i);break;case 3:this.ht(i)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),a.j(n.resumeToken));break;default:en()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.et.forEach((a,l)=>{this.ht(l)&&i(l)})}ft(n){const i=n.targetId,a=n.O.count,l=this.dt(i);if(l){const f=l.target;if(_u(f))if(0===a){const C=new nn(f.path);this.ct(i,C,Fr.newNoDocument(C,O.min()))}else hn(1===a);else this.wt(i)!==a&&(this.lt(i),this.it=this.it.add(i))}}_t(n){const i=new Map;this.et.forEach((f,C)=>{const x=this.dt(C);if(x){if(f.current&&_u(x.target)){const L=new nn(x.target.path);null!==this.nt.get(L)||this.gt(C,L)||this.ct(C,L,Fr.newNoDocument(L,n))}f.K&&(i.set(C,f.W()),f.G())}});let a=Ar();this.st.forEach((f,C)=>{let x=!0;C.forEachWhile(L=>{const K=this.dt(L);return!K||2===K.purpose||(x=!1,!1)}),x&&(a=a.add(f))});const l=new I(n,i,this.it,this.nt,a);return this.nt=Ji(),this.st=gt(),this.it=new Xr(D),l}ot(n,i){if(!this.ht(n))return;const a=this.gt(n,i.key)?2:0;this.ut(n).H(i.key,a),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(n))}ct(n,i,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,i)?l.H(i,1):l.J(i),this.st=this.st.insert(i,this.yt(i).delete(n)),a&&(this.nt=this.nt.insert(i,a))}removeTarget(n){this.et.delete(n)}wt(n){const i=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let i=this.et.get(n);return i||(i=new Y,this.et.set(n,i)),i}yt(n){let i=this.st.get(n);return i||(i=new Xr(D),this.st=this.st.insert(n,i)),i}ht(n){const i=null!==this.dt(n);return i||At("WatchChangeAggregator","Detected inactive target",n),i}dt(n){const i=this.et.get(n);return i&&i.q?null:this.tt.Tt(n)}lt(n){this.et.set(n,new Y),this.tt.getRemoteKeysForTarget(n).forEach(i=>{this.ct(n,i,null)})}gt(n,i){return this.tt.getRemoteKeysForTarget(n).has(i)}}function gt(){return new Pi(nn.comparator)}function Yt(){return new Pi(nn.comparator)}const In={asc:"ASCENDING",desc:"DESCENDING"},Yn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Kr{constructor(n,i){this.databaseId=n,this.D=i}}function qs(s,n){return s.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Da(s,n){return s.D?n.toBase64():n.toUint8Array()}function Cl(s,n){return qs(s,n.toTimestamp())}function yi(s){return hn(!!s),O.fromTimestamp(function(n){const i=Yr(n);return new S(i.seconds,i.nanos)}(s))}function Ga(s,n){return(i=s,new Et(["projects",i.projectId,"databases",i.database])).child("documents").child(n).canonicalString();var i}function Ku(s){const n=Et.fromString(s);return hn(Wh(n)),n}function qu(s,n){return Ga(s.databaseId,n.path)}function vo(s,n){const i=Ku(n);if(i.get(1)!==s.databaseId.projectId)throw new _t(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new _t(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new nn(bl(i))}function Zu(s,n){return Ga(s.databaseId,n)}function Dl(s){const n=Ku(s);return 4===n.length?Et.emptyPath():bl(n)}function Ka(s){return new Et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bl(s){return hn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Rd(s,n,i){return{name:qu(s,n),fields:i.value.mapValue.fields}}function Yu(s,n,i){const a=vo(s,n.name),l=yi(n.updateTime),f=new si({mapValue:{fields:n.fields}}),C=Fr.newFoundDocument(a,l,f);return i&&C.setHasCommittedMutations(),i?C.setHasCommittedMutations():C}function Rc(s,n){let i;if(n instanceof wa)i={update:Rd(s,n.key,n.value)};else if(n instanceof Tc)i={delete:qu(s,n.key)};else if(n instanceof Uo)i={update:Rd(s,n.key,n.data),updateMask:Hh(n.fieldMask)};else{if(!(n instanceof wu))return en();i={verify:qu(s,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(l,f){const C=f.transform;if(C instanceof Lo)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Fs)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Vo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof ta)return{fieldPath:f.field.canonicalString(),increment:C.C};throw en()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:Cl(s,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:en()),i;var l}function $p(s,n){const i=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?Ai.updateTime(yi(l.updateTime)):void 0!==l.exists?Ai.exists(l.exists):Ai.none():Ai.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(f,C){let x=null;"setToServerValue"in C?(hn("REQUEST_TIME"===C.setToServerValue),x=new Lo):"appendMissingElements"in C?x=new Fs(C.appendMissingElements.values||[]):"removeAllFromArray"in C?x=new Vo(C.removeAllFromArray.values||[]):"increment"in C?x=new ta(f,C.increment):en();const L=$t.fromServerFormat(C.fieldPath);return new zu(L,x)}(s,l)):[];var l;if(n.update){const l=vo(s,n.update.name),f=new si({mapValue:{fields:n.update.fields}});if(n.updateMask){const C=new Wn((n.updateMask.fieldPaths||[]).map(K=>$t.fromServerFormat(K)));return new Uo(l,f,C,i,a)}return new wa(l,f,i,a)}if(n.delete){const l=vo(s,n.delete);return new Tc(l,i)}if(n.verify){const l=vo(s,n.verify);return new wu(l,i)}return en()}function Hp(s,n){return{documents:[Zu(s,n.path)]}}function Wp(s,n){const i={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(i.parent=Zu(s,a),i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(i.parent=Zu(s,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(x){if(0===x.length)return;const L=x.map(K=>function(se){if("=="===se.op){if(vd(se.value))return{unaryFilter:{field:Tl(se.field),op:"IS_NAN"}};if(Jo(se.value))return{unaryFilter:{field:Tl(se.field),op:"IS_NULL"}}}else if("!="===se.op){if(vd(se.value))return{unaryFilter:{field:Tl(se.field),op:"IS_NOT_NAN"}};if(Jo(se.value))return{unaryFilter:{field:Tl(se.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tl(se.field),op:Xm(se.op),value:se.value}}}(K));return 1===L.length?L[0]:{compositeFilter:{op:"AND",filters:L}}}(n.filters);l&&(i.structuredQuery.where=l);const f=function(x){if(0!==x.length)return x.map(L=>{return{field:Tl((K=L).field),direction:Jm(K.dir)};var K})}(n.orderBy);f&&(i.structuredQuery.orderBy=f);const C=(L=n.limit,s.D||Rs(L)?L:{value:L});var L;return null!==C&&(i.structuredQuery.limit=C),n.startAt&&(i.structuredQuery.startAt=Kp(n.startAt)),n.endAt&&(i.structuredQuery.endAt=Kp(n.endAt)),i}function xd(s){let n=Dl(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){hn(1===a);const se=i.from[0];se.allDescendants?l=se.collectionId:n=n.child(se.collectionId)}let f=[];i.where&&(f=Gp(i.where));let C=[];i.orderBy&&(C=i.orderBy.map(se=>{return new hs(Al((Se=se).field),function(Xe){switch(Xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Se.direction));var Se}));let x=null;i.limit&&(x=function(se){let Se;return Se="object"==typeof se?se.value:se,Rs(Se)?null:Se}(i.limit));let L=null;i.startAt&&(L=qp(i.startAt));let K=null;return i.endAt&&(K=qp(i.endAt)),uo(n,l,C,f,x,"F",L,K)}function Gp(s){return s?void 0!==s.unaryFilter?[Zs(s)]:void 0!==s.fieldFilter?[Sl(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(n=>Gp(n)).reduce((n,i)=>n.concat(i)):en():[]}function Kp(s){return{before:s.before,values:s.position}}function qp(s){return new br(s.values||[],!!s.before)}function Jm(s){return In[s]}function Xm(s){return Yn[s]}function Tl(s){return{fieldPath:s.canonicalString()}}function Al(s){return $t.fromServerFormat(s.fieldPath)}function Sl(s){return ds.create(Al(s.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(s.fieldFilter.op),s.fieldFilter.value)}function Zs(s){switch(s.unaryFilter.op){case"IS_NAN":const n=Al(s.unaryFilter.field);return ds.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Al(s.unaryFilter.field);return ds.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Al(s.unaryFilter.field);return ds.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Al(s.unaryFilter.field);return ds.create(l,"!=",{nullValue:"NULL_VALUE"});default:return en()}}function Hh(s){const n=[];return s.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Wh(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function jo(s){let n="";for(let i=0;i<s.length;i++)n.length>0&&(n=xc(n)),n=Ls(s.get(i),n);return xc(n)}function Ls(s,n){let i=n;const a=s.length;for(let l=0;l<a;l++){const f=s.charAt(l);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function xc(s){return s+"\x01\x01"}function ra(s){const n=s.length;if(hn(n>=2),2===n)return hn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Et.emptyPath();const i=n-2,a=[];let l="";for(let f=0;f<n;){const C=s.indexOf("\x01",f);switch((C<0||C>i)&&en(),s.charAt(C+1)){case"\x01":const x=s.substring(f,C);let L;0===l.length?L=x:(l+=x,L=l,l=""),a.push(L);break;case"\x10":l+=s.substring(f,C),l+="\0";break;case"\x11":l+=s.substring(f,C+1);break;default:en()}f=C+2}return new Et(a)}class ey{constructor(n,i){this.seconds=n,this.nanoseconds=i}}class Eo{constructor(n,i,a){this.ownerId=n,this.allowTabSynchronization=i,this.leaseTimestampMs=a}}Eo.store="owner",Eo.key="owner";class qa{constructor(n,i,a){this.userId=n,this.lastAcknowledgedBatchId=i,this.lastStreamToken=a}}qa.store="mutationQueues",qa.keyPath="userId";class oi{constructor(n,i,a,l,f){this.userId=n,this.batchId=i,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=f}}oi.store="mutations",oi.keyPath="batchId",oi.userMutationsIndex="userMutationsIndex",oi.userMutationsKeyPath=["userId","batchId"];class Cs{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,i){return[n,jo(i)]}static key(n,i,a){return[n,jo(i),a]}}Cs.store="documentMutations",Cs.PLACEHOLDER=new Cs;class ty{constructor(n,i){this.path=n,this.readTime=i}}class Zp{constructor(n,i){this.path=n,this.version=i}}class Mi{constructor(n,i,a,l,f,C){this.unknownDocument=n,this.noDocument=i,this.document=a,this.hasCommittedMutations=l,this.readTime=f,this.parentPath=C}}Mi.store="remoteDocuments",Mi.readTimeIndex="readTimeIndex",Mi.readTimeIndexPath="readTime",Mi.collectionReadTimeIndex="collectionReadTimeIndex",Mi.collectionReadTimeIndexPath=["parentPath","readTime"];class ba{constructor(n){this.byteSize=n}}ba.store="remoteDocumentGlobal",ba.key="remoteDocumentGlobalKey";class co{constructor(n,i,a,l,f,C,x){this.targetId=n,this.canonicalId=i,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=C,this.query=x}}co.store="targets",co.keyPath="targetId",co.queryTargetsIndexName="queryTargetsIndex",co.queryTargetsKeyPath=["canonicalId","targetId"];class fs{constructor(n,i,a){this.targetId=n,this.path=i,this.sequenceNumber=a}}fs.store="targetDocuments",fs.keyPath=["targetId","path"],fs.documentTargetsIndex="documentTargetsIndex",fs.documentTargetsKeyPath=["path","targetId"];class Ys{constructor(n,i,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}Ys.key="targetGlobalKey",Ys.store="targetGlobal";class Du{constructor(n,i){this.collectionId=n,this.parent=i}}Du.store="collectionParents",Du.keyPath=["collectionId","parent"];class Za{constructor(n,i,a,l){this.clientId=n,this.updateTimeMs=i,this.networkEnabled=a,this.inForeground=l}}Za.store="clientMetadata",Za.keyPath="clientId";class Ml{constructor(n,i,a){this.bundleId=n,this.createTime=i,this.version=a}}Ml.store="bundles",Ml.keyPath="bundleId";class Qu{constructor(n,i,a){this.name=n,this.readTime=i,this.bundledQuery=a}}Qu.store="namedQueries",Qu.keyPath="name";const Nd=[qa.store,oi.store,Cs.store,Mi.store,co.store,Eo.store,Ys.store,fs.store,Za.store,ba.store,Du.store,Ml.store,Qu.store],Yp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class yt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new yt((a,l)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,l)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,l)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof yt?i:yt.resolve(i)}catch(i){return yt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):yt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):yt.reject(i)}static resolve(n){return new yt((i,a)=>{i(n)})}static reject(n){return new yt((i,a)=>{a(n)})}static waitFor(n){return new yt((i,a)=>{let l=0,f=0,C=!1;n.forEach(x=>{++l,x.next(()=>{++f,C&&f===l&&i()},L=>a(L))}),C=!0,f===l&&i()})}static or(n){let i=yt.resolve(!1);for(const a of n)i=i.next(l=>l?yt.resolve(l):a());return i}static forEach(n,i){const a=[];return n.forEach((l,f)=>{a.push(i.call(this,l,f))}),this.waitFor(a)}}class Od{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.Et=new Br,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{i.error?this.Et.reject(new Rl(n,i.error)):this.Et.resolve()},this.transaction.onerror=a=>{const l=zh(a.target.error);this.Et.reject(new Rl(n,l))}}static open(n,i,a,l){try{return new Od(i,n.transaction(l,a))}catch(f){throw new Rl(i,f)}}get It(){return this.Et.promise}abort(n){n&&this.Et.reject(n),this.aborted||(At("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const i=this.transaction.objectStore(n);return new Pd(i)}}class ia{constructor(n,i,a){this.name=n,this.version=i,this.At=a,12.2===ia.Rt((0,ne.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return At("SimpleDb","Removing database:",n),bu(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,ne.hl)())return!1;if(ia.Pt())return!0;const n=(0,ne.z$)(),i=ia.Rt(n),a=0<i&&i<10,l=ia.vt(n),f=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,i){return n.store(i)}static Rt(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const i=n.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var i=this;return(0,m.Z)(function*(){return i.db||(At("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,l)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=C=>{a(C.target.result)},f.onblocked=()=>{l(new Rl(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=C=>{const x=C.target.error;l("VersionError"===x.name?new _t(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new _t(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Rl(n,x))},f.onupgradeneeded=C=>{At("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',C.oldVersion),i.At.Ct(C.target.result,f.transaction,C.oldVersion,i.version).next(()=>{At("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=a=>i.Nt(a)),i.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,l){var f=this;return(0,m.Z)(function*(){const C="readonly"===i;let x=0;for(;;){++x;try{f.db=yield f.Dt(n);const L=Od.open(f.db,n,C?"readonly":"readwrite",a),K=l(L).catch(se=>(L.abort(se),yt.reject(se))).toPromise();return K.catch(()=>{}),yield L.It,K}catch(L){const K="FirebaseError"!==L.name&&x<3;if(At("SimpleDb","Transaction failed with error:",L.message,"Retrying:",K),f.close(),!K)return Promise.reject(L)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ny{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return bu(this.kt.delete())}}class Rl extends _t{constructor(n,i){super(Ke.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Ju(s){return"IndexedDbTransactionError"===s.name}class Pd{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(At("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),bu(a)}add(n){return At("SimpleDb","ADD",this.store.name,n,n),bu(this.store.add(n))}get(n){return bu(this.store.get(n)).next(i=>(void 0===i&&(i=null),At("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return At("SimpleDb","DELETE",this.store.name,n),bu(this.store.delete(n))}count(){return At("SimpleDb","COUNT",this.store.name),bu(this.store.count())}Lt(n,i){const a=this.cursor(this.options(n,i)),l=[];return this.Bt(a,(f,C)=>{l.push(C)}).next(()=>l)}Ut(n,i){At("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(f,C,x)=>x.delete())}Kt(n,i){let a;i?a=n:(a={},i=n);const l=this.cursor(a);return this.Bt(l,i)}jt(n){const i=this.cursor({});return new yt((a,l)=>{i.onerror=f=>{const C=zh(f.target.error);l(C)},i.onsuccess=f=>{const C=f.target.result;C?n(C.primaryKey,C.value).next(x=>{x?C.continue():a()}):a()}})}Bt(n,i){const a=[];return new yt((l,f)=>{n.onerror=C=>{f(C.target.error)},n.onsuccess=C=>{const x=C.target.result;if(!x)return void l();const L=new ny(x),K=i(x.primaryKey,x.value,L);if(K instanceof yt){const se=K.catch(Se=>(L.done(),yt.reject(Se)));a.push(se)}L.isDone?l():null===L.Ft?x.continue():x.continue(L.Ft)}}).next(()=>yt.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function bu(s){return new yt((n,i)=>{s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{const l=zh(a.target.error);i(l)}})}let Jp=!1;function zh(s){const n=ia.Rt((0,ne.z$)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const a=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jp||(Jp=!0,setTimeout(()=>{throw a},0)),a}}return s}class Gh extends Qp{constructor(n,i){super(),this.Qt=n,this.currentSequenceNumber=i}}function Qs(s,n){const i=wt(s);return ia.St(i.Qt,n)}class Kh{constructor(n,i,a,l){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(n.key)&&Bh(f,n,a[l])}}applyToLocalView(n){for(const i of this.baseMutations)i.key.isEqual(n.key)&&wd(i,n,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(n.key)&&wd(i,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(i=>{const a=n.get(i.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(O.min())})}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Ar())}isEqual(n){return this.batchId===n.batchId&&E(this.mutations,n.mutations,(i,a)=>Cd(i,a))&&E(this.baseMutations,n.baseMutations,(i,a)=>Cd(i,a))}}class qh{constructor(n,i,a,l){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(n,i,a){hn(n.mutations.length===a.length);let l=wl();const f=n.mutations;for(let C=0;C<f.length;C++)l=l.insert(f[C].key,a[C].version);return new qh(n,i,a,l)}}class Tu{constructor(n,i,a,l,f=O.min(),C=O.min(),x=_r.EMPTY_BYTE_STRING){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=C,this.resumeToken=x}withSequenceNumber(n){return new Tu(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,i){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Xu{constructor(n){this.Wt=n}}function $o(s,n){if(n.document)return Yu(s.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const i=nn.fromSegments(n.noDocument.path),a=Js(n.noDocument.readTime),l=Fr.newNoDocument(i,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const i=nn.fromSegments(n.unknownDocument.path),a=Js(n.unknownDocument.version);return Fr.newUnknownDocument(i,a)}return en()}function ry(s,n,i){const a=Xp(i),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const f={name:qu(x=s.Wt,(L=n).key),fields:L.data.value.mapValue.fields,updateTime:qs(x,L.version.toTimestamp())};return new Mi(null,null,f,n.hasCommittedMutations,a,l)}var x,L;if(n.isNoDocument()){const f=n.key.path.toArray(),C=xl(n.version),x=n.hasCommittedMutations;return new Mi(null,new ty(f,C),null,x,a,l)}if(n.isUnknownDocument()){const f=n.key.path.toArray(),C=xl(n.version);return new Mi(new Zp(f,C),null,null,!0,a,l)}return en()}function Xp(s){const n=s.toTimestamp();return[n.seconds,n.nanoseconds]}function Zh(s){const n=new S(s[0],s[1]);return O.fromTimestamp(n)}function xl(s){const n=s.toTimestamp();return new ey(n.seconds,n.nanoseconds)}function Js(s){const n=new S(s.seconds,s.nanoseconds);return O.fromTimestamp(n)}function Au(s,n){const i=(n.baseMutations||[]).map(f=>$p(s.Wt,f));for(let f=0;f<n.mutations.length-1;++f){const C=n.mutations[f];f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(C.updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f)}const a=n.mutations.map(f=>$p(s.Wt,f)),l=S.fromMillis(n.localWriteTimeMs);return new Kh(n.batchId,l,i,a)}function ec(s){const n=Js(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Js(s.lastLimboFreeSnapshotVersion):O.min();let a;var l;return void 0!==s.query.documents?(hn(1===(l=s.query).documents.length),a=ks(Ps(Dl(l.documents[0])))):a=ks(xd(s.query)),new Tu(a,s.targetId,0,s.lastListenSequenceNumber,n,i,_r.fromBase64String(s.resumeToken))}function eg(s,n){const i=xl(n.snapshotVersion),a=xl(n.lastLimboFreeSnapshotVersion);let l;l=_u(n.target)?Hp(s.Wt,n.target):Wp(s.Wt,n.target);const f=n.resumeToken.toBase64();return new co(n.targetId,Xo(n.target),i,f,n.sequenceNumber,a,l)}function kd(s){const n=xd({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?Cc(n,n.limit,"L"):n}class Nl{getBundleMetadata(n,i){return Yh(n).get(i).next(a=>{if(a)return{id:(l=a).bundleId,createTime:Js(l.createTime),version:l.version};var l})}saveBundleMetadata(n,i){return Yh(n).put({bundleId:(a=i).id,createTime:xl(yi(a.createTime)),version:a.version});var a}getNamedQuery(n,i){return Qh(n).get(i).next(a=>{if(a)return{name:(l=a).name,query:kd(l.bundledQuery),readTime:Js(l.readTime)};var l})}saveNamedQuery(n,i){return Qh(n).put({name:(a=i).name,readTime:xl(yi(a.readTime)),bundledQuery:a.bundledQuery});var a}}function Yh(s){return Qs(s,Ml.store)}function Qh(s){return Qs(s,Qu.store)}class Jh{constructor(){this.Gt=new Ol}addToCollectionParentIndex(n,i){return this.Gt.add(i),yt.resolve()}getCollectionParents(n,i){return yt.resolve(this.Gt.getEntries(i))}}class Ol{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),l=this.index[i]||new Xr(Et.comparator),f=!l.has(a);return this.index[i]=l.add(a),f}has(n){const i=n.lastSegment(),a=n.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(n){return(this.index[n]||new Xr(Et.comparator)).toArray()}}class tg{constructor(){this.zt=new Ol}addToCollectionParentIndex(n,i){if(!this.zt.has(i)){const a=i.lastSegment(),l=i.popLast();n.addOnCommittedListener(()=>{this.zt.add(i)});const f={collectionId:a,parent:jo(l)};return iy(n).put(f)}return yt.resolve()}getCollectionParents(n,i){const a=[],l=IDBKeyRange.bound([i,""],[v(i),""],!1,!0);return iy(n).Lt(l).next(f=>{for(const C of f){if(C.collectionId!==i)break;a.push(ra(C.parent))}return a})}}function iy(s){return Qs(s,Du.store)}const tc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vs{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Vs(n,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xh(s,n,i){const a=s.store(oi.store),l=s.store(Cs.store),f=[],C=IDBKeyRange.only(i.batchId);let x=0;const L=a.Kt({range:C},(se,Se,Xe)=>(x++,Xe.delete()));f.push(L.next(()=>{hn(1===x)}));const K=[];for(const se of i.mutations){const Se=Cs.key(n,se.key.path,i.batchId);f.push(l.delete(Se)),K.push(se.key)}return yt.waitFor(f).next(()=>K)}function Fd(s){if(!s)return 0;let n;if(s.document)n=s.document;else if(s.unknownDocument)n=s.unknownDocument;else{if(!s.noDocument)throw en();n=s.noDocument}return JSON.stringify(n).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class Pl{constructor(n,i,a,l){this.userId=n,this.N=i,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,i,a,l){hn(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Pl(f,i,a,l)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Su(n).Kt({index:oi.userMutationsIndex,range:a},(l,f,C)=>{i=!1,C.done()}).next(()=>i)}addMutationBatch(n,i,a,l){const f=Nc(n),C=Su(n);return C.add({}).next(x=>{hn("number"==typeof x);const L=new Kh(x,i,a,l),K=function(Xe,pt,Vt){const ln=Vt.baseMutations.map(Fi=>Rc(Xe.Wt,Fi)),$n=Vt.mutations.map(Fi=>Rc(Xe.Wt,Fi));return new oi(pt,Vt.batchId,Vt.localWriteTime.toMillis(),ln,$n)}(this.N,this.userId,L),se=[];let Se=new Xr((Xe,pt)=>D(Xe.canonicalString(),pt.canonicalString()));for(const Xe of l){const pt=Cs.key(this.userId,Xe.key.path,x);Se=Se.add(Xe.key.path.popLast()),se.push(C.put(K)),se.push(f.put(pt,Cs.PLACEHOLDER))}return Se.forEach(Xe=>{se.push(this.Ht.addToCollectionParentIndex(n,Xe))}),n.addOnCommittedListener(()=>{this.Jt[x]=L.keys()}),yt.waitFor(se).next(()=>L)})}lookupMutationBatch(n,i){return Su(n).get(i).next(a=>a?(hn(a.userId===this.userId),Au(this.N,a)):null)}Xt(n,i){return this.Jt[i]?yt.resolve(this.Jt[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const l=a.keys();return this.Jt[i]=l,l}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,l=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return Su(n).Kt({index:oi.userMutationsIndex,range:l},(C,x,L)=>{x.userId===this.userId&&(hn(x.batchId>=a),f=Au(this.N,x)),L.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Su(n).Kt({index:oi.userMutationsIndex,range:i,reverse:!0},(l,f,C)=>{a=f.batchId,C.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Su(n).Lt(oi.userMutationsIndex,i).next(a=>a.map(l=>Au(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Cs.prefixForPath(this.userId,i.path),l=IDBKeyRange.lowerBound(a),f=[];return Nc(n).Kt({range:l},(C,x,L)=>{const[K,se,Se]=C,Xe=ra(se);if(K===this.userId&&i.path.isEqual(Xe))return Su(n).get(Se).next(pt=>{if(!pt)throw en();hn(pt.userId===this.userId),f.push(Au(this.N,pt))});L.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new Xr(D);const l=[];return i.forEach(f=>{const C=Cs.prefixForPath(this.userId,f.path),x=IDBKeyRange.lowerBound(C),L=Nc(n).Kt({range:x},(K,se,Se)=>{const[Xe,pt,Vt]=K,ln=ra(pt);Xe===this.userId&&f.path.isEqual(ln)?a=a.add(Vt):Se.done()});l.push(L)}),yt.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,l=a.length+1,f=Cs.prefixForPath(this.userId,a),C=IDBKeyRange.lowerBound(f);let x=new Xr(D);return Nc(n).Kt({range:C},(L,K,se)=>{const[Se,Xe,pt]=L,Vt=ra(Xe);Se===this.userId&&a.isPrefixOf(Vt)?Vt.length===l&&(x=x.add(pt)):se.done()}).next(()=>this.Zt(n,x))}Zt(n,i){const a=[],l=[];return i.forEach(f=>{l.push(Su(n).get(f).next(C=>{if(null===C)throw en();hn(C.userId===this.userId),a.push(Au(this.N,C))}))}),yt.waitFor(l).next(()=>a)}removeMutationBatch(n,i){return Xh(n.Qt,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.te(i.batchId)}),yt.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return yt.resolve();const a=IDBKeyRange.lowerBound(Cs.prefixForUser(this.userId)),l=[];return Nc(n).Kt({range:a},(f,C,x)=>{if(f[0]===this.userId){const L=ra(f[1]);l.push(L)}else x.done()}).next(()=>{hn(0===l.length)})})}containsKey(n,i){return ng(n,this.userId,i)}ee(n){return rg(n).get(this.userId).next(i=>i||new qa(this.userId,-1,""))}}function ng(s,n,i){const a=Cs.prefixForPath(n,i.path),l=a[1],f=IDBKeyRange.lowerBound(a);let C=!1;return Nc(s).Kt({range:f,qt:!0},(x,L,K)=>{const[se,Se,Xe]=x;se===n&&Se===l&&(C=!0),K.done()}).next(()=>C)}function Su(s){return Qs(s,oi.store)}function Nc(s){return Qs(s,Cs.store)}function rg(s){return Qs(s,qa.store)}class nc{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new nc(0)}static ie(){return new nc(-1)}}class sy{constructor(n,i){this.referenceDelegate=n,this.N=i}allocateTargetId(n){return this.re(n).next(i=>{const a=new nc(i.highestTargetId);return i.highestTargetId=a.next(),this.oe(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(i=>O.fromTimestamp(new S(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=i,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),i>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=i),this.oe(n,l)))}addTargetData(n,i){return this.ce(n,i).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ae(i,a),this.oe(n,a))))}updateTargetData(n,i){return this.ce(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>rc(n).delete(i.targetId)).next(()=>this.re(n)).next(a=>(hn(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,i,a){let l=0;const f=[];return rc(n).Kt((C,x)=>{const L=ec(x);L.sequenceNumber<=i&&null===a.get(L.targetId)&&(l++,f.push(this.removeTargetData(n,L)))}).next(()=>yt.waitFor(f)).next(()=>l)}forEachTarget(n,i){return rc(n).Kt((a,l)=>{const f=ec(l);i(f)})}re(n){return Ld(n).get(Ys.key).next(i=>(hn(null!==i),i))}oe(n,i){return Ld(n).put(Ys.key,i)}ce(n,i){return rc(n).put(eg(this.N,i))}ae(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(i=>i.targetCount)}getTargetData(n,i){const a=Xo(i),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return rc(n).Kt({range:l,index:co.queryTargetsIndexName},(C,x,L)=>{const K=ec(x);Os(i,K.target)&&(f=K,L.done())}).next(()=>f)}addMatchingKeys(n,i,a){const l=[],f=Ya(n);return i.forEach(C=>{const x=jo(C.path);l.push(f.put(new fs(a,x))),l.push(this.referenceDelegate.addReference(n,a,C))}),yt.waitFor(l)}removeMatchingKeys(n,i,a){const l=Ya(n);return yt.forEach(i,f=>{const C=jo(f.path);return yt.waitFor([l.delete([a,C]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,i){const a=Ya(n),l=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),l=Ya(n);let f=Ar();return l.Kt({range:a,qt:!0},(C,x,L)=>{const K=ra(C[1]),se=new nn(K);f=f.add(se)}).next(()=>f)}containsKey(n,i){const a=jo(i.path),l=IDBKeyRange.bound([a],[v(a)],!1,!0);let f=0;return Ya(n).Kt({index:fs.documentTargetsIndex,qt:!0,range:l},([C,x],L,K)=>{0!==C&&(f++,K.done())}).next(()=>f>0)}Tt(n,i){return rc(n).get(i).next(a=>a?ec(a):null)}}function rc(s){return Qs(s,co.store)}function Ld(s){return Qs(s,Ys.store)}function Ya(s){return Qs(s,fs.store)}function Qa(s){return ef.apply(this,arguments)}function ef(){return ef=(0,m.Z)(function*(s){if(s.code!==Ke.FAILED_PRECONDITION||s.message!==Yp)throw s;At("LocalStore","Unexpectedly lost primary lease")}),ef.apply(this,arguments)}function ig([s,n],[i,a]){const l=D(s,i);return 0===l?D(n,a):l}class sg{constructor(n){this.ue=n,this.buffer=new Xr(ig),this.he=0}le(){return++this.he}fe(n){const i=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ig(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class og{constructor(n,i){this.garbageCollector=n,this.asyncQueue=i,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var i=this;const a=this.de?3e5:6e4;At("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,m.Z)(function*(){i.we=null,i.de=!0;try{yield n.collectGarbage(i.garbageCollector)}catch(l){Ju(l)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Qa(l)}yield i._e(n)}))}}class ic{constructor(n,i){this.me=n,this.params=i}calculateTargetCount(n,i){return this.me.ge(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return yt.resolve(Ti.T);const a=new sg(i);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.me.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.me.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(tc)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tc):this.pe(n,i))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,i){let a,l,f,C,x,L,K;const se=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Se=>(Se>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Se}`),l=this.params.maximumSequenceNumbersToCollect):l=Se,C=Date.now(),this.nthSequenceNumber(n,l))).next(Se=>(a=Se,x=Date.now(),this.removeTargets(n,a,i))).next(Se=>(f=Se,L=Date.now(),this.removeOrphanedDocuments(n,a))).next(Se=>(K=Date.now(),La()<=pe.in.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${C-se}ms\n\tDetermined least recently used ${l} in `+(x-C)+`ms\n\tRemoved ${f} targets in `+(L-x)+`ms\n\tRemoved ${Se} documents in `+(K-L)+`ms\nTotal Duration: ${K-se}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:Se})))}}class ag{constructor(n,i){this.db=n,this.garbageCollector=new ic(this,i)}ge(n){const i=this.Te(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(l=>a+l))}Te(n){let i=0;return this.ye(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}ye(n,i){return this.Ee(n,(a,l)=>i(l))}addReference(n,i,a){return kl(n,a)}removeReference(n,i,a){return kl(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return kl(n,i)}Ie(n,i){return function(a,l){let f=!1;return rg(a).jt(C=>ng(a,C,l).next(x=>(x&&(f=!0),yt.resolve(!x)))).next(()=>f)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Ee(n,(C,x)=>{if(x<=i){const L=this.Ie(n,C).next(K=>{if(!K)return f++,a.getEntry(n,C).next(()=>(a.removeEntry(C),Ya(n).delete([0,jo(C.path)])))});l.push(L)}}).next(()=>yt.waitFor(l)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return kl(n,i)}Ee(n,i){const a=Ya(n);let l,f=Ti.T;return a.Kt({index:fs.documentTargetsIndex},([C,x],{path:L,sequenceNumber:K})=>{0===C?(f!==Ti.T&&i(new nn(ra(l)),f),f=K,l=L):f=Ti.T}).next(()=>{f!==Ti.T&&i(new nn(ra(l)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function kl(s,n){return Ya(s).put((a=s.currentSequenceNumber,new fs(0,jo(n.path),a)));var a}class Oc{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={}}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[l,f]of a)if(this.equalsFn(l,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],n))return void(l[f]=[n,i]);l.push([n,i])}else this.inner[a]=[[n,i]]}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[i]:a.splice(l,1),!0;return!1}forEach(n){ee(this.inner,(i,a)=>{for(const[l,f]of a)n(l,f)})}isEmpty(){return ye(this.inner)}}class Fl{constructor(){this.changes=new Oc(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}getReadTime(n){const i=this.changes.get(n);return i?i.readTime:O.min()}addEntry(n,i){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:i})}removeEntry(n,i=null){this.assertNotApplied(),this.changes.set(n,{document:Fr.newInvalidDocument(n),readTime:i})}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?yt.resolve(a.document):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class oy{constructor(n,i){this.N=n,this.Ht=i}addEntry(n,i,a){return Ja(n).put(Pc(i),a)}removeEntry(n,i){const a=Ja(n),l=Pc(i);return a.delete(l)}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.Ae(n,a)))}getEntry(n,i){return Ja(n).get(Pc(i)).next(a=>this.Re(i,a))}be(n,i){return Ja(n).get(Pc(i)).next(a=>({document:this.Re(i,a),size:Fd(a)}))}getEntries(n,i){let a=Ji();return this.Pe(n,i,(l,f)=>{const C=this.Re(l,f);a=a.insert(l,C)}).next(()=>a)}ve(n,i){let a=Ji(),l=new Pi(nn.comparator);return this.Pe(n,i,(f,C)=>{const x=this.Re(f,C);a=a.insert(f,x),l=l.insert(f,Fd(C))}).next(()=>({documents:a,Ve:l}))}Pe(n,i,a){if(i.isEmpty())return yt.resolve();const l=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator();let C=f.getNext();return Ja(n).Kt({range:l},(x,L,K)=>{const se=nn.fromSegments(x);for(;C&&nn.comparator(C,se)<0;)a(C,null),C=f.getNext();C&&C.isEqual(se)&&(a(C,L),C=f.hasNext()?f.getNext():null),C?K.Mt(C.path.toArray()):K.done()}).next(()=>{for(;C;)a(C,null),C=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(n,i,a){let l=Ji();const f=i.path.length+1,C={};if(a.isEqual(O.min())){const x=i.path.toArray();C.range=IDBKeyRange.lowerBound(x)}else{const x=i.path.toArray(),L=Xp(a);C.range=IDBKeyRange.lowerBound([x,L],!0),C.index=Mi.collectionReadTimeIndex}return Ja(n).Kt(C,(x,L,K)=>{if(x.length!==f)return;const se=$o(this.N,L);i.path.isPrefixOf(se.key.path)?Jr(i,se)&&(l=l.insert(se.key,se)):K.done()}).next(()=>l)}newChangeBuffer(n){return new ug(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return tf(n).get(ba.key).next(i=>(hn(!!i),i))}Ae(n,i){return tf(n).put(ba.key,i)}Re(n,i){if(i){const a=$o(this.N,i);if(!a.isNoDocument()||!a.version.isEqual(O.min()))return a}return Fr.newInvalidDocument(n)}}class ug extends Fl{constructor(n,i){super(),this.Se=n,this.trackRemovals=i,this.De=new Oc(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const i=[];let a=0,l=new Xr((f,C)=>D(f.canonicalString(),C.canonicalString()));return this.changes.forEach((f,C)=>{const x=this.De.get(f);if(C.document.isValidDocument()){const L=ry(this.Se.N,C.document,this.getReadTime(f));l=l.add(f.path.popLast()),a+=Fd(L)-x,i.push(this.Se.addEntry(n,f,L))}else if(a-=x,this.trackRemovals){const L=ry(this.Se.N,Fr.newNoDocument(f,O.min()),this.getReadTime(f));i.push(this.Se.addEntry(n,f,L))}else i.push(this.Se.removeEntry(n,f))}),l.forEach(f=>{i.push(this.Se.Ht.addToCollectionParentIndex(n,f))}),i.push(this.Se.updateMetadata(n,a)),yt.waitFor(i)}getFromCache(n,i){return this.Se.be(n,i).next(a=>(this.De.set(i,a.size),a.document))}getAllFromCache(n,i){return this.Se.ve(n,i).next(({documents:a,Ve:l})=>(l.forEach((f,C)=>{this.De.set(f,C)}),a))}}function tf(s){return Qs(s,ba.store)}function Ja(s){return Qs(s,Mi.store)}function Pc(s){return s.path.toArray()}class cg{constructor(n){this.N=n}Ct(n,i,a,l){hn(a<l&&a>=0&&l<=11);const f=new Od("createOrUpgrade",i);var x;a<1&&l>=1&&(n.createObjectStore(Eo.store),(x=n).createObjectStore(qa.store,{keyPath:qa.keyPath}),x.createObjectStore(oi.store,{keyPath:oi.keyPath,autoIncrement:!0}).createIndex(oi.userMutationsIndex,oi.userMutationsKeyPath,{unique:!0}),x.createObjectStore(Cs.store),Ll(n),function(x){x.createObjectStore(Mi.store)}(n));let C=yt.resolve();return a<3&&l>=3&&(0!==a&&(function(x){x.deleteObjectStore(fs.store),x.deleteObjectStore(co.store),x.deleteObjectStore(Ys.store)}(n),Ll(n)),C=C.next(()=>function(x){const L=x.store(Ys.store),K=new Ys(0,0,O.min().toTimestamp(),0);return L.put(Ys.key,K)}(f))),a<4&&l>=4&&(0!==a&&(C=C.next(()=>function(x,L){return L.store(oi.store).Lt().next(K=>{x.deleteObjectStore(oi.store),x.createObjectStore(oi.store,{keyPath:oi.keyPath,autoIncrement:!0}).createIndex(oi.userMutationsIndex,oi.userMutationsKeyPath,{unique:!0});const se=L.store(oi.store),Se=K.map(Xe=>se.put(Xe));return yt.waitFor(Se)})}(n,f))),C=C.next(()=>{!function(x){x.createObjectStore(Za.store,{keyPath:Za.keyPath})}(n)})),a<5&&l>=5&&(C=C.next(()=>this.Ce(f))),a<6&&l>=6&&(C=C.next(()=>(function(x){x.createObjectStore(ba.store)}(n),this.Ne(f)))),a<7&&l>=7&&(C=C.next(()=>this.xe(f))),a<8&&l>=8&&(C=C.next(()=>this.ke(n,f))),a<9&&l>=9&&(C=C.next(()=>{(function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")})(n),function(x){const L=x.objectStore(Mi.store);L.createIndex(Mi.readTimeIndex,Mi.readTimeIndexPath,{unique:!1}),L.createIndex(Mi.collectionReadTimeIndex,Mi.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&l>=10&&(C=C.next(()=>this.$e(f))),a<11&&l>=11&&(C=C.next(()=>{(function(x){x.createObjectStore(Ml.store,{keyPath:Ml.keyPath})})(n),function(x){x.createObjectStore(Qu.store,{keyPath:Qu.keyPath})}(n)})),C}Ne(n){let i=0;return n.store(Mi.store).Kt((a,l)=>{i+=Fd(l)}).next(()=>{const a=new ba(i);return n.store(ba.store).put(ba.key,a)})}Ce(n){const i=n.store(qa.store),a=n.store(oi.store);return i.Lt().next(l=>yt.forEach(l,f=>{const C=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.Lt(oi.userMutationsIndex,C).next(x=>yt.forEach(x,L=>{hn(L.userId===f.userId);const K=Au(this.N,L);return Xh(n,f.userId,K).next(()=>{})}))}))}xe(n){const i=n.store(fs.store),a=n.store(Mi.store);return n.store(Ys.store).get(Ys.key).next(l=>{const f=[];return a.Kt((C,x)=>{const L=new Et(C),K=[0,jo(L)];f.push(i.get(K).next(se=>se?yt.resolve():i.put(new fs(0,jo(L),l.highestListenSequenceNumber))))}).next(()=>yt.waitFor(f))})}ke(n,i){n.createObjectStore(Du.store,{keyPath:Du.keyPath});const a=i.store(Du.store),l=new Ol,f=C=>{if(l.add(C)){const x=C.lastSegment(),L=C.popLast();return a.put({collectionId:x,parent:jo(L)})}};return i.store(Mi.store).Kt({qt:!0},(C,x)=>{const L=new Et(C);return f(L.popLast())}).next(()=>i.store(Cs.store).Kt({qt:!0},([C,x,L],K)=>{const se=ra(x);return f(se.popLast())}))}$e(n){const i=n.store(co.store);return i.Kt((a,l)=>{const f=ec(l),C=eg(this.N,f);return i.put(C)})}}function Ll(s){s.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.documentTargetsIndex,fs.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(co.store,{keyPath:co.keyPath}).createIndex(co.queryTargetsIndexName,co.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Ys.store)}const kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vd{constructor(n,i,a,l,f,C,x,L,K,se){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.Oe=f,this.window=C,this.document=x,this.Fe=K,this.Me=se,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Se=>Promise.resolve(),!Vd.bt())throw new _t(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ag(this,l),this.We=i+"main",this.N=new Xu(L),this.Ge=new ia(this.We,11,new cg(this.N)),this.ze=new sy(this.referenceDelegate,this.N),this.Ht=new tg,this.He=new oy(this.N,this.Ht),this.Je=new Nl,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===se&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(Ke.FAILED_PRECONDITION,kc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ti(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var i=this;return this.Qe=function(){var a=(0,m.Z)(function*(l){if(i.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var i=(0,m.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,m.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Vl(n).put(new Za(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(i=>this.isPrimary&&!i?this.on(n).next(()=>!1):!!i&&this.cn(n).next(()=>!0))).catch(n=>{if(Ju(n))return At("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return sc(n).get(Eo.key).next(i=>yt.resolve(this.an(i)))}un(n){return Vl(n).delete(this.clientId)}hn(){var n=this;return(0,m.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=Qs(a,Za.store);return l.Lt().next(f=>{const C=n.fn(f,18e5),x=f.filter(L=>-1===C.indexOf(L));return yt.forEach(x,L=>l.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(n.Ye)for(const a of i)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?yt.resolve(!0):sc(n).get(Eo.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.an(i)&&this.networkEnabled)return!0;if(!this.an(i)){if(!i.allowTabSynchronization)throw new _t(Ke.FAILED_PRECONDITION,kc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vl(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const C=!this.inForeground&&l.inForeground,x=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||C&&x)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&At("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,m.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Eo.store,Za.store],i=>{const a=new Gh(i,Ti.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,i){return n.filter(a=>this.ln(a.updateTimeMs,i)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Vl(n).Lt().next(i=>this.fn(i,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Pl.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,i,a){let f;return At("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===i?"readonly":"readwrite",Nd,C=>(f=new Gh(C,this.Le?this.Le.next():Ti.T),"readwrite-primary"===i?this.sn(f).next(x=>!!x||this.rn(f)).next(x=>{if(!x)throw ii(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new _t(Ke.FAILED_PRECONDITION,Yp);return a(f)}).next(x=>this.cn(f).next(()=>x)):this.Tn(f).next(()=>a(f)))).then(C=>(f.raiseOnCommittedEvent(),C))}Tn(n){return sc(n).get(Eo.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.an(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new _t(Ke.FAILED_PRECONDITION,kc)})}cn(n){const i=new Eo(this.clientId,this.allowTabSynchronization,Date.now());return sc(n).put(Eo.key,i)}static bt(){return ia.bt()}on(n){const i=sc(n);return i.get(Eo.key).next(a=>this.an(a)?(At("IndexedDbPersistence","Releasing primary lease."),i.delete(Eo.key)):yt.resolve())}ln(n,i){const a=Date.now();return!(n<a-i||n>a&&(ii(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,ne.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var i;try{const a=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(n)));return At("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return ii("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){ii("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function sc(s){return Qs(s,Eo.store)}function Vl(s){return Qs(s,Za.store)}function Ul(s,n){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+n+"/"+i+"/"}class Bl{constructor(n,i){this.progress=n,this.En=i}}class lg{constructor(n,i,a){this.He=n,this.In=i,this.Ht=a}An(n,i){return this.In.getAllMutationBatchesAffectingDocumentKey(n,i).next(a=>this.Rn(n,i,a))}Rn(n,i,a){return this.He.getEntry(n,i).next(l=>{for(const f of a)f.applyToLocalView(l);return l})}bn(n,i){n.forEach((a,l)=>{for(const f of i)f.applyToLocalView(l)})}Pn(n,i){return this.He.getEntries(n,i).next(a=>this.vn(n,a).next(()=>a))}vn(n,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,i).next(a=>this.bn(i,a))}getDocumentsMatchingQuery(n,i,a){return nn.isDocumentKey((l=i).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,i.path):fl(i)?this.Sn(n,i,a):this.Dn(n,i,a);var l}Vn(n,i){return this.An(n,new nn(i)).next(a=>{let l=Il();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,i,a){const l=i.collectionGroup;let f=Il();return this.Ht.getCollectionParents(n,l).next(C=>yt.forEach(C,x=>{const L=(K=i,se=x.child(l),new Lr(se,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,se;return this.Dn(n,L,a).next(K=>{K.forEach((se,Se)=>{f=f.insert(se,Se)})})}).next(()=>f))}Dn(n,i,a){let l,f;return this.He.getDocumentsMatchingQuery(n,i,a).next(C=>(l=C,this.In.getAllMutationBatchesAffectingQuery(n,i))).next(C=>(f=C,this.Cn(n,f,l).next(x=>{l=x;for(const L of f)for(const K of L.mutations){const se=K.key;let Se=l.get(se);null==Se&&(Se=Fr.newInvalidDocument(se),l=l.insert(se,Se)),wd(K,Se,L.localWriteTime),Se.isFoundDocument()||(l=l.remove(se))}}))).next(()=>(l.forEach((C,x)=>{Jr(i,x)||(l=l.remove(C))}),l))}Cn(n,i,a){let l=Ar();for(const C of i)for(const x of C.mutations)x instanceof Uo&&null===a.get(x.key)&&(l=l.add(x.key));let f=a;return this.He.getEntries(n,l).next(C=>(C.forEach((x,L)=>{L.isFoundDocument()&&(f=f.insert(x,L))}),f))}}class Ud{constructor(n,i,a,l){this.targetId=n,this.fromCache=i,this.Nn=a,this.xn=l}static kn(n,i){let a=Ar(),l=Ar();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new Ud(n,i.fromCache,a,l)}}class dg{$n(n){this.On=n}getDocumentsMatchingQuery(n,i,a,l){return 0===(f=i).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||a.isEqual(O.min())?this.Fn(n,i):this.On.Pn(n,l).next(f=>{const C=this.Mn(i,f);return(va(i)||$a(i))&&this.Ln(i.limitType,C,l,a)?this.Fn(n,i):(La()<=pe.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pl(i)),this.On.getDocumentsMatchingQuery(n,i,a).next(x=>(C.forEach(L=>{x=x.insert(L.key,L)}),x)))});var f}Mn(n,i){let a=new Xr(gl(n));return i.forEach((l,f)=>{Jr(n,f)&&(a=a.add(f))}),a}Ln(n,i,a,l){if(a.size!==i.size)return!0;const f="F"===n?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Fn(n,i){return La()<=pe.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",pl(i)),this.On.getDocumentsMatchingQuery(n,i,O.min())}}class ay{constructor(n,i,a,l){this.persistence=n,this.Bn=i,this.N=l,this.Un=new Pi(D),this.qn=new Oc(f=>Xo(f),Os),this.Kn=O.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new lg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.Un))}}function nf(s,n,i,a){return new ay(s,n,i,a)}function Bd(s,n){return jd.apply(this,arguments)}function jd(){return jd=(0,m.Z)(function*(s,n){const i=wt(s);let a=i.In,l=i.Qn;const f=yield i.persistence.runTransaction("Handle user change","readonly",C=>{let x;return i.In.getAllMutationBatches(C).next(L=>(x=L,a=i.persistence.getMutationQueue(n),l=new lg(i.jn,a,i.persistence.getIndexManager()),a.getAllMutationBatches(C))).next(L=>{const K=[],se=[];let Se=Ar();for(const Xe of x){K.push(Xe.batchId);for(const pt of Xe.mutations)Se=Se.add(pt.key)}for(const Xe of L){se.push(Xe.batchId);for(const pt of Xe.mutations)Se=Se.add(pt.key)}return l.Pn(C,Se).next(Xe=>({Wn:Xe,removedBatchIds:K,addedBatchIds:se}))})});return i.In=a,i.Qn=l,i.Bn.$n(i.Qn),f}),jd.apply(this,arguments)}function bv(s,n){const i=wt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),f=i.jn.newChangeBuffer({trackRemovals:!0});return function(C,x,L,K){const se=L.batch,Se=se.keys();let Xe=yt.resolve();return Se.forEach(pt=>{Xe=Xe.next(()=>K.getEntry(x,pt)).next(Vt=>{const ln=L.docVersions.get(pt);hn(null!==ln),Vt.version.compareTo(ln)<0&&(se.applyToRemoteDocument(Vt,L),Vt.isValidDocument()&&K.addEntry(Vt,L.commitVersion))})}),Xe.next(()=>C.In.removeMutationBatch(x,se))}(i,a,n,f).next(()=>f.apply(a)).next(()=>i.In.performConsistencyCheck(a)).next(()=>i.Qn.Pn(a,l))})}function rf(s){const n=wt(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.ze.getLastRemoteSnapshotVersion(i))}function uy(s,n){const i=wt(s),a=n.snapshotVersion;let l=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const C=i.jn.newChangeBuffer({trackRemovals:!0});l=i.Un;const x=[];n.targetChanges.forEach((K,se)=>{const Se=l.get(se);if(!Se)return;x.push(i.ze.removeMatchingKeys(f,K.removedDocuments,se).next(()=>i.ze.addMatchingKeys(f,K.addedDocuments,se)));const Xe=K.resumeToken;if(Xe.approximateByteSize()>0){const pt=Se.withResumeToken(Xe,a).withSequenceNumber(f.currentSequenceNumber);l=l.insert(se,pt),Vt=Se,$n=K,hn((ln=pt).resumeToken.approximateByteSize()>0),(0===Vt.resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||$n.addedDocuments.size+$n.modifiedDocuments.size+$n.removedDocuments.size>0)&&x.push(i.ze.updateTargetData(f,pt))}var Vt,ln,$n});let L=Ji();if(n.documentUpdates.forEach((K,se)=>{n.resolvedLimboDocuments.has(K)&&x.push(i.persistence.referenceDelegate.updateLimboDocument(f,K))}),x.push(sf(f,C,n.documentUpdates,a,void 0).next(K=>{L=K})),!a.isEqual(O.min())){const K=i.ze.getLastRemoteSnapshotVersion(f).next(se=>i.ze.setTargetsMetadata(f,f.currentSequenceNumber,a));x.push(K)}return yt.waitFor(x).next(()=>C.apply(f)).next(()=>i.Qn.vn(f,L)).next(()=>L)}).then(f=>(i.Un=l,f))}function sf(s,n,i,a,l){let f=Ar();return i.forEach(C=>f=f.add(C)),n.getEntries(s,f).next(C=>{let x=Ji();return i.forEach((L,K)=>{const se=C.get(L),Se=(null==l?void 0:l.get(L))||a;K.isNoDocument()&&K.version.isEqual(O.min())?(n.removeEntry(L,Se),x=x.insert(L,K)):!se.isValidDocument()||K.version.compareTo(se.version)>0||0===K.version.compareTo(se.version)&&se.hasPendingWrites?(n.addEntry(K,Se),x=x.insert(L,K)):At("LocalStore","Ignoring outdated watch update for ",L,". Current version:",se.version," Watch version:",K.version)}),x})}function cy(s,n){const i=wt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.In.getNextMutationBatchAfterBatchId(a,n)))}function Fc(s,n){const i=wt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.ze.getTargetData(a,n).next(f=>f?(l=f,yt.resolve(l)):i.ze.allocateTargetId(a).next(C=>(l=new Tu(n,C,0,a.currentSequenceNumber),i.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Un=i.Un.insert(a.targetId,a),i.qn.set(n,a.targetId)),a})}function Us(s,n,i){return af.apply(this,arguments)}function af(){return af=(0,m.Z)(function*(s,n,i){const a=wt(s),l=a.Un.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",f,C=>a.persistence.referenceDelegate.removeTarget(C,l)))}catch(C){if(!Ju(C))throw C;At("LocalStore",`Failed to update sequence numbers for target ${n}: ${C}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)}),af.apply(this,arguments)}function jl(s,n,i){const a=wt(s);let l=O.min(),f=Ar();return a.persistence.runTransaction("Execute query","readonly",C=>function(x,L,K){const se=wt(x),Se=se.qn.get(K);return void 0!==Se?yt.resolve(se.Un.get(Se)):se.ze.getTargetData(L,K)}(a,C,ks(n)).next(x=>{if(x)return l=x.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(C,x.targetId).next(L=>{f=L})}).next(()=>a.Bn.getDocumentsMatchingQuery(C,n,i?l:O.min(),i?f:Ar())).next(x=>({documents:x,Gn:f})))}function hg(s,n){const i=wt(s),a=wt(i.ze),l=i.Un.get(n);return l?Promise.resolve(l.target):i.persistence.runTransaction("Get target data","readonly",f=>a.Tt(f,n).next(C=>C?C.target:null))}function fg(s){const n=wt(s);return n.persistence.runTransaction("Get new document changes","readonly",i=>function(a,l,f){const C=wt(a);let x=Ji(),L=Xp(f);const K=Ja(l),se=IDBKeyRange.lowerBound(L,!0);return K.Kt({index:Mi.readTimeIndex,range:se},(Se,Xe)=>{const pt=$o(C.N,Xe);x=x.insert(pt.key,pt),L=Xe.readTime}).next(()=>({En:x,readTime:Zh(L)}))}(n.jn,i,n.Kn)).then(({En:i,readTime:a})=>(n.Kn=a,i))}function uf(){return uf=(0,m.Z)(function*(s){const n=wt(s);return n.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(a){const l=Ja(a);let f=O.min();return l.Kt({index:Mi.readTimeIndex,reverse:!0},(C,x,L)=>{x.readTime&&(f=Zh(x.readTime)),L.done()}).next(()=>f)}(i)).then(i=>{n.Kn=i})}),uf.apply(this,arguments)}function cf(){return cf=(0,m.Z)(function*(s,n,i,a){const l=wt(s);let f=Ar(),C=Ji(),x=wl();for(const se of i){const Se=n.zn(se.metadata.name);se.document&&(f=f.add(Se)),C=C.insert(Se,n.Hn(se)),x=x.insert(Se,n.Jn(se.metadata.readTime))}const L=l.jn.newChangeBuffer({trackRemovals:!0}),K=yield Fc(l,(se=a,ks(Ps(Et.fromString(`__bundle__/docs/${se}`)))));var se;return l.persistence.runTransaction("Apply bundle documents","readwrite",se=>sf(se,L,C,O.min(),x).next(Se=>(L.apply(se),Se)).next(Se=>l.ze.removeMatchingKeysForTargetId(se,K.targetId).next(()=>l.ze.addMatchingKeys(se,f,K.targetId)).next(()=>l.Qn.vn(se,Se)).next(()=>Se)))}),cf.apply(this,arguments)}function dy(s,n){return lf.apply(this,arguments)}function lf(){return lf=(0,m.Z)(function*(s,n,i=Ar()){const a=yield Fc(s,ks(kd(n.bundledQuery))),l=wt(s);return l.persistence.runTransaction("Save named query","readwrite",f=>{const C=yi(n.readTime);if(a.snapshotVersion.compareTo(C)>=0)return l.Je.saveNamedQuery(f,n);const x=a.withResumeToken(_r.EMPTY_BYTE_STRING,C);return l.Un=l.Un.insert(x.targetId,x),l.ze.updateTargetData(f,x).next(()=>l.ze.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>l.ze.addMatchingKeys(f,i,a.targetId)).next(()=>l.Je.saveNamedQuery(f,n))})}),lf.apply(this,arguments)}class Fn{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,i){return yt.resolve(this.Yn.get(i))}saveBundleMetadata(n,i){var a;return this.Yn.set(i.id,{id:(a=i).id,version:a.version,createTime:yi(a.createTime)}),yt.resolve()}getNamedQuery(n,i){return yt.resolve(this.Xn.get(i))}saveNamedQuery(n,i){return this.Xn.set(i.name,{name:(a=i).name,query:kd(a.bundledQuery),readTime:yi(a.readTime)}),yt.resolve();var a}}class $d{constructor(){this.Zn=new Xr(Xi.ts),this.es=new Xr(Xi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,i){const a=new Xi(n,i);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.rs(new Xi(n,i))}os(n,i){n.forEach(a=>this.removeReference(a,i))}cs(n){const i=new nn(new Et([])),a=new Xi(i,n),l=new Xi(i,n+1),f=[];return this.es.forEachInRange([a,l],C=>{this.rs(C),f.push(C.key)}),f}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const i=new nn(new Et([])),a=new Xi(i,n),l=new Xi(i,n+1);let f=Ar();return this.es.forEachInRange([a,l],C=>{f=f.add(C.key)}),f}containsKey(n){const i=new Xi(n,0),a=this.Zn.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Xi{constructor(n,i){this.key=n,this.ls=i}static ts(n,i){return nn.comparator(n.key,i.key)||D(n.ls,i.ls)}static ns(n,i){return D(n.ls,i.ls)||nn.comparator(n.key,i.key)}}class gg{constructor(n,i){this.Ht=n,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new Xr(Xi.ts)}checkEmpty(n){return yt.resolve(0===this.In.length)}addMutationBatch(n,i,a,l){const f=this.fs;this.fs++;const C=new Kh(f,i,a,l);this.In.push(C);for(const x of l)this.ds=this.ds.add(new Xi(x.key,f)),this.Ht.addToCollectionParentIndex(n,x.key.path.popLast());return yt.resolve(C)}lookupMutationBatch(n,i){return yt.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(n,i){const l=this._s(i+1),f=l<0?0:l;return yt.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return yt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Xi(i,0),l=new Xi(i,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([a,l],C=>{const x=this.ws(C.ls);f.push(x)}),yt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new Xr(D);return i.forEach(l=>{const f=new Xi(l,0),C=new Xi(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,C],x=>{a=a.add(x.ls)})}),yt.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,l=a.length+1;let f=a;nn.isDocumentKey(f)||(f=f.child(""));const C=new Xi(new nn(f),0);let x=new Xr(D);return this.ds.forEachWhile(L=>{const K=L.key.path;return!!a.isPrefixOf(K)&&(K.length===l&&(x=x.add(L.ls)),!0)},C),yt.resolve(this.gs(x))}gs(n){const i=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&i.push(l)}),i}removeMutationBatch(n,i){hn(0===this.ys(i.batchId,"removed")),this.In.shift();let a=this.ds;return yt.forEach(i.mutations,l=>{const f=new Xi(l.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,i){const a=new Xi(i,0),l=this.ds.firstAfterOrEqual(a);return yt.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(n){return yt.resolve()}ys(n,i){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const i=this._s(n);return i<0||i>=this.In.length?null:this.In[i]}}class Hd{constructor(n,i){this.Ht=n,this.ps=i,this.docs=new Pi(nn.comparator),this.size=0}addEntry(n,i,a){const l=i.key,f=this.docs.get(l),C=f?f.size:0,x=this.ps(i);return this.docs=this.docs.insert(l,{document:i.clone(),size:x,readTime:a}),this.size+=x-C,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return yt.resolve(a?a.document.clone():Fr.newInvalidDocument(i))}getEntries(n,i){let a=Ji();return i.forEach(l=>{const f=this.docs.get(l);a=a.insert(l,f?f.document.clone():Fr.newInvalidDocument(l))}),yt.resolve(a)}getDocumentsMatchingQuery(n,i,a){let l=Ji();const f=new nn(i.path.child("")),C=this.docs.getIteratorFrom(f);for(;C.hasNext();){const{key:x,value:{document:L,readTime:K}}=C.getNext();if(!i.path.isPrefixOf(x.path))break;K.compareTo(a)<=0||Jr(i,L)&&(l=l.insert(L.key,L.clone()))}return yt.resolve(l)}Ts(n,i){return yt.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new sa(this)}getSize(n){return yt.resolve(this.size)}}class sa extends Fl{constructor(n){super(),this.Se=n}applyChanges(n){const i=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?i.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),yt.waitFor(i)}getFromCache(n,i){return this.Se.getEntry(n,i)}getAllFromCache(n,i){return this.Se.getEntries(n,i)}}class mg{constructor(n){this.persistence=n,this.Es=new Oc(i=>Xo(i),Os),this.lastRemoteSnapshotVersion=O.min(),this.highestTargetId=0,this.Is=0,this.As=new $d,this.targetCount=0,this.Rs=nc.se()}forEachTarget(n,i){return this.Es.forEach((a,l)=>i(l)),yt.resolve()}getLastRemoteSnapshotVersion(n){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return yt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Is&&(this.Is=i),yt.resolve()}ce(n){this.Es.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.Rs=new nc(i),this.highestTargetId=i),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,i){return this.ce(i),this.targetCount+=1,yt.resolve()}updateTargetData(n,i){return this.ce(i),yt.resolve()}removeTargetData(n,i){return this.Es.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,yt.resolve()}removeTargets(n,i,a){let l=0;const f=[];return this.Es.forEach((C,x)=>{x.sequenceNumber<=i&&null===a.get(x.targetId)&&(this.Es.delete(C),f.push(this.removeMatchingKeysForTargetId(n,x.targetId)),l++)}),yt.waitFor(f).next(()=>l)}getTargetCount(n){return yt.resolve(this.targetCount)}getTargetData(n,i){const a=this.Es.get(i)||null;return yt.resolve(a)}addMatchingKeys(n,i,a){return this.As.ss(i,a),yt.resolve()}removeMatchingKeys(n,i,a){this.As.os(i,a);const l=this.persistence.referenceDelegate,f=[];return l&&i.forEach(C=>{f.push(l.markPotentiallyOrphaned(n,C))}),yt.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.As.cs(i),yt.resolve()}getMatchingKeysForTargetId(n,i){const a=this.As.hs(i);return yt.resolve(a)}containsKey(n,i){return yt.resolve(this.As.containsKey(i))}}class hy{constructor(n,i){this.bs={},this.Le=new Ti(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new mg(this),this.Ht=new Jh,this.He=new Hd(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Xu(i),this.Je=new Fn(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let i=this.bs[n.toKey()];return i||(i=new gg(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,i,a){At("MemoryPersistence","Starting transaction:",n);const l=new df(this.Le.next());return this.referenceDelegate.vs(),a(l).next(f=>this.referenceDelegate.Vs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ss(n,i){return yt.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,i)))}}class df extends Qp{constructor(n){super(),this.currentSequenceNumber=n}}class oa{constructor(n){this.persistence=n,this.Ds=new $d,this.Cs=null}static Ns(n){return new oa(n)}get xs(){if(this.Cs)return this.Cs;throw en()}addReference(n,i,a){return this.Ds.addReference(a,i),this.xs.delete(a.toString()),yt.resolve()}removeReference(n,i,a){return this.Ds.removeReference(a,i),this.xs.add(a.toString()),yt.resolve()}markPotentiallyOrphaned(n,i){return this.xs.add(i.toString()),yt.resolve()}removeTarget(n,i){this.Ds.cs(i.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(l=>{l.forEach(f=>this.xs.add(f.toString()))}).next(()=>a.removeTargetData(n,i))}vs(){this.Cs=new Set}Vs(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.xs,a=>{const l=nn.fromPath(a);return this.ks(n,l).next(f=>{f||i.removeEntry(l)})}).next(()=>(this.Cs=null,i.apply(n)))}updateLimboDocument(n,i){return this.ks(n,i).next(a=>{a?this.xs.delete(i.toString()):this.xs.add(i.toString())})}Ps(n){return 0}ks(n,i){return yt.or([()=>yt.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ss(n,i)])}}function Wd(s,n){return`firestore_clients_${s}_${n}`}function hf(s,n,i){let a=`firestore_mutations_${s}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function $l(s,n){return`firestore_targets_${s}_${n}`}class ff{constructor(n,i,a,l){this.user=n,this.batchId=i,this.state=a,this.error=l}static $s(n,i,a){const l=JSON.parse(a);let f,C="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return C&&l.error&&(C="string"==typeof l.error.message&&"string"==typeof l.error.code,C&&(f=new _t(l.error.code,l.error.message))),C?new ff(n,i,l.state,f):(ii("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Lc{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static $s(n,i){const a=JSON.parse(i);let l,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new _t(a.error.code,a.error.message))),f?new Lc(n,a.state,l):(ii("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class pf{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static $s(n,i){const a=JSON.parse(i);let l="object"==typeof a&&a.activeTargetIds instanceof Array,f=Sc();for(let C=0;l&&C<a.activeTargetIds.length;++C)l=Ic(a.activeTargetIds[C]),f=f.add(a.activeTargetIds[C]);return l?new pf(n,f):(ii("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Vc{constructor(n,i){this.clientId=n,this.onlineState=i}static $s(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Vc(i.clientId,i.onlineState):(ii("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Uc{constructor(){this.activeTargetIds=Sc()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Hl{constructor(n,i,a,l,f){this.window=n,this.Oe=i,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Pi(D),this.started=!1,this.Ks=[];const C=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=Wd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Uc),this.Ws=new RegExp(`^firestore_clients_${C}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${C}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${C}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(x){return`firestore_bundle_loaded_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,m.Z)(function*(){const i=yield n.syncEngine.pn();for(const l of i){if(l===n.Ls)continue;const f=n.getItem(Wd(n.persistenceKey,l));if(f){const C=pf.$s(l,f);C&&(n.qs=n.qs.insert(C.clientId,C))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let i=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,i,a){this.ei(n,i,a),this.ni(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem($l(this.persistenceKey,n));if(a){const l=Lc.$s(n,a);l&&(i=l.state)}}return this.si.Fs(n),this.Ys(),i}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem($l(this.persistenceKey,n))}updateQueryState(n,i,a){this.ii(n,i,a)}handleUserChange(n,i,a){i.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return At("SharedClientState","READ",n,i),i}setItem(n,i){At("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){At("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var i=this;const a=n;if(a.storageArea===this.storage){if(At("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,m.Z)(function*(){if(i.started){if(null!==a.key)if(i.Ws.test(a.key)){if(null==a.newValue){const l=i.ci(a.key);return i.ai(l,null)}{const l=i.ui(a.key,a.newValue);if(l)return i.ai(l.clientId,l)}}else if(i.Gs.test(a.key)){if(null!==a.newValue){const l=i.hi(a.key,a.newValue);if(l)return i.li(l)}}else if(i.zs.test(a.key)){if(null!==a.newValue){const l=i.fi(a.key,a.newValue);if(l)return i.di(l)}}else if(a.key===i.Hs){if(null!==a.newValue){const l=i.Xs(a.newValue);if(l)return i.Zs(l)}}else if(a.key===i.Qs){const l=function(f){let C=Ti.T;if(null!=f)try{const x=JSON.parse(f);hn("number"==typeof x),C=x}catch(x){ii("SharedClientState","Failed to read sequence number from WebStorage",x)}return C}(a.newValue);l!==Ti.T&&i.sequenceNumberHandler(l)}else if(a.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,i,a){const l=new ff(this.currentUser,n,i,a),f=hf(this.persistenceKey,this.currentUser,n);this.setItem(f,l.Os())}ni(n){const i=hf(this.persistenceKey,this.currentUser,n);this.removeItem(i)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,i,a){const l=$l(this.persistenceKey,n),f=new Lc(n,i,a);this.setItem(l,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(n){const i=this.Ws.exec(n);return i?i[1]:null}ui(n,i){const a=this.ci(n);return pf.$s(a,i)}hi(n,i){const a=this.Gs.exec(n),l=Number(a[1]);return ff.$s(new Zr(void 0!==a[2]?a[2]:null),l,i)}fi(n,i){const a=this.zs.exec(n),l=Number(a[1]);return Lc.$s(l,i)}Xs(n){return Vc.$s(n)}li(n){var i=this;return(0,m.Z)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine._i(n.batchId,n.state,n.error);At("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ai(n,i){const a=i?this.qs.insert(n,i):this.qs.remove(n),l=this.ti(this.qs),f=this.ti(a),C=[],x=[];return f.forEach(L=>{l.has(L)||C.push(L)}),l.forEach(L=>{f.has(L)||x.push(L)}),this.syncEngine.gi(C,x).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let i=Sc();return n.forEach((a,l)=>{i=i.unionWith(l.activeTargetIds)}),i}}class zd{constructor(){this.yi=new Uc,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,i,a){this.pi[n]=i}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new Uc,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class gf{Ti(n){}shutdown(){}}class fy{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gy{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class my extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,i,a,l){const f=this.Bi(n,i);At("RestConnection","Sending: ",f,a);const C={};return this.Ui(C,l),this.qi(n,f,C,a).then(x=>(At("RestConnection","Received: ",x),x),x=>{throw mi("RestConnection",`${n} failed with error: `,x,"url: ",f,"request:",a),x})}Ki(n,i,a,l){return this.Li(n,i,a,l)}Ui(n,i){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+po,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(n[a]=i.authHeaders[a])}Bi(n,i){return`${this.Fi}/v1/${i}:${py[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,i,a,l){return new Promise((f,C)=>{const x=new xo;x.listenOnce(gi.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Qo.NO_ERROR:const K=x.getResponseJson();At("Connection","XHR received:",JSON.stringify(K)),f(K);break;case Qo.TIMEOUT:At("Connection",'RPC "'+n+'" timed out'),C(new _t(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const se=x.getStatus();if(At("Connection",'RPC "'+n+'" failed with status:',se,"response text:",x.getResponseText()),se>0){const Se=x.getResponseJson().error;if(Se&&Se.status&&Se.message){const Xe=function(pt){const Vt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(Vt)>=0?Vt:Ke.UNKNOWN}(Se.status);C(new _t(Xe,Se.message))}else C(new _t(Ke.UNKNOWN,"Server responded with status "+x.getStatus()))}else C(new _t(Ke.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{At("Connection",'RPC "'+n+'" completed.')}});const L=JSON.stringify(l);x.send(i,"POST",L,a,15)})}ji(n,i){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=Es(),f=Ro(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Is({})),this.Ui(C.initMessageHeaders,i),(0,ne.uI)()||(0,ne.b$)()||(0,ne.d)()||(0,ne.w1)()||(0,ne.Mn)()||(0,ne.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const x=a.join("");At("Connection","Creating WebChannel: "+x,C);const L=l.createWebChannel(x,C);let K=!1,se=!1;const Se=new gy({vi:pt=>{se?At("Connection","Not sending because WebChannel is closed:",pt):(K||(At("Connection","Opening WebChannel transport."),L.open(),K=!0),At("Connection","WebChannel sending:",pt),L.send(pt))},Vi:()=>L.close()}),Xe=(pt,Vt,ln)=>{pt.listen(Vt,$n=>{try{ln($n)}catch(Fi){setTimeout(()=>{throw Fi},0)}})};return Xe(L,ws.EventType.OPEN,()=>{se||At("Connection","WebChannel transport opened.")}),Xe(L,ws.EventType.CLOSE,()=>{se||(se=!0,At("Connection","WebChannel transport closed"),Se.$i())}),Xe(L,ws.EventType.ERROR,pt=>{se||(se=!0,mi("Connection","WebChannel transport errored:",pt),Se.$i(new _t(Ke.UNAVAILABLE,"The operation could not be completed")))}),Xe(L,ws.EventType.MESSAGE,pt=>{var Vt;if(!se){const ln=pt.data[0];hn(!!ln);const $n=ln,Fi=$n.error||(null===(Vt=$n[0])||void 0===Vt?void 0:Vt.error);if(Fi){At("Connection","WebChannel received error:",Fi);const la=Fi.status;let rl=function(wh){const yp=ci[wh];if(void 0!==yp)return Ca(yp)}(la),il=Fi.message;void 0===rl&&(rl=Ke.INTERNAL,il="Unknown error status: "+la+" with message "+Fi.message),se=!0,Se.$i(new _t(rl,il)),L.close()}else At("Connection","WebChannel received:",ln),Se.Oi(ln)}}),Xe(f,ju.STAT_EVENT,pt=>{pt.stat===cs.PROXY?At("Connection","Detected buffering proxy"):pt.stat===cs.NOPROXY&&At("Connection","Detected no buffering proxy")}),setTimeout(()=>{Se.ki()},0),Se}}function yg(){return"undefined"!=typeof window?window:null}function Wl(){return"undefined"!=typeof document?document:null}function Gd(s){return new Kr(s,!0)}class mf{constructor(n,i,a=1e3,l=1.5,f=6e4){this.Oe=n,this.timerId=i,this.Qi=a,this.Wi=l,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const i=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,i-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class yy{constructor(n,i,a,l,f,C,x){this.Oe=n,this.er=a,this.nr=l,this.sr=f,this.credentialsProvider=C,this.listener=x,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new mf(n,i)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var n=this;return(0,m.Z)(function*(){n.ur()&&(yield n.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(n){this.gr(),this.stream.send(n)}_r(){var n=this;return(0,m.Z)(function*(){if(n.hr())return n.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(n,i){var a=this;return(0,m.Z)(function*(){a.gr(),a.yr(),a.ar.cancel(),a.ir++,4!==n?a.ar.reset():i&&i.code===Ke.RESOURCE_EXHAUSTED?(ii(i.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),a.ar.Yi()):i&&i.code===Ke.UNAUTHENTICATED&&3!==a.state&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.pr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(i)})()}pr(){}auth(){this.state=1;const n=this.Tr(this.ir),i=this.ir;this.credentialsProvider.getToken().then(a=>{this.ir===i&&this.Er(a)},a=>{n(()=>{const l=new _t(Ke.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Ir(l)})})}Er(n){const i=this.Tr(this.ir);this.stream=this.Ar(n),this.stream.Si(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(a=>{i(()=>this.Ir(a))}),this.stream.onMessage(a=>{i(()=>this.onMessage(a))})}lr(){var n=this;this.state=5,this.ar.Xi((0,m.Z)(function*(){n.state=0,n.start()}))}Ir(n){return At("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Tr(n){return i=>{this.Oe.enqueueAndForget(()=>this.ir===n?i():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _g extends yy{constructor(n,i,a,l,f){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,f),this.N=l}Ar(n){return this.sr.ji("Listen",n)}onMessage(n){this.ar.reset();const i=function(s,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(L=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:en(),l=n.targetChange.targetIds||[],f=function(L,K){return L.D?(hn(void 0===K||"string"==typeof K),_r.fromBase64String(K||"")):(hn(void 0===K||K instanceof Uint8Array),_r.fromUint8Array(K||new Uint8Array))}(s,n.targetChange.resumeToken),C=n.targetChange.cause,x=C&&function(L){const K=void 0===L.code?Ke.UNKNOWN:Ca(L.code);return new _t(K,L.message||"")}(C);i=new V(a,l,f,x||null)}else if("documentChange"in n){const a=n.documentChange,l=vo(s,a.document.name),f=yi(a.document.updateTime),C=new si({mapValue:{fields:a.document.fields}}),x=Fr.newFoundDocument(l,f,C);i=new p(a.targetIds||[],a.removedTargetIds||[],x.key,x)}else if("documentDelete"in n){const a=n.documentDelete,l=vo(s,a.document),f=a.readTime?yi(a.readTime):O.min(),C=Fr.newNoDocument(l,f);i=new p([],a.removedTargetIds||[],C.key,C)}else if("documentRemove"in n){const a=n.documentRemove,l=vo(s,a.document);i=new p([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return en();{const a=n.filter,f=new vl(a.count||0);i=new T(a.targetId,f)}}var L;return i}(this.N,n),a=function(l){if(!("targetChange"in l))return O.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?O.min():f.readTime?yi(f.readTime):O.min()}(n);return this.listener.Rr(i,a)}br(n){const i={};i.database=Ka(this.N),i.addTarget=function(l,f){let C;const x=f.target;return C=_u(x)?{documents:Hp(l,x)}:{query:Wp(l,x)},C.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?C.resumeToken=Da(l,f.resumeToken):f.snapshotVersion.compareTo(O.min())>0&&(C.readTime=qs(l,f.snapshotVersion.toTimestamp())),C}(this.N,n);const a=function(s,n){const i=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return en()}}(0,n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.mr(i)}Pr(n){const i={};i.database=Ka(this.N),i.removeTarget=n,this.mr(i)}}class vg extends yy{constructor(n,i,a,l,f){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,f),this.N=l,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(n){return this.sr.ji("Write",n)}onMessage(n){if(hn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.vr){this.ar.reset();const i=function(s,n){return s&&s.length>0?(hn(void 0!==n),s.map(i=>function(a,l){let f=yi(a.updateTime?a.updateTime:l);return f.isEqual(O.min())&&(f=yi(l)),new Eu(f,a.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=yi(n.commitTime);return this.listener.Dr(a,i)}return hn(!n.writeResults||0===n.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const n={};n.database=Ka(this.N),this.mr(n)}Sr(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>Rc(this.N,a))};this.mr(i)}}class _y extends class{}{constructor(n,i,a){super(),this.credentials=n,this.sr=i,this.N=a,this.kr=!1}$r(){if(this.kr)throw new _t(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,i,a){return this.$r(),this.credentials.getToken().then(l=>this.sr.Li(n,i,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ke.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new _t(Ke.UNKNOWN,l.toString())})}Ki(n,i,a){return this.$r(),this.credentials.getToken().then(l=>this.sr.Ki(n,i,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Ke.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new _t(Ke.UNKNOWN,l.toString())})}terminate(){this.kr=!0}}class yf{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(n){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Br("Offline")))}set(n){this.Kr(),this.Or=0,"Online"===n&&(this.Mr=!1),this.Br(n)}Br(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Ur(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(ii(i),this.Mr=!1):At("OnlineStateTracker",i)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Tv{constructor(n,i,a,l,f){var C=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=f,this.zr.Ti(x=>{a.enqueueAndForget((0,m.Z)(function*(){var L;Aa(C)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,m.Z)(function*(K){const se=wt(K);se.Wr.add(4),yield zl(se),se.Hr.set("Unknown"),se.Wr.delete(4),yield Kd(se)}),function(K){return L.apply(this,arguments)})(C))}))}),this.Hr=new yf(a,l)}}function Kd(s){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,m.Z)(function*(s){if(Aa(s))for(const n of s.Gr)yield n(!0)}),Eg.apply(this,arguments)}function zl(s){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,m.Z)(function*(s){for(const n of s.Gr)yield n(!1)}),Ig.apply(this,arguments)}function _f(s,n){const i=wt(s);i.Qr.has(n.targetId)||(i.Qr.set(n.targetId,n),Ta(i)?Cg(i):Xa(i).hr()&&wg(i,n))}function qd(s,n){const i=wt(s),a=Xa(i);i.Qr.delete(n),a.hr()&&vy(i,n),0===i.Qr.size&&(a.hr()?a.wr():Aa(i)&&i.Hr.set("Unknown"))}function wg(s,n){s.Jr.Y(n.targetId),Xa(s).br(n)}function vy(s,n){s.Jr.Y(n),Xa(s).Pr(n)}function Cg(s){s.Jr=new Be({getRemoteKeysForTarget:n=>s.remoteSyncer.getRemoteKeysForTarget(n),Tt:n=>s.Qr.get(n)||null}),Xa(s).start(),s.Hr.Lr()}function Ta(s){return Aa(s)&&!Xa(s).ur()&&s.Qr.size>0}function Aa(s){return 0===wt(s).Wr.size}function Dg(s){s.Jr=void 0}function bg(s){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,m.Z)(function*(s){s.Qr.forEach((n,i)=>{wg(s,n)})}),Gl.apply(this,arguments)}function Tg(s,n){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,m.Z)(function*(s,n){Dg(s),Ta(s)?(s.Hr.qr(n),Cg(s)):s.Hr.set("Unknown")}),Kl.apply(this,arguments)}function Ey(s,n,i){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,m.Z)(function*(s,n,i){if(s.Hr.set("Online"),n instanceof V&&2===n.state&&n.cause)try{yield(a=(0,m.Z)(function*(l,f){const C=f.cause;for(const x of f.targetIds)l.Qr.has(x)&&(yield l.remoteSyncer.rejectListen(x,C),l.Qr.delete(x),l.Jr.removeTarget(x))}),function(l,f){return a.apply(this,arguments)})(s,n)}catch(a){At("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield ql(s,a)}else if(n instanceof p?s.Jr.rt(n):n instanceof T?s.Jr.ft(n):s.Jr.at(n),!i.isEqual(O.min()))try{const a=yield rf(s.localStore);i.compareTo(a)>=0&&(yield function(l,f){const C=l.Jr._t(f);return C.targetChanges.forEach((x,L)=>{if(x.resumeToken.approximateByteSize()>0){const K=l.Qr.get(L);K&&l.Qr.set(L,K.withResumeToken(x.resumeToken,f))}}),C.targetMismatches.forEach(x=>{const L=l.Qr.get(x);if(!L)return;l.Qr.set(x,L.withResumeToken(_r.EMPTY_BYTE_STRING,L.snapshotVersion)),vy(l,x);const K=new Tu(L.target,x,1,L.sequenceNumber);wg(l,K)}),l.remoteSyncer.applyRemoteEvent(C)}(s,i))}catch(a){At("RemoteStore","Failed to raise snapshot:",a),yield ql(s,a)}var a}),Sa.apply(this,arguments)}function ql(s,n,i){return vf.apply(this,arguments)}function vf(){return vf=(0,m.Z)(function*(s,n,i){if(!Ju(n))throw n;s.Wr.add(1),yield zl(s),s.Hr.set("Offline"),i||(i=()=>rf(s.localStore)),s.asyncQueue.enqueueRetryable((0,m.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield i(),s.Wr.delete(1),yield Kd(s)}))}),vf.apply(this,arguments)}function Zd(s,n){return n().catch(i=>ql(s,i,n))}function Bc(s){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,m.Z)(function*(s){const n=wt(s),i=xu(n);let a=n.jr.length>0?n.jr[n.jr.length-1].batchId:-1;for(;Iy(n);)try{const l=yield cy(n.localStore,a);if(null===l){0===n.jr.length&&i.wr();break}a=l.batchId,wy(n,l)}catch(l){yield ql(n,l)}jc(n)&&oc(n)}),Yd.apply(this,arguments)}function Iy(s){return Aa(s)&&s.jr.length<10}function wy(s,n){s.jr.push(n);const i=xu(s);i.hr()&&i.Vr&&i.Sr(n.mutations)}function jc(s){return Aa(s)&&!xu(s).ur()&&s.jr.length>0}function oc(s){xu(s).start()}function Ef(s){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,m.Z)(function*(s){xu(s).Nr()}),Mu.apply(this,arguments)}function Zl(s){return Ru.apply(this,arguments)}function Ru(){return Ru=(0,m.Z)(function*(s){const n=xu(s);for(const i of s.jr)n.Sr(i.mutations)}),Ru.apply(this,arguments)}function Cy(s,n,i){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,m.Z)(function*(s,n,i){const a=s.jr.shift(),l=qh.from(a,n,i);yield Zd(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Bc(s)}),Qd.apply(this,arguments)}function Ag(s,n){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,m.Z)(function*(s,n){var i;n&&xu(s).Vr&&(yield(i=(0,m.Z)(function*(a,l){if(El(f=l.code)&&f!==Ke.ABORTED){const C=a.jr.shift();xu(a).dr(),yield Zd(a,()=>a.remoteSyncer.rejectFailedWrite(C.batchId,l)),yield Bc(a)}var f}),function(a,l){return i.apply(this,arguments)})(s,n)),jc(s)&&oc(s)}),Yl.apply(this,arguments)}function Ql(s,n){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,m.Z)(function*(s,n){const i=wt(s);n?(i.Wr.delete(2),yield Kd(i)):n||(i.Wr.add(2),yield zl(i),i.Hr.set("Unknown"))}),Jd.apply(this,arguments)}function Xa(s){return s.Yr||(s.Yr=function(n,i,a){const l=wt(n);return l.$r(),new _g(i,l.sr,l.credentials,l.N,a)}(s.datastore,s.asyncQueue,{Si:bg.bind(null,s),Ci:Tg.bind(null,s),Rr:Ey.bind(null,s)}),s.Gr.push(function(){var n=(0,m.Z)(function*(i){i?(s.Yr.dr(),Ta(s)?Cg(s):s.Hr.set("Unknown")):(yield s.Yr.stop(),Dg(s))});return function(i){return n.apply(this,arguments)}}())),s.Yr}function xu(s){return s.Xr||(s.Xr=function(n,i,a){const l=wt(n);return l.$r(),new vg(i,l.sr,l.credentials,l.N,a)}(s.datastore,s.asyncQueue,{Si:Ef.bind(null,s),Ci:Ag.bind(null,s),Cr:Zl.bind(null,s),Dr:Cy.bind(null,s)}),s.Gr.push(function(){var n=(0,m.Z)(function*(i){i?(s.Xr.dr(),yield Bc(s)):(yield s.Xr.stop(),s.jr.length>0&&(At("RemoteStore",`Stopping write stream with ${s.jr.length} pending writes`),s.jr=[]))});return function(i){return n.apply(this,arguments)}}())),s.Xr}class Xd{constructor(n,i,a,l,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=f,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(C=>{})}static createAndSchedule(n,i,a,l,f){const C=Date.now()+a,x=new Xd(n,i,C,l,f);return x.start(a),x}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(Ke.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jl(s,n){if(ii("AsyncQueue",`${n}: ${s}`),Ju(s))return new _t(Ke.UNAVAILABLE,`${n}: ${s}`);throw s}class ac{constructor(n){this.comparator=n?(i,a)=>n(i,a)||nn.comparator(i.key,a.key):(i,a)=>nn.comparator(i.key,a.key),this.keyedMap=Il(),this.sortedSet=new Pi(this.comparator)}static emptySet(n){return new ac(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof ac)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,f=a.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new ac;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class If{constructor(){this.Zr=new Pi(nn.comparator)}track(n){const i=n.doc.key,a=this.Zr.get(i);a?0!==n.type&&3===a.type?this.Zr=this.Zr.insert(i,n):3===n.type&&1!==a.type?this.Zr=this.Zr.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Zr=this.Zr.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Zr=this.Zr.remove(i):1===n.type&&2===a.type?this.Zr=this.Zr.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Zr=this.Zr.insert(i,{type:2,doc:n.doc}):en():this.Zr=this.Zr.insert(i,n)}eo(){const n=[];return this.Zr.inorderTraversal((i,a)=>{n.push(a)}),n}}class $c{constructor(n,i,a,l,f,C,x,L){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=f,this.fromCache=C,this.syncStateChanged=x,this.excludesMetadataChanges=L}static fromInitialDocuments(n,i,a,l){const f=[];return i.forEach(C=>{f.push({type:0,doc:C})}),new $c(n,i,ac.emptySet(i),f,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&yo(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Sg{constructor(){this.no=void 0,this.listeners=[]}}class Dy{constructor(){this.queries=new Oc(n=>Ha(n),yo),this.onlineState="Unknown",this.so=new Set}}function wf(s,n){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,m.Z)(function*(s,n){const i=wt(s),a=n.query;let l=!1,f=i.queries.get(a);if(f||(l=!0,f=new Sg),l)try{f.no=yield i.onListen(a)}catch(C){const x=Jl(C,`Initialization of query '${pl(n.query)}' failed`);return void n.onError(x)}i.queries.set(a,f),f.listeners.push(n),n.io(i.onlineState),f.no&&n.ro(f.no)&&eh(i)}),Xs.apply(this,arguments)}function Cf(s,n){return Df.apply(this,arguments)}function Df(){return Df=(0,m.Z)(function*(s,n){const i=wt(s),a=n.query;let l=!1;const f=i.queries.get(a);if(f){const C=f.listeners.indexOf(n);C>=0&&(f.listeners.splice(C,1),l=0===f.listeners.length)}if(l)return i.queries.delete(a),i.onUnlisten(a)}),Df.apply(this,arguments)}function Av(s,n){const i=wt(s);let a=!1;for(const l of n){const C=i.queries.get(l.query);if(C){for(const x of C.listeners)x.ro(l)&&(a=!0);C.no=l}}a&&eh(i)}function Sv(s,n,i){const a=wt(s),l=a.queries.get(n);if(l)for(const f of l.listeners)f.onError(i);a.queries.delete(n)}function eh(s){s.so.forEach(n=>{n.next()})}class Mg{constructor(n,i,a){this.query=n,this.oo=i,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=a||{}}ro(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new $c(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let i=!1;return this.co?this.uo(n)&&(this.oo.next(n),i=!0):this.ho(n,this.onlineState)&&(this.lo(n),i=!0),this.ao=n,i}onError(n){this.oo.error(n)}io(n){this.onlineState=n;let i=!1;return this.ao&&!this.co&&this.ho(this.ao,n)&&(this.lo(this.ao),i=!0),i}ho(n,i){return!n.fromCache||!(this.options.fo&&"Offline"!==i||n.docs.isEmpty()&&"Offline"!==i)}uo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(n){n=$c.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.co=!0,this.oo.next(n)}}class by{constructor(n,i){this.payload=n,this.byteLength=i}wo(){return"metadata"in this.payload}}class th{constructor(n){this.N=n}zn(n){return vo(this.N,n)}Hn(n){return n.metadata.exists?Yu(this.N,n.document,!1):Fr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return yi(n)}}class Rg{constructor(n,i,a){this._o=n,this.localStore=i,this.N=a,this.queries=[],this.documents=[],this.progress=xg(n)}mo(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++i):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}yo(n){const i=new Map,a=new th(this.N);for(const l of n)if(l.metadata.queries){const f=a.zn(l.metadata.name);for(const C of l.metadata.queries){const x=(i.get(C)||Ar()).add(f);i.set(C,x)}}return i}complete(){var n=this;return(0,m.Z)(function*(){const i=yield function(s,n,i,a){return cf.apply(this,arguments)}(n.localStore,new th(n.N),n.documents,n._o.id),a=n.yo(n.documents);for(const l of n.queries)yield dy(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new Bl(Object.assign({},n.progress),i)})()}}function xg(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Ng{constructor(n){this.key=n}}class Og{constructor(n){this.key=n}}class bf{constructor(n,i){this.query=n,this.po=i,this.To=null,this.current=!1,this.Eo=Ar(),this.mutatedKeys=Ar(),this.Io=gl(n),this.Ao=new ac(this.Io)}get Ro(){return this.po}bo(n,i){const a=i?i.Po:new If,l=i?i.Ao:this.Ao;let f=i?i.mutatedKeys:this.mutatedKeys,C=l,x=!1;const L=va(this.query)&&l.size===this.query.limit?l.last():null,K=$a(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((se,Se)=>{const Xe=l.get(se),pt=Jr(this.query,Se)?Se:null,Vt=!!Xe&&this.mutatedKeys.has(Xe.key),ln=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let $n=!1;Xe&&pt?Xe.data.isEqual(pt.data)?Vt!==ln&&(a.track({type:3,doc:pt}),$n=!0):this.vo(Xe,pt)||(a.track({type:2,doc:pt}),$n=!0,(L&&this.Io(pt,L)>0||K&&this.Io(pt,K)<0)&&(x=!0)):!Xe&&pt?(a.track({type:0,doc:pt}),$n=!0):Xe&&!pt&&(a.track({type:1,doc:Xe}),$n=!0,(L||K)&&(x=!0)),$n&&(pt?(C=C.add(pt),f=ln?f.add(se):f.delete(se)):(C=C.delete(se),f=f.delete(se)))}),va(this.query)||$a(this.query))for(;C.size>this.query.limit;){const se=va(this.query)?C.last():C.first();C=C.delete(se.key),f=f.delete(se.key),a.track({type:1,doc:se})}return{Ao:C,Po:a,Ln:x,mutatedKeys:f}}vo(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a){const l=this.Ao;this.Ao=n.Ao,this.mutatedKeys=n.mutatedKeys;const f=n.Po.eo();f.sort((K,se)=>function(Se,Xe){const pt=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return pt(Se)-pt(Xe)}(K.type,se.type)||this.Io(K.doc,se.doc)),this.Vo(a);const C=i?this.So():[],x=0===this.Eo.size&&this.current?1:0,L=x!==this.To;return this.To=x,0!==f.length||L?{snapshot:new $c(this.query,n.Ao,l,f,n.mutatedKeys,0===x,L,!1),Do:C}:{Do:C}}io(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new If,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(n){return!this.po.has(n)&&!!this.Ao.has(n)&&!this.Ao.get(n).hasLocalMutations}Vo(n){n&&(n.addedDocuments.forEach(i=>this.po=this.po.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.po=this.po.delete(i)),this.current=n.current)}So(){if(!this.current)return[];const n=this.Eo;this.Eo=Ar(),this.Ao.forEach(a=>{this.Co(a.key)&&(this.Eo=this.Eo.add(a.key))});const i=[];return n.forEach(a=>{this.Eo.has(a)||i.push(new Og(a))}),this.Eo.forEach(a=>{n.has(a)||i.push(new Ng(a))}),i}No(n){this.po=n.Gn,this.Eo=Ar();const i=this.bo(n.documents);return this.applyChanges(i,!0)}xo(){return $c.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Ty{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Pg{constructor(n){this.key=n,this.ko=!1}}class Ay{constructor(n,i,a,l,f,C){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=C,this.$o={},this.Oo=new Oc(x=>Ha(x),yo),this.Fo=new Map,this.Mo=new Set,this.Lo=new Pi(nn.comparator),this.Bo=new Map,this.Uo=new $d,this.qo={},this.Ko=new Map,this.jo=nc.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function Sy(s,n){return nh.apply(this,arguments)}function nh(){return nh=(0,m.Z)(function*(s,n){const i=rd(s);let a,l;const f=i.Oo.get(n);if(f)a=f.targetId,i.sharedClientState.addLocalQueryTarget(a),l=f.view.xo();else{const C=yield Fc(i.localStore,ks(n)),x=i.sharedClientState.addLocalQueryTarget(C.targetId);a=C.targetId,l=yield rh(i,n,a,"current"===x),i.isPrimaryClient&&_f(i.remoteStore,C)}return l}),nh.apply(this,arguments)}function rh(s,n,i,a){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,m.Z)(function*(s,n,i,a){s.Wo=(se,Se,Xe)=>{return(pt=(0,m.Z)(function*(Vt,ln,$n,Fi){let la=ln.view.bo($n);la.Ln&&(la=yield jl(Vt.localStore,ln.query,!1).then(({documents:wh})=>ln.view.bo(wh,la)));const rl=Fi&&Fi.targetChanges.get(ln.targetId),il=ln.view.applyChanges(la,Vt.isPrimaryClient,rl);return Of(Vt,ln.targetId,il.Do),il.snapshot}),function(Vt,ln,$n,Fi){return pt.apply(this,arguments)})(s,se,Se,Xe);var pt};const l=yield jl(s.localStore,n,!0),f=new bf(n,l.Gn),C=f.bo(l.documents),x=h.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==s.onlineState),L=f.applyChanges(C,s.isPrimaryClient,x);Of(s,i,L.Do);const K=new Ty(n,i,f);return s.Oo.set(n,K),s.Fo.has(i)?s.Fo.get(i).push(n):s.Fo.set(i,[n]),L.snapshot}),Tf.apply(this,arguments)}function Ma(s,n){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,m.Z)(function*(s,n){const i=wt(s),a=i.Oo.get(n),l=i.Fo.get(a.targetId);if(l.length>1)return i.Fo.set(a.targetId,l.filter(f=>!yo(f,n))),void i.Oo.delete(n);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Us(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),qd(i.remoteStore,a.targetId),uc(i,a.targetId)}).catch(Qa))):(uc(i,a.targetId),yield Us(i.localStore,a.targetId,!0))}),Xl.apply(this,arguments)}function Af(){return Af=(0,m.Z)(function*(s,n,i){const a=Uf(s);try{const l=yield function(f,C){const x=wt(f),L=S.now(),K=C.reduce((Se,Xe)=>Se.add(Xe.key),Ar());let se;return x.persistence.runTransaction("Locally write mutations","readwrite",Se=>x.Qn.Pn(Se,K).next(Xe=>{se=Xe;const pt=[];for(const Vt of C){const ln=jh(Vt,se.get(Vt.key));null!=ln&&pt.push(new Uo(Vt.key,ln,Wu(ln.value.mapValue),Ai.exists(!0)))}return x.In.addMutationBatch(Se,L,pt,C)})).then(Se=>(Se.applyToLocalDocumentSet(se),{batchId:Se.batchId,changes:se}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(f,C,x){let L=f.qo[f.currentUser.toKey()];L||(L=new Pi(D)),L=L.insert(C,x),f.qo[f.currentUser.toKey()]=L}(a,l.batchId,i),yield eu(a,l.changes),yield Bc(a.remoteStore)}catch(l){const f=Jl(l,"Failed to persist write");i.reject(f)}}),Af.apply(this,arguments)}function Ry(s,n){return ih.apply(this,arguments)}function ih(){return ih=(0,m.Z)(function*(s,n){const i=wt(s);try{const a=yield uy(i.localStore,n);n.targetChanges.forEach((l,f)=>{const C=i.Bo.get(f);C&&(hn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?C.ko=!0:l.modifiedDocuments.size>0?hn(C.ko):l.removedDocuments.size>0&&(hn(C.ko),C.ko=!1))}),yield eu(i,a,n)}catch(a){yield Qa(a)}}),ih.apply(this,arguments)}function kg(s,n,i){const a=wt(s);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const l=[];a.Oo.forEach((f,C)=>{const x=C.view.io(n);x.snapshot&&l.push(x.snapshot)}),function(f,C){const x=wt(f);x.onlineState=C;let L=!1;x.queries.forEach((K,se)=>{for(const Se of se.listeners)Se.io(C)&&(L=!0)}),L&&eh(x)}(a.eventManager,n),l.length&&a.$o.Rr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function xy(s,n,i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,m.Z)(function*(s,n,i){const a=wt(s);a.sharedClientState.updateQueryState(n,"rejected",i);const l=a.Bo.get(n),f=l&&l.key;if(f){let C=new Pi(nn.comparator);C=C.insert(f,Fr.newNoDocument(f,O.min()));const x=Ar().add(f),L=new I(O.min(),new Map,new Xr(D),C,x);yield Ry(a,L),a.Lo=a.Lo.remove(f),a.Bo.delete(n),Lg(a)}else yield Us(a.localStore,n,!1).then(()=>uc(a,n,i)).catch(Qa)}),Sf.apply(this,arguments)}function Mf(s,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,m.Z)(function*(s,n){const i=wt(s),a=n.batch.batchId;try{const l=yield bv(i.localStore,n);td(i,a,null),ed(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield eu(i,l)}catch(l){yield Qa(l)}}),Rf.apply(this,arguments)}function Ny(s,n,i){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,m.Z)(function*(s,n,i){const a=wt(s);try{const l=yield function(f,C){const x=wt(f);return x.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let K;return x.In.lookupMutationBatch(L,C).next(se=>(hn(null!==se),K=se.keys(),x.In.removeMutationBatch(L,se))).next(()=>x.In.performConsistencyCheck(L)).next(()=>x.Qn.Pn(L,K))})}(a.localStore,n);td(a,n,i),ed(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield eu(a,l)}catch(l){yield Qa(l)}}),Hc.apply(this,arguments)}function Nf(){return Nf=(0,m.Z)(function*(s,n){const i=wt(s);Aa(i.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(f){const C=wt(f);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>C.In.getHighestUnacknowledgedBatchId(x))}(i.localStore);if(-1===a)return void n.resolve();const l=i.Ko.get(a)||[];l.push(n),i.Ko.set(a,l)}catch(a){const l=Jl(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}}),Nf.apply(this,arguments)}function ed(s,n){(s.Ko.get(n)||[]).forEach(i=>{i.resolve()}),s.Ko.delete(n)}function td(s,n,i){const a=wt(s);let l=a.qo[a.currentUser.toKey()];if(l){const f=l.get(n);f&&(i?f.reject(i):f.resolve(),l=l.remove(n)),a.qo[a.currentUser.toKey()]=l}}function uc(s,n,i=null){s.sharedClientState.removeLocalQueryTarget(n);for(const a of s.Fo.get(n))s.Oo.delete(a),i&&s.$o.Go(a,i);s.Fo.delete(n),s.isPrimaryClient&&s.Uo.cs(n).forEach(a=>{s.Uo.containsKey(a)||Fg(s,a)})}function Fg(s,n){s.Mo.delete(n.path.canonicalString());const i=s.Lo.get(n);null!==i&&(qd(s.remoteStore,i),s.Lo=s.Lo.remove(n),s.Bo.delete(i),Lg(s))}function Of(s,n,i){for(const a of i)a instanceof Ng?(s.Uo.addReference(a.key,n),Pf(s,a)):a instanceof Og?(At("SyncEngine","Document no longer in limbo: "+a.key),s.Uo.removeReference(a.key,n),s.Uo.containsKey(a.key)||Fg(s,a.key)):en()}function Pf(s,n){const i=n.key,a=i.path.canonicalString();s.Lo.get(i)||s.Mo.has(a)||(At("SyncEngine","New document in limbo: "+i),s.Mo.add(a),Lg(s))}function Lg(s){for(;s.Mo.size>0&&s.Lo.size<s.maxConcurrentLimboResolutions;){const n=s.Mo.values().next().value;s.Mo.delete(n);const i=new nn(Et.fromString(n)),a=s.jo.next();s.Bo.set(a,new Pg(i)),s.Lo=s.Lo.insert(i,a),_f(s.remoteStore,new Tu(ks(Ps(i.path)),a,2,Ti.T))}}function eu(s,n,i){return sh.apply(this,arguments)}function sh(){return sh=(0,m.Z)(function*(s,n,i){const a=wt(s),l=[],f=[],C=[];var x;a.Oo.isEmpty()||(a.Oo.forEach((x,L)=>{C.push(a.Wo(L,n,i).then(K=>{if(K){a.isPrimaryClient&&a.sharedClientState.updateQueryState(L.targetId,K.fromCache?"not-current":"current"),l.push(K);const se=Ud.kn(L.targetId,K);f.push(se)}}))}),yield Promise.all(C),a.$o.Rr(l),yield(x=(0,m.Z)(function*(L,K){const se=wt(L);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Se=>yt.forEach(K,Xe=>yt.forEach(Xe.Nn,pt=>se.persistence.referenceDelegate.addReference(Se,Xe.targetId,pt)).next(()=>yt.forEach(Xe.xn,pt=>se.persistence.referenceDelegate.removeReference(Se,Xe.targetId,pt)))))}catch(Se){if(!Ju(Se))throw Se;At("LocalStore","Failed to update sequence numbers: "+Se)}for(const Se of K){const Xe=Se.targetId;if(!Se.fromCache){const pt=se.Un.get(Xe),ln=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);se.Un=se.Un.insert(Xe,ln)}}}),function(L,K){return x.apply(this,arguments)})(a.localStore,f))}),sh.apply(this,arguments)}function Vg(s,n){return oh.apply(this,arguments)}function oh(){return oh=(0,m.Z)(function*(s,n){const i=wt(s);if(!i.currentUser.isEqual(n)){At("SyncEngine","User change. New user:",n.toKey());const a=yield Bd(i.localStore,n);i.currentUser=n,(l=i).Ko.forEach(C=>{C.forEach(x=>{x.reject(new _t(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ko.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield eu(i,a.Wn)}var l}),oh.apply(this,arguments)}function Ug(s,n){const i=wt(s),a=i.Bo.get(n);if(a&&a.ko)return Ar().add(a.key);{let l=Ar();const f=i.Fo.get(n);if(!f)return l;for(const C of f){const x=i.Oo.get(C);l=l.unionWith(x.view.Ro)}return l}}function Bg(s,n){return aa.apply(this,arguments)}function aa(){return aa=(0,m.Z)(function*(s,n){const i=wt(s),a=yield jl(i.localStore,n.query,!0),l=n.view.No(a);return i.isPrimaryClient&&Of(i,n.targetId,l.Do),l}),aa.apply(this,arguments)}function ah(s){return kf.apply(this,arguments)}function kf(){return kf=(0,m.Z)(function*(s){const n=wt(s);return fg(n.localStore).then(i=>eu(n,i))}),kf.apply(this,arguments)}function Oy(s,n,i,a){return jg.apply(this,arguments)}function jg(){return jg=(0,m.Z)(function*(s,n,i,a){const l=wt(s),f=yield function(C,x){const L=wt(C),K=wt(L.In);return L.persistence.runTransaction("Lookup mutation documents","readonly",se=>K.Xt(se,x).next(Se=>Se?L.Qn.Pn(se,Se):yt.resolve(null)))}(l.localStore,n);var x;null!==f?("pending"===i?yield Bc(l.remoteStore):"acknowledged"===i||"rejected"===i?(td(l,n,a||null),ed(l,n),x=n,wt(wt(l.localStore).In).te(x)):en(),yield eu(l,f)):At("SyncEngine","Cannot apply mutation batch with id: "+n)}),jg.apply(this,arguments)}function uh(){return uh=(0,m.Z)(function*(s,n){const i=wt(s);if(rd(i),Uf(i),!0===n&&!0!==i.Qo){const a=i.sharedClientState.getAllActiveQueryTargets(),l=yield Wc(i,a.toArray());i.Qo=!0,yield Ql(i.remoteStore,!0);for(const f of l)_f(i.remoteStore,f)}else if(!1===n&&!1!==i.Qo){const a=[];let l=Promise.resolve();i.Fo.forEach((f,C)=>{i.sharedClientState.isLocalQueryTarget(C)?a.push(C):l=l.then(()=>(uc(i,C),Us(i.localStore,C,!0))),qd(i.remoteStore,C)}),yield l,yield Wc(i,a),function(f){const C=wt(f);C.Bo.forEach((x,L)=>{qd(C.remoteStore,L)}),C.Uo.us(),C.Bo=new Map,C.Lo=new Pi(nn.comparator)}(i),i.Qo=!1,yield Ql(i.remoteStore,!1)}}),uh.apply(this,arguments)}function Wc(s,n,i){return cc.apply(this,arguments)}function cc(){return cc=(0,m.Z)(function*(s,n,i){const a=wt(s),l=[],f=[];for(const C of n){let x;const L=a.Fo.get(C);if(L&&0!==L.length){x=yield Fc(a.localStore,ks(L[0]));for(const K of L){const se=a.Oo.get(K),Se=yield Bg(a,se);Se.snapshot&&f.push(Se.snapshot)}}else{const K=yield hg(a.localStore,C);x=yield Fc(a.localStore,K),yield rh(a,$g(K),C,!1)}l.push(x)}return a.$o.Rr(f),l}),cc.apply(this,arguments)}function $g(s){return uo(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function Ff(s){const n=wt(s);return wt(wt(n.localStore).persistence).pn()}function Hg(s,n,i,a){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,m.Z)(function*(s,n,i,a){const l=wt(s);if(l.Qo)At("SyncEngine","Ignoring unexpected query state notification.");else if(l.Fo.has(n))switch(i){case"current":case"not-current":{const f=yield fg(l.localStore),C=I.createSynthesizedRemoteEventForCurrentChange(n,"current"===i);yield eu(l,f,C);break}case"rejected":yield Us(l.localStore,n,!0),uc(l,n,a);break;default:en()}}),Lf.apply(this,arguments)}function Wg(s,n,i){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,m.Z)(function*(s,n,i){const a=rd(s);if(a.Qo){for(const l of n){if(a.Fo.has(l)){At("SyncEngine","Adding an already active target "+l);continue}const f=yield hg(a.localStore,l),C=yield Fc(a.localStore,f);yield rh(a,$g(f),C.targetId,!1),_f(a.remoteStore,C)}for(const l of i)a.Fo.has(l)&&(yield Us(a.localStore,l,!1).then(()=>{qd(a.remoteStore,l),uc(a,l)}).catch(Qa))}}),Vf.apply(this,arguments)}function rd(s){const n=wt(s);return n.remoteStore.remoteSyncer.applyRemoteEvent=Ry.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ug.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=xy.bind(null,n),n.$o.Rr=Av.bind(null,n.eventManager),n.$o.Go=Sv.bind(null,n.eventManager),n}function Uf(s){const n=wt(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Mf.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Ny.bind(null,n),n}class Bf{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,m.Z)(function*(){i.N=Gd(n.databaseInfo.databaseId),i.sharedClientState=i.Ho(n),i.persistence=i.Jo(n),yield i.persistence.start(),i.gcScheduler=i.Yo(n),i.localStore=i.Xo(n)})()}Yo(n){return null}Xo(n){return nf(this.persistence,new dg,n.initialUser,this.N)}Jo(n){return new hy(oa.Ns,this.N)}Ho(n){return new zd}terminate(){var n=this;return(0,m.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class lc extends Bf{constructor(n,i,a){super(),this.Zo=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield i().call(a,n),yield function(s){return uf.apply(this,arguments)}(a.localStore),yield a.Zo.initialize(a,n),yield Uf(a.Zo.syncEngine),yield Bc(a.Zo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Xo(n){return nf(this.persistence,new dg,n.initialUser,this.N)}Yo(n){return new og(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Jo(n){const i=Ul(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new Vd(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,yg(),Wl(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(n){return new zd}}class zg extends lc{constructor(n,i){super(n,i,!1),this.Zo=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,m.Z)(function*(){yield i().call(a,n);const l=a.Zo.syncEngine;a.sharedClientState instanceof Hl&&(a.sharedClientState.syncEngine={_i:Oy.bind(null,l),mi:Hg.bind(null,l),gi:Wg.bind(null,l),pn:Ff.bind(null,l),wi:ah.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var f=(0,m.Z)(function*(C){yield function(s,n){return uh.apply(this,arguments)}(a.Zo.syncEngine,C),a.gcScheduler&&(C&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):C||a.gcScheduler.stop())});return function(C){return f.apply(this,arguments)}}())})()}Ho(n){const i=yg();if(!Hl.bt(i))throw new _t(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Ul(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Hl(i,n.asyncQueue,a,n.clientId,n.initialUser)}}class jf{initialize(n,i){var a=this;return(0,m.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>kg(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=Vg.bind(null,a.syncEngine),yield Ql(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new Dy}createDatastore(n){const i=Gd(n.databaseInfo.databaseId),a=new my(n.databaseInfo);return new _y(n.credentials,a,i)}createRemoteStore(n){return i=this.localStore,a=this.datastore,l=n.asyncQueue,f=x=>kg(this.syncEngine,x,0),C=fy.bt()?new fy:new gf,new Tv(i,a,l,f,C);var i,a,l,f,C}createSyncEngine(n,i){return function(a,l,f,C,x,L,K){const se=new Ay(a,l,f,C,x,L);return K&&(se.Qo=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){return(n=(0,m.Z)(function*(i){const a=wt(i);At("RemoteStore","RemoteStore shutting down."),a.Wr.add(5),yield zl(a),a.zr.shutdown(),a.Hr.set("Unknown")}),function(i){return n.apply(this,arguments)})(this.remoteStore);var n}}function Gg(s,n=10240){let i=0;return{read:()=>(0,m.Z)(function*(){if(i<s.byteLength){const a={value:s.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,m.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tu{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.tc(this.observer.next,n)}error(n){this.observer.error?this.tc(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}ec(){this.muted=!0}tc(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class ky{constructor(n,i){this.nc=n,this.N=i,this.metadata=new Br,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(a=>{a&&a.wo()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.nc.cancel()}getMetadata(){var n=this;return(0,m.Z)(function*(){return n.metadata.promise})()}zo(){var n=this;return(0,m.Z)(function*(){return yield n.getMetadata(),n.ic()})()}ic(){var n=this;return(0,m.Z)(function*(){const i=yield n.rc();if(null===i)return null;const a=n.sc.decode(i),l=Number(a);isNaN(l)&&n.oc(`length string (${a}) is not valid number`);const f=yield n.cc(l);return new by(JSON.parse(f),i.length+l)})()}ac(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}rc(){var n=this;return(0,m.Z)(function*(){for(;n.ac()<0&&!(yield n.uc()););if(0===n.buffer.length)return null;const i=n.ac();i<0&&n.oc("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}cc(n){var i=this;return(0,m.Z)(function*(){for(;i.buffer.length<n;)(yield i.uc())&&i.oc("Reached the end of bundle when more is expected.");const a=i.sc.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}oc(n){throw this.nc.cancel(),new Error(`Invalid bundle format: ${n}`)}uc(){var n=this;return(0,m.Z)(function*(){const i=yield n.nc.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class Fy{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,m.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new _t(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,m.Z)(function*(f,C){const x=wt(f),L=Ka(x.N)+"/documents",K={documents:C.map(pt=>qu(x.N,pt))},se=yield x.Ki("BatchGetDocuments",L,K),Se=new Map;se.forEach(pt=>{const Vt=function(s,n){return"found"in n?function(i,a){hn(!!a.found);const l=vo(i,a.found.name),f=yi(a.found.updateTime),C=new si({mapValue:{fields:a.found.fields}});return Fr.newFoundDocument(l,f,C)}(s,n):"missing"in n?function(i,a){hn(!!a.missing),hn(!!a.readTime);const l=vo(i,a.missing),f=yi(a.readTime);return Fr.newNoDocument(l,f)}(s,n):en()}(x.N,pt);Se.set(Vt.key.toString(),Vt)});const Xe=[];return C.forEach(pt=>{const Vt=Se.get(pt.toString());hn(!!Vt),Xe.push(Vt)}),Xe}),function(f,C){return l.apply(this,arguments)})(i.datastore,n);var l;return a.forEach(l=>i.recordVersion(l)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Tc(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,m.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,l)=>{const f=nn.fromPath(l);n.mutations.push(new wu(f,n.precondition(f)))}),yield(a=(0,m.Z)(function*(l,f){const C=wt(l),x=Ka(C.N)+"/documents",L={writes:f.map(K=>Rc(C.N,K))};yield C.Li("Commit",x,L)}),function(l,f){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw en();i=O.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new _t(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?Ai.updateTime(i):Ai.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(O.min()))throw new _t(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ai.updateTime(i)}return Ai.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Ly{constructor(n,i,a,l){this.asyncQueue=n,this.datastore=i,this.updateFunction=a,this.deferred=l,this.hc=5,this.ar=new mf(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var n=this;this.ar.Xi((0,m.Z)(function*(){const i=new Fy(n.datastore),a=n.fc(i);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(l)}).catch(f=>{n.dc(f)}))}).catch(l=>{n.dc(l)})}))}fc(n){try{const i=this.updateFunction(n);return!Rs(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}dc(n){this.hc>0&&this.wc(n)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(n)}wc(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||!El(i)}return!1}}class Vy{constructor(n,i,a){var l=this;this.credentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Zr.UNAUTHENTICATED,this.clientId=Oo.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var f=(0,m.Z)(function*(C){At("FirestoreClient","Received user=",C.uid),yield l.credentialListener(C),l.user=C});return function(C){return f.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,m.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),i.resolve()}catch(a){const l=Jl(a,"Failed to shutdown persistence");i.reject(l)}})),i.promise}}function Uy(s,n){return $f.apply(this,arguments)}function $f(){return $f=(0,m.Z)(function*(s,n){s.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield n.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(function(){var l=(0,m.Z)(function*(f){a.isEqual(f)||(yield Bd(n.localStore,f),a=f)});return function(f){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=n}),$f.apply(this,arguments)}function Hf(s,n){return ei.apply(this,arguments)}function ei(){return ei=(0,m.Z)(function*(s,n){s.asyncQueue.verifyOperationInProgress();const i=yield id(s);At("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield n.initialize(i,a),s.setCredentialChangeListener(l=>{return(f=(0,m.Z)(function*(C,x){const L=wt(C);L.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const K=Aa(L);L.Wr.add(3),yield zl(L),K&&L.Hr.set("Unknown"),yield L.remoteSyncer.handleCredentialChange(x),L.Wr.delete(3),yield Kd(L)}),function(C,x){return f.apply(this,arguments)})(n.remoteStore,l);var f}),s.onlineComponents=n}),ei.apply(this,arguments)}function id(s){return ua.apply(this,arguments)}function ua(){return ua=(0,m.Z)(function*(s){return s.offlineComponents||(At("FirestoreClient","Using default OfflineComponentProvider"),yield Uy(s,new Bf)),s.offlineComponents}),ua.apply(this,arguments)}function zc(s){return sd.apply(this,arguments)}function sd(){return sd=(0,m.Z)(function*(s){return s.onlineComponents||(At("FirestoreClient","Using default OnlineComponentProvider"),yield Hf(s,new jf)),s.onlineComponents}),sd.apply(this,arguments)}function Kg(s){return id(s).then(n=>n.persistence)}function Wf(s){return id(s).then(n=>n.localStore)}function zf(s){return zc(s).then(n=>n.remoteStore)}function ch(s){return zc(s).then(n=>n.syncEngine)}function dc(s){return lh.apply(this,arguments)}function lh(){return lh=(0,m.Z)(function*(s){const n=yield zc(s),i=n.eventManager;return i.onListen=Sy.bind(null,n.syncEngine),i.onUnlisten=Ma.bind(null,n.syncEngine),i}),lh.apply(this,arguments)}function dh(s,n,i={}){const a=new Br;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,C,x,L){const K=new tu({next:Se=>{f.enqueueAndForget(()=>Cf(l,se));const Xe=Se.docs.has(C);!Xe&&Se.fromCache?L.reject(new _t(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Xe&&Se.fromCache&&x&&"server"===x.source?L.reject(new _t(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Se)},error:Se=>L.reject(Se)}),se=new Mg(Ps(C.path),K,{includeMetadataChanges:!0,fo:!0});return wf(l,se)}(yield dc(s),s.asyncQueue,n,i,a)})),a.promise}function Gf(s,n,i={}){const a=new Br;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(l,f,C,x,L){const K=new tu({next:Se=>{f.enqueueAndForget(()=>Cf(l,se)),Se.fromCache&&"server"===x.source?L.reject(new _t(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Se)},error:Se=>L.reject(Se)}),se=new Mg(C,K,{includeMetadataChanges:!0,fo:!0});return wf(l,se)}(yield dc(s),s.asyncQueue,n,i,a)})),a.promise}class Wy{constructor(n,i,a,l,f,C,x,L){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=f,this.forceLongPolling=C,this.autoDetectLongPolling=x,this.useFetchStreams=L}}class Gc{constructor(n,i){this.projectId=n,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Gc&&n.projectId===this.projectId&&n.database===this.database}}const Kf=new Map;function Qg(s,n,i){if(!i)throw new _t(Ke.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function qf(s,n,i,a){if(!0===n&&!0===a)throw new _t(Ke.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Jg(s){if(!nn.isDocumentKey(s))throw new _t(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Xg(s){if(nn.isDocumentKey(s))throw new _t(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Zf(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const n=(i=s).constructor?i.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var i;return"function"==typeof s?"a function":en()}function wr(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new _t(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zf(s);throw new _t(Ke.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return s}function hh(s,n){if(n<=0)throw new _t(Ke.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${n}.`)}class em{constructor(n){var i;if(void 0===n.host){if(void 0!==n.ssl)throw new _t(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new _t(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,qf("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Kc{constructor(n,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new em({}),this._settingsFrozen=!1,n instanceof Gc?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new _t(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(a.options.projectId)}(n))}get app(){if(!this._app)throw new _t(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new _t(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new em(n),void 0!==n.credentials&&(this._credentials=function(i){if(!i)return new yu;switch(i.type){case"gapi":const a=i.client;return hn(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new go(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new _t(Ke.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Kf.get(n);i&&(At("ComponentProvider","Removing Datastore"),Kf.delete(n),i.terminate())}(this),Promise.resolve()}}function tm(s,n,i,a={}){var l;const f=(s=wr(s,Kc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==n&&mi("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},f),{host:`${n}:${i}`,ssl:!1})),a.mockUserToken){let C,x;if("string"==typeof a.mockUserToken)C=a.mockUserToken,x=Zr.MOCK_USER;else{C=(0,ne.Sg)(a.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const L=a.mockUserToken.sub||a.mockUserToken.user_id;if(!L)throw new _t(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zr(L)}s._credentials=new $u(new Va(C,x))}}class ki{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ki(this.firestore,n,this._key)}}class ti{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ti(this.firestore,n,this._query)}}class nu extends ti{constructor(n,i,a){super(n,i,Ps(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ki(this.firestore,null,new nn(n))}withConverter(n){return new nu(this.firestore,n,this._path)}}function Mv(s,n,...i){if(s=(0,ne.m9)(s),Qg("collection","path",n),s instanceof Kc){const a=Et.fromString(n,...i);return Xg(a),new nu(s,null,a)}{if(!(s instanceof ki||s instanceof nu))throw new _t(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Et.fromString(n,...i));return Xg(a),new nu(s.firestore,null,a)}}function nm(s,n){if(s=wr(s,Kc),Qg("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new _t(Ke.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ti(s,null,(i=n,new Lr(Et.emptyPath(),i)));var i}function Yf(s,n,...i){if(s=(0,ne.m9)(s),1===arguments.length&&(n=Oo.I()),Qg("doc","path",n),s instanceof Kc){const a=Et.fromString(n,...i);return Jg(a),new ki(s,null,new nn(a))}{if(!(s instanceof ki||s instanceof nu))throw new _t(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Et.fromString(n,...i));return Jg(a),new ki(s.firestore,s instanceof nu?s.converter:null,new nn(a))}}function rm(s,n){return s=(0,ne.m9)(s),n=(0,ne.m9)(n),(s instanceof ki||s instanceof nu)&&(n instanceof ki||n instanceof nu)&&s.firestore===n.firestore&&s.path===n.path&&s.converter===n.converter}function im(s,n){return s=(0,ne.m9)(s),n=(0,ne.m9)(n),s instanceof ti&&n instanceof ti&&s.firestore===n.firestore&&yo(s._query,n._query)&&s.converter===n.converter}class Rv{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new mf(this,"async_queue_retry"),this.Rc=()=>{const i=Wl();i&&At("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ar.tr()};const n=Wl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.bc(),this.Pc(n)}enterRestrictedMode(n){if(!this.gc){this.gc=!0,this.Ic=n||!1;const i=Wl();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Rc)}}enqueue(n){if(this.bc(),this.gc)return new Promise(()=>{});const i=new Br;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.mc.push(n),this.vc()))}vc(){var n=this;return(0,m.Z)(function*(){if(0!==n.mc.length){try{yield n.mc[0](),n.mc.shift(),n.ar.reset()}catch(i){if(!Ju(i))throw i;At("AsyncQueue","Operation failed with retryable error: "+i)}n.mc.length>0&&n.ar.Xi(()=>n.vc())}})()}Pc(n){const i=this._c.then(()=>(this.Ec=!0,n().catch(a=>{throw this.Tc=a,this.Ec=!1,ii("INTERNAL UNHANDLED ERROR: ",function(f){let C=f.message||"";return f.stack&&(C=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),C}(a)),a}).then(a=>(this.Ec=!1,a))));return this._c=i,i}enqueueAfterDelay(n,i,a){this.bc(),this.Ac.indexOf(n)>-1&&(i=0);const l=Xd.createAndSchedule(this,n,i,a,f=>this.Vc(f));return this.yc.push(l),l}bc(){this.Tc&&en()}verifyOperationInProgress(){}Sc(){var n=this;return(0,m.Z)(function*(){let i;do{i=n._c,yield i}while(i!==n._c)})()}Dc(n){for(const i of this.yc)if(i.timerId===n)return!0;return!1}Cc(n){return this.Sc().then(()=>{this.yc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.yc)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.Sc()})}Nc(n){this.Ac.push(n)}Vc(n){const i=this.yc.indexOf(n);this.yc.splice(i,1)}}function fh(s){return function(n,i){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(s)}class Qf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}const zy=-1;class ai extends Kc{constructor(n,i){super(n,i),this.type="firestore",this._queue=new Rv,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sm(this),this._firestoreClient.terminate()}}function Gy(s=(0,_.getApp)()){return(0,_._getProvider)(s,"firestore").getImmediate()}function es(s){return s._firestoreClient||sm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function sm(s){var n;const i=s._freezeSettings(),a=(f=(null===(n=s._app)||void 0===n?void 0:n.options.appId)||"",new Wy(s._databaseId,f,s._persistenceKey,(x=i).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var f,x;s._firestoreClient=new Vy(s._credentials,s._queue,a)}function Ky(s,n){Zc(s=wr(s,ai));const i=es(s),a=s._freezeSettings(),l=new jf;return ad(i,l,new lc(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}function qy(s){Zc(s=wr(s,ai));const n=es(s),i=s._freezeSettings(),a=new jf;return ad(n,a,new zg(a,i.cacheSizeBytes))}function ad(s,n,i){const a=new Br;return s.asyncQueue.enqueue((0,m.Z)(function*(){try{yield Uy(s,i),yield Hf(s,n),a.resolve()}catch(l){if(!("FirebaseError"===(f=l).name?f.code===Ke.FAILED_PRECONDITION||f.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var f})).then(()=>a.promise)}function qc(s){if(s._initialized&&!s._terminated)throw new _t(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Br;return s._queue.enqueueAndForgetEvenWhileRestricted((0,m.Z)(function*(){try{yield(i=(0,m.Z)(function*(a){if(!ia.bt())return Promise.resolve();const l=a+"main";yield ia.delete(l)}),function(a){return i.apply(this,arguments)})(Ul(s._databaseId,s._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}function om(s){return function(n){const i=new Br;return n.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(s,n){return Nf.apply(this,arguments)}(yield ch(n),i)})),i.promise}(es(s=wr(s,ai)))}function ud(s){return function(s){return s.asyncQueue.enqueue((0,m.Z)(function*(){const n=yield Kg(s),i=yield zf(s);return n.setNetworkEnabled(!0),function(a){const l=wt(a);return l.Wr.delete(0),Kd(l)}(i)}))}(es(s=wr(s,ai)))}function Zy(s){return function(s){return s.asyncQueue.enqueue((0,m.Z)(function*(){const n=yield Kg(s),i=yield zf(s);return n.setNetworkEnabled(!1),(a=(0,m.Z)(function*(l){const f=wt(l);f.Wr.add(0),yield zl(f),f.Hr.set("Offline")}),function(l){return a.apply(this,arguments)})(i);var a}))}(es(s=wr(s,ai)))}function Jf(s,n){const i=es(s=wr(s,ai)),a=new Qf;return function(s,n,i,a){const l=function(f,C){let x;return x="string"==typeof f?(new TextEncoder).encode(f):f,L=function(L,K){if(L instanceof Uint8Array)return Gg(L,K);if(L instanceof ArrayBuffer)return Gg(new Uint8Array(L),K);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new ky(L,C);var L}(i,Gd(n));s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){!function(s,n,i){const a=wt(s);var l;(l=(0,m.Z)(function*(f,C,x){try{const L=yield C.getMetadata();if(yield function(Xe,pt){const Vt=wt(Xe),ln=yi(pt.createTime);return Vt.persistence.runTransaction("hasNewerBundle","readonly",$n=>Vt.Je.getBundleMetadata($n,pt.id)).then($n=>!!$n&&$n.createTime.compareTo(ln)>=0)}(f.localStore,L))return yield C.close(),void x._completeWith((Xe=L,{taskState:"Success",documentsLoaded:Xe.totalDocuments,bytesLoaded:Xe.totalBytes,totalDocuments:Xe.totalDocuments,totalBytes:Xe.totalBytes}));x._updateProgress(xg(L));const K=new Rg(L,f.localStore,C.N);let se=yield C.zo();for(;se;){const Xe=yield K.mo(se);Xe&&x._updateProgress(Xe),se=yield C.zo()}const Se=yield K.complete();yield eu(f,Se.En,void 0),yield function(Xe,pt){const Vt=wt(Xe);return Vt.persistence.runTransaction("Save bundle","readwrite",ln=>Vt.Je.saveBundleMetadata(ln,pt))}(f.localStore,L),x._completeWith(Se.progress)}catch(L){mi("SyncEngine",`Loading bundle failed with ${L}`),x._failWith(L)}var Xe}),function(f,C,x){return l.apply(this,arguments)})(a,n,i).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield ch(s),l,a)}))}(i,s._databaseId,n,a),a}function Ra(s,n){return function(s,n){return s.asyncQueue.enqueue((0,m.Z)(function*(){return function(i,a){const l=wt(i);return l.persistence.runTransaction("Get named query","readonly",f=>l.Je.getNamedQuery(f,a))}(yield Wf(s),n)}))}(es(s=wr(s,ai)),n).then(i=>i?new ti(s,null,i.query):null)}function Zc(s){if(s._initialized||s._terminated)throw new _t(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _i{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new _t(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ca{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ca(_r.fromBase64String(n))}catch(i){throw new _t(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ca(_r.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ps{constructor(n){this._methodName=n}}class Qc{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new _t(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new _t(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return D(this._lat,n._lat)||D(this._long,n._long)}}const Jc=/^__.*__$/;class Xc{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new Uo(n,this.data,this.fieldMask,i,this.fieldTransforms):new wa(n,this.data,i,this.fieldTransforms)}}class hc{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new Uo(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function fc(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class ru{constructor(n,i,a,l,f,C){this.settings=n,this.databaseId=i,this.N=a,this.ignoreUndefinedProperties=l,void 0===f&&this.xc(),this.fieldTransforms=f||[],this.fieldMask=C||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(n){return new ru(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),l=this.$c({path:a,Fc:!1});return l.Mc(n),l}Lc(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),l=this.$c({path:a,Fc:!1});return l.xc(),l}Bc(n){return this.$c({path:void 0,Fc:!0})}Uc(n){return _h(n,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}xc(){if(this.path)for(let n=0;n<this.path.length;n++)this.Mc(this.path.get(n))}Mc(n){if(0===n.length)throw this.Uc("Document fields must not be empty");if(fc(this.kc)&&Jc.test(n))throw this.Uc('Document fields cannot begin and end with "__"')}}class el{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.N=a||Gd(n)}jc(n,i,a,l=!1){return new ru({kc:n,methodName:i,Kc:a,path:$t.emptyPath(),Fc:!1,qc:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Ho(s){const n=s._freezeSettings(),i=Gd(s._databaseId);return new el(s._databaseId,!!n.ignoreUndefinedProperties,i)}function iu(s,n,i,a,l,f={}){const C=s.jc(f.merge||f.mergeFields?2:0,n,i,l);np("Data must be an object, but it was:",C,a);const x=lm(a,C);let L,K;if(f.merge)L=new Wn(C.fieldMask),K=C.fieldTransforms;else if(f.mergeFields){const se=[];for(const Se of f.mergeFields){const Xe=yh(n,Se,i);if(!C.contains(Xe))throw new _t(Ke.INVALID_ARGUMENT,`Field '${Xe}' is specified in your field mask but missing from your input data.`);ip(se,Xe)||se.push(Xe)}L=new Wn(se),K=C.fieldTransforms.filter(Se=>L.covers(Se.field))}else L=null,K=C.fieldTransforms;return new Xc(new si(x),L,K)}class xa extends ps{_toFieldTransform(n){if(2!==n.kc)throw n.Uc(1===n.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof xa}}function Xf(s,n,i){return new ru({kc:3,Kc:n.settings.Kc,methodName:s._methodName,Fc:i},n.databaseId,n.N,n.ignoreUndefinedProperties)}class ph extends ps{_toFieldTransform(n){return new zu(n.path,new Lo)}isEqual(n){return n instanceof ph}}class am extends ps{constructor(n,i){super(n),this.Qc=i}_toFieldTransform(n){const i=Xf(this,n,!0),a=this.Qc.map(f=>Nu(f,i)),l=new Fs(a);return new zu(n.path,l)}isEqual(n){return this===n}}class um extends ps{constructor(n,i){super(n),this.Qc=i}_toFieldTransform(n){const i=Xf(this,n,!0),a=this.Qc.map(f=>Nu(f,i)),l=new Vo(a);return new zu(n.path,l)}isEqual(n){return this===n}}class cm extends ps{constructor(n,i){super(n),this.Wc=i}_toFieldTransform(n){const i=new ta(n.N,ml(n.N,this.Wc));return new zu(n.path,i)}isEqual(n){return this===n}}function gh(s,n,i,a){const l=s.jc(1,n,i);np("Data must be an object, but it was:",l,a);const f=[],C=si.empty();ee(a,(L,K)=>{const se=rp(n,L,i);K=(0,ne.m9)(K);const Se=l.Lc(se);if(K instanceof xa)f.push(se);else{const Xe=Nu(K,Se);null!=Xe&&(f.push(se),C.set(se,Xe))}});const x=new Wn(f);return new hc(C,x,l.fieldTransforms)}function mh(s,n,i,a,l,f){const C=s.jc(1,n,i),x=[yh(n,a,i)],L=[l];if(f.length%2!=0)throw new _t(Ke.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xe=0;Xe<f.length;Xe+=2)x.push(yh(n,f[Xe])),L.push(f[Xe+1]);const K=[],se=si.empty();for(let Xe=x.length-1;Xe>=0;--Xe)if(!ip(K,x[Xe])){const pt=x[Xe];let Vt=L[Xe];Vt=(0,ne.m9)(Vt);const ln=C.Lc(pt);if(Vt instanceof xa)K.push(pt);else{const $n=Nu(Vt,ln);null!=$n&&(K.push(pt),se.set(pt,$n))}}const Se=new Wn(K);return new hc(se,Se,C.fieldTransforms)}function ep(s,n,i,a=!1){return Nu(i,s.jc(a?4:3,n))}function Nu(s,n){if(tp(s=(0,ne.m9)(s)))return np("Unsupported field value:",n,s),lm(s,n);if(s instanceof ps)return function(i,a){if(!fc(a.kc))throw a.Uc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Uc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,n),null;if(void 0===s&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.Fc&&4!==n.kc)throw n.Uc("Nested arrays are not supported");return function(i,a){const l=[];let f=0;for(const C of i){let x=Nu(C,a.Bc(f));null==x&&(x={nullValue:"NULL_VALUE"}),l.push(x),f++}return{arrayValue:{values:l}}}(s,n)}return function(i,a){if(null===(i=(0,ne.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return ml(a.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const l=S.fromDate(i);return{timestampValue:qs(a.N,l)}}if(i instanceof S){const l=new S(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qs(a.N,l)}}if(i instanceof Qc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ca)return{bytesValue:Da(a.N,i._byteString)};if(i instanceof ki){const l=a.databaseId,f=i.firestore._databaseId;if(!f.isEqual(l))throw a.Uc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ga(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Uc(`Unsupported field value: ${Zf(i)}`)}(s,n)}function lm(s,n){const i={};return ye(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ee(s,(a,l)=>{const f=Nu(l,n.Oc(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function tp(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof S||s instanceof Qc||s instanceof ca||s instanceof ki||s instanceof ps)}function np(s,n,i){if(!tp(i)||"object"!=typeof(a=i)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Zf(i);throw n.Uc("an object"===a?s+" a custom object":s+" "+a)}var a}function yh(s,n,i){if((n=(0,ne.m9)(n))instanceof _i)return n._internalPath;if("string"==typeof n)return rp(s,n);throw _h("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const dm=new RegExp("[~\\*/\\[\\]]");function rp(s,n,i){if(n.search(dm)>=0)throw _h(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _i(...n.split("."))._internalPath}catch(a){throw _h(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,n,i,a,l){const f=a&&!a.isEmpty(),C=void 0!==l;let x=`Function ${n}() called with invalid data`;i&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(f||C)&&(L+=" (found",f&&(L+=` in field ${a}`),C&&(L+=` in document ${l}`),L+=")"),new _t(Ke.INVALID_ARGUMENT,x+s+L)}function ip(s,n){return s.some(i=>i.isEqual(n))}class cd{constructor(n,i,a,l,f){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(vh("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class hm extends cd{data(){return super.data()}}function vh(s,n){return"string"==typeof n?rp(s,n):n instanceof _i?n._internalPath:n._delegate._internalPath}class pc{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class gc extends cd{constructor(n,i,a,l,f,C){super(n,i,a,l,C),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(vh("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class tl extends gc{data(n={}){return super.data(n)}}class nl{constructor(n,i,a,l){this._firestore=n,this._userDataWriter=i,this._snapshot=l,this.metadata=new pc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new tl(this._firestore,this._userDataWriter,a.key,a,new pc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(C=>({type:"added",doc:new tl(a._firestore,a._userDataWriter,C.doc.key,C.doc,new pc(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(C=>l||3!==C.type).map(C=>{const x=new tl(a._firestore,a._userDataWriter,C.doc.key,C.doc,new pc(a._snapshot.mutatedKeys.has(C.doc.key),a._snapshot.fromCache),a.query.converter);let L=-1,K=-1;return 0!==C.type&&(L=f.indexOf(C.doc.key),f=f.delete(C.doc.key)),1!==C.type&&(f=f.add(C.doc),K=f.indexOf(C.doc.key)),{type:Ov(C.type),doc:x,oldIndex:L,newIndex:K}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ov(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function Yy(s,n){return s instanceof gc&&n instanceof gc?s._firestore===n._firestore&&s._key.isEqual(n._key)&&(null===s._document?null===n._document:s._document.isEqual(n._document))&&s._converter===n._converter:s instanceof nl&&n instanceof nl&&s._firestore===n._firestore&&im(s.query,n.query)&&s.metadata.isEqual(n.metadata)&&s._snapshot.isEqual(n._snapshot)}function Qy(s){if($a(s)&&0===s.explicitOrderBy.length)throw new _t(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ld{}function Jy(s,...n){for(const i of n)s=i._apply(s);return s}class sp extends ld{constructor(n,i,a){super(),this.Gc=n,this.zc=i,this.Hc=a,this.type="where"}_apply(n){const i=Ho(n.firestore),a=function(l,f,C,x,L,K,se){let Se;if(L.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new _t(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on FieldPath.documentId().`);if("in"===K||"not-in"===K){dd(se,K);const pt=[];for(const Vt of se)pt.push(up(x,l,Vt));Se={arrayValue:{values:pt}}}else Se=up(x,l,se)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||dd(se,K),Se=ep(C,"where",se,"in"===K||"not-in"===K);const Xe=ds.create(L,K,Se);return function(pt,Vt){if(Vt.v()){const $n=hl(pt);if(null!==$n&&!$n.isEqual(Vt.field))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${$n.toString()}' and '${Vt.field.toString()}'`);const Fi=ea(pt);null!==Fi&&gm(0,Vt.field,Fi)}const ln=function($n,Fi){for(const la of $n.filters)if(Fi.indexOf(la.op)>=0)return la.op;return null}(pt,function($n){switch($n){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Vt.op));if(null!==ln)throw new _t(Ke.INVALID_ARGUMENT,ln===Vt.op?`Invalid query. You cannot use more than one '${Vt.op.toString()}' filter.`:`Invalid query. You cannot use '${Vt.op.toString()}' filters with '${ln.toString()}' filters.`)}(l,Xe),Xe}(n._query,0,i,n.firestore._databaseId,this.Gc,this.zc,this.Hc);return new ti(n.firestore,n.converter,function(l,f){const C=l.filters.concat([f]);return new Lr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),C,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}function op(s,n,i){const a=n,l=vh("where",s);return new sp(l,a,i)}class Xy extends ld{constructor(n,i){super(),this.Gc=n,this.Jc=i,this.type="orderBy"}_apply(n){const i=function(a,l,f){if(null!==a.startAt)throw new _t(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new _t(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const C=new hs(l,f);return function(x,L){if(null===ea(x)){const K=hl(x);null!==K&&gm(0,K,L.field)}}(a,C),C}(n._query,this.Gc,this.Jc);return new ti(n.firestore,n.converter,function(a,l){const f=a.explicitOrderBy.concat([l]);return new Lr(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,i))}}function Pv(s,n="asc"){const i=n,a=vh("orderBy",s);return new Xy(a,i)}class e_ extends ld{constructor(n,i,a){super(),this.type=n,this.Yc=i,this.Xc=a}_apply(n){return new ti(n.firestore,n.converter,Cc(n._query,this.Yc,this.Xc))}}function kv(s){return hh("limit",s),new e_("limit",s,"F")}function t_(s){return hh("limitToLast",s),new e_("limitToLast",s,"L")}class ap extends ld{constructor(n,i,a){super(),this.type=n,this.Zc=i,this.ta=a}_apply(n){const i=pm(n,this.type,this.Zc,this.ta);return new ti(n.firestore,n.converter,(l=i,new Lr((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}function Fv(...s){return new ap("startAt",s,!0)}function n_(...s){return new ap("startAfter",s,!1)}class mc extends ld{constructor(n,i,a){super(),this.type=n,this.Zc=i,this.ta=a}_apply(n){const i=pm(n,this.type,this.Zc,this.ta);return new ti(n.firestore,n.converter,(l=i,new Lr((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function r_(...s){return new mc("endBefore",s,!0)}function fm(...s){return new mc("endAt",s,!1)}function pm(s,n,i,a){if(i[0]=(0,ne.m9)(i[0]),i[0]instanceof cd)return function(l,f,C,x,L){if(!x)throw new _t(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const K=[];for(const se of Ea(l))if(se.field.isKeyField())K.push(wc(f,x.key));else{const Se=x.data.field(se.field);if(ls(Se))throw new _t(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Se){const Xe=se.field.canonicalString();throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xe}' (used as the orderBy) does not exist.`)}K.push(Se)}return new br(K,L)}(s._query,s.firestore._databaseId,n,i[0]._document,a);{const l=Ho(s.firestore);return function(f,C,x,L,K,se){const Se=f.explicitOrderBy;if(K.length>Se.length)throw new _t(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xe=[];for(let pt=0;pt<K.length;pt++){const Vt=K[pt];if(Se[pt].field.isKeyField()){if("string"!=typeof Vt)throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Vt}`);if(!fl(f)&&-1!==Vt.indexOf("/"))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${L}() must be a plain document ID, but '${Vt}' contains a slash.`);const ln=f.path.child(Et.fromString(Vt));if(!nn.isDocumentKey(ln))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${L}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const $n=new nn(ln);Xe.push(wc(C,$n))}else{const ln=ep(x,L,Vt);Xe.push(ln)}}return new br(Xe,se)}(s._query,s.firestore._databaseId,l,n,i,a)}}function up(s,n,i){if("string"==typeof(i=(0,ne.m9)(i))){if(""===i)throw new _t(Ke.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!fl(n)&&-1!==i.indexOf("/"))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(Et.fromString(i));if(!nn.isDocumentKey(a))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return wc(s,new nn(a))}if(i instanceof ki)return wc(s,i._key);throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(i)}.`)}function dd(s,n){if(!Array.isArray(s)||0===s.length)throw new _t(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(s.length>10)throw new _t(Ke.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function gm(s,n,i){if(!i.isEqual(n))throw new _t(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class Eh{convertValue(n,i="none"){switch(Ba(n)){case 0:return null;case 1:return n.booleanValue;case 2:return dr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes($i(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 10:return this.convertObject(n.mapValue,i);default:throw en()}}convertObject(n,i){const a={};return ee(n.fields,(l,f)=>{a[l]=this.convertValue(f,i)}),a}convertGeoPoint(n){return new Qc(dr(n.latitude),dr(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=Yi(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Po(n));default:return null}}convertTimestamp(n){const i=Yr(n);return new S(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=Et.fromString(n);hn(Wh(a));const l=new Gc(a.get(1),a.get(3)),f=new nn(a.popFirst(5));return l.isEqual(i)||ii(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Ih(s,n,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(n,i):s.toFirestore(n):n,a}class i_ extends Eh{constructor(n){super(),this.firestore=n}convertBytes(n){return new ca(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new ki(this.firestore,null,i)}}class mm{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Ho(n)}set(n,i,a){this._verifyNotCommitted();const l=Ou(n,this._firestore),f=Ih(l.converter,i,a),C=iu(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,a);return this._mutations.push(C.toMutation(l._key,Ai.none())),this}update(n,i,a,...l){this._verifyNotCommitted();const f=Ou(n,this._firestore);let C;return C="string"==typeof(i=(0,ne.m9)(i))||i instanceof _i?mh(this._dataReader,"WriteBatch.update",f._key,i,a,l):gh(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(C.toMutation(f._key,Ai.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Ou(n,this._firestore);return this._mutations=this._mutations.concat(new Tc(i._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ou(s,n){if((s=(0,ne.m9)(s)).firestore!==n)throw new _t(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}function s_(s){s=wr(s,ki);const n=wr(s.firestore,ai);return dh(es(n),s._key).then(i=>hp(n,s,i))}class Pu extends Eh{constructor(n){super(),this.firestore=n}convertBytes(n){return new ca(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new ki(this.firestore,null,i)}}function o_(s){s=wr(s,ki);const n=wr(s.firestore,ai),i=es(n),a=new Pu(n);return function(s,n){const i=new Br;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(l,f,C){try{const x=yield function(L,K){const se=wt(L);return se.persistence.runTransaction("read document","readonly",Se=>se.Qn.An(Se,K))}(l,f);x.isFoundDocument()?C.resolve(x):x.isNoDocument()?C.resolve(null):C.reject(new _t(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const L=Jl(x,`Failed to get document '${f} from cache`);C.reject(L)}}),function(l,f,C){return a.apply(this,arguments)})(yield Wf(s),n,i);var a})),i.promise}(i,s._key).then(l=>new gc(n,a,s._key,l,new pc(null!==l&&l.hasLocalMutations,!0),s.converter))}function ym(s){s=wr(s,ki);const n=wr(s.firestore,ai);return dh(es(n),s._key,{source:"server"}).then(i=>hp(n,s,i))}function _m(s){s=wr(s,ti);const n=wr(s.firestore,ai),i=es(n),a=new Pu(n);return Qy(s._query),Gf(i,s._query).then(l=>new nl(n,a,s,l))}function cp(s){s=wr(s,ti);const n=wr(s.firestore,ai),i=es(n),a=new Pu(n);return function(s,n){const i=new Br;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return(a=(0,m.Z)(function*(l,f,C){try{const x=yield jl(l,f,!0),L=new bf(f,x.Gn),K=L.bo(x.documents),se=L.applyChanges(K,!1);C.resolve(se.snapshot)}catch(x){const L=Jl(x,`Failed to execute query '${f} against cache`);C.reject(L)}}),function(l,f,C){return a.apply(this,arguments)})(yield Wf(s),n,i);var a})),i.promise}(i,s._query).then(l=>new nl(n,a,s,l))}function Lv(s){s=wr(s,ti);const n=wr(s.firestore,ai),i=es(n),a=new Pu(n);return Gf(i,s._query,{source:"server"}).then(l=>new nl(n,a,s,l))}function lp(s,n,i){s=wr(s,ki);const a=wr(s.firestore,ai),l=Ih(s.converter,n,i);return ku(a,[iu(Ho(a),"setDoc",s._key,l,null!==s.converter,i).toMutation(s._key,Ai.none())])}function a_(s,n,i,...a){s=wr(s,ki);const l=wr(s.firestore,ai),f=Ho(l);let C;return C="string"==typeof(n=(0,ne.m9)(n))||n instanceof _i?mh(f,"updateDoc",s._key,n,i,a):gh(f,"updateDoc",s._key,n),ku(l,[C.toMutation(s._key,Ai.exists(!0))])}function Vv(s){return ku(wr(s.firestore,ai),[new Tc(s._key,Ai.none())])}function hd(s,n){const i=wr(s.firestore,ai),a=Yf(s),l=Ih(s.converter,n);return ku(i,[iu(Ho(s.firestore),"addDoc",a._key,l,null!==s.converter,{}).toMutation(a._key,Ai.exists(!1))]).then(()=>a)}function vm(s,...n){var i,a,l;s=(0,ne.m9)(s);let f={includeMetadataChanges:!1},C=0;"object"!=typeof n[C]||fh(n[C])||(f=n[C],C++);const x={includeMetadataChanges:f.includeMetadataChanges};if(fh(n[C])){const Se=n[C];n[C]=null===(i=Se.next)||void 0===i?void 0:i.bind(Se),n[C+1]=null===(a=Se.error)||void 0===a?void 0:a.bind(Se),n[C+2]=null===(l=Se.complete)||void 0===l?void 0:l.bind(Se)}let L,K,se;if(s instanceof ki)K=wr(s.firestore,ai),se=Ps(s._key.path),L={next:Se=>{n[C]&&n[C](hp(K,s,Se))},error:n[C+1],complete:n[C+2]};else{const Se=wr(s,ti);K=wr(Se.firestore,ai),se=Se._query;const Xe=new Pu(K);L={next:pt=>{n[C]&&n[C](new nl(K,Xe,Se,pt))},error:n[C+1],complete:n[C+2]},Qy(s._query)}return function(Se,Xe,pt,Vt){const ln=new tu(Vt),$n=new Mg(Xe,ln,pt);return Se.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return wf(yield dc(Se),$n)})),()=>{ln.ec(),Se.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return Cf(yield dc(Se),$n)}))}}(es(K),se,x,L)}function dp(s,n){return function(s,n){const i=new tu(n);return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield dc(s),l=i,wt(a).so.add(l),void l.next();var a,l})),()=>{i.ec(),s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return a=yield dc(s),l=i,void wt(a).so.delete(l);var a,l}))}}(es(s=wr(s,ai)),fh(n)?n:{next:n})}function ku(s,n){return function(i,a){const l=new Br;return i.asyncQueue.enqueueAndForget((0,m.Z)(function*(){return function(s,n,i){return Af.apply(this,arguments)}(yield ch(i),a,l)})),l.promise}(es(s),n)}function hp(s,n,i){const a=i.docs.get(n._key),l=new Pu(s);return new gc(s,l,n._key,a,new pc(i.hasPendingWrites,i.fromCache),n.converter)}class fp extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=Ho(n)}get(n){const i=Ou(n,this._firestore),a=new i_(this._firestore);return this._transaction.lookup([i._key]).then(l=>{if(!l||1!==l.length)return en();const f=l[0];if(f.isFoundDocument())return new cd(this._firestore,a,f.key,f,i.converter);if(f.isNoDocument())return new cd(this._firestore,a,i._key,null,i.converter);throw en()})}set(n,i,a){const l=Ou(n,this._firestore),f=Ih(l.converter,i,a),C=iu(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,a);return this._transaction.set(l._key,C),this}update(n,i,a,...l){const f=Ou(n,this._firestore);let C;return C="string"==typeof(i=(0,ne.m9)(i))||i instanceof _i?mh(this._dataReader,"Transaction.update",f._key,i,a,l):gh(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,C),this}delete(n){const i=Ou(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Ou(n,this._firestore),a=new Pu(this._firestore);return super.get(n).then(l=>new gc(this._firestore,a,i._key,l._document,new pc(!1,!1),i.converter))}}function pp(s,n){return function(s,n){const i=new Br;return s.asyncQueue.enqueueAndForget((0,m.Z)(function*(){const a=yield(l=s,zc(l).then(f=>f.datastore));var l;new Ly(s.asyncQueue,a,n,i).run()})),i.promise}(es(s=wr(s,ai)),i=>n(new fp(s,i)))}function Em(){return new xa("deleteField")}function Uv(){return new ph("serverTimestamp")}function u_(...s){return new am("arrayUnion",s)}function gp(...s){return new um("arrayRemove",s)}function mp(s){return new cm("increment",s)}!function(s,n=!0){po=_.SDK_VERSION,(0,_._registerComponent)(new ae.wA("firestore",(i,{options:a})=>{const l=i.getProvider("app").getImmediate(),f=new ai(l,new Ua(i.getProvider("auth-internal")));return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC")),(0,_.registerVersion)(Gs,"3.3.1",s),(0,_.registerVersion)(Gs,"3.3.1","esm2017")}()},4213:(Dt,Ne,k)=>{"use strict";k.d(Ne,{BH:()=>$e,LL:()=>re,ZR:()=>xe,zI:()=>X,US:()=>Ie,tV:()=>Te,$s:()=>vr,r3:()=>kt,Sg:()=>Ve,ne:()=>rr,vZ:()=>Un,ZB:()=>te,pd:()=>Hn,m9:()=>qr,z$:()=>ot,jU:()=>Ee,ru:()=>Pe,d:()=>Re,xb:()=>un,w1:()=>at,hl:()=>Nt,uI:()=>ut,UG:()=>Le,b$:()=>Ue,G6:()=>Ce,Mn:()=>ke,xO:()=>zn,zd:()=>Xn,eu:()=>Z});const pe=function(me){const oe=[];let _e=0;for(let We=0;We<me.length;We++){let Me=me.charCodeAt(We);Me<128?oe[_e++]=Me:Me<2048?(oe[_e++]=Me>>6|192,oe[_e++]=63&Me|128):55296==(64512&Me)&&We+1<me.length&&56320==(64512&me.charCodeAt(We+1))?(Me=65536+((1023&Me)<<10)+(1023&me.charCodeAt(++We)),oe[_e++]=Me>>18|240,oe[_e++]=Me>>12&63|128,oe[_e++]=Me>>6&63|128,oe[_e++]=63&Me|128):(oe[_e++]=Me>>12|224,oe[_e++]=Me>>6&63|128,oe[_e++]=63&Me|128)}return oe},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,oe){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=oe?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Me=0;Me<me.length;Me+=3){const Pt=me[Me],Ae=Me+1<me.length,He=Ae?me[Me+1]:0,nt=Me+2<me.length,It=nt?me[Me+2]:0;let xt=(15&He)<<2|It>>6,on=63&It;nt||(on=64,Ae||(xt=64)),We.push(_e[Pt>>2],_e[(3&Pt)<<4|He>>4],_e[xt],_e[on])}return We.join("")},encodeString(me,oe){return this.HAS_NATIVE_SUPPORT&&!oe?btoa(me):this.encodeByteArray(pe(me),oe)},decodeString(me,oe){return this.HAS_NATIVE_SUPPORT&&!oe?atob(me):function(me){const oe=[];let _e=0,We=0;for(;_e<me.length;){const Me=me[_e++];if(Me<128)oe[We++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const Pt=me[_e++];oe[We++]=String.fromCharCode((31&Me)<<6|63&Pt)}else if(Me>239&&Me<365){const nt=((7&Me)<<18|(63&me[_e++])<<12|(63&me[_e++])<<6|63&me[_e++])-65536;oe[We++]=String.fromCharCode(55296+(nt>>10)),oe[We++]=String.fromCharCode(56320+(1023&nt))}else{const Pt=me[_e++],Ae=me[_e++];oe[We++]=String.fromCharCode((15&Me)<<12|(63&Pt)<<6|63&Ae)}}return oe.join("")}(this.decodeStringToByteArray(me,oe))},decodeStringToByteArray(me,oe){this.init_();const _e=oe?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Me=0;Me<me.length;){const Pt=_e[me.charAt(Me++)],He=Me<me.length?_e[me.charAt(Me)]:0;++Me;const It=Me<me.length?_e[me.charAt(Me)]:64;++Me;const lt=Me<me.length?_e[me.charAt(Me)]:64;if(++Me,null==Pt||null==He||null==It||null==lt)throw Error();We.push(Pt<<2|He>>4),64!==It&&(We.push(He<<4&240|It>>2),64!==lt&&We.push(It<<6&192|lt))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}},J=function(me){return function(me){const oe=pe(me);return Ie.encodeByteArray(oe,!0)}(me).replace(/\./g,"")},Te=function(me){try{return Ie.decodeString(me,!0)}catch(oe){console.error("base64Decode failed: ",oe)}return null};function te(me,oe){if(!(oe instanceof Object))return oe;switch(oe.constructor){case Date:return new Date(oe.getTime());case Object:void 0===me&&(me={});break;case Array:me=[];break;default:return oe}for(const _e in oe)!oe.hasOwnProperty(_e)||!ve(_e)||(me[_e]=te(me[_e],oe[_e]));return me}function ve(me){return"__proto__"!==me}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((oe,_e)=>{this.resolve=oe,this.reject=_e})}wrapCallback(oe){return(_e,We)=>{_e?this.reject(_e):this.resolve(We),"function"==typeof oe&&(this.promise.catch(()=>{}),1===oe.length?oe(_e):oe(_e,We))}}}function Ve(me,oe){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=oe||"demo-project",Me=me.iat||0,Pt=me.sub||me.user_id;if(!Pt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ae=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Me,exp:Me+3600,auth_time:Me,sub:Pt,user_id:Pt,firebase:{sign_in_provider:"custom",identities:{}}},me);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(Ae)),""].join(".")}function ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ut(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(me){return!1}}function Ee(){return"object"==typeof self&&self.self===self}function Pe(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return ot().indexOf("Electron/")>=0}function at(){const me=ot();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function ke(){return ot().indexOf("MSAppHost/")>=0}function Ce(){return!Le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nt(){return"object"==typeof indexedDB}function Z(){return new Promise((me,oe)=>{try{let _e=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(We);Me.onsuccess=()=>{Me.result.close(),_e||self.indexedDB.deleteDatabase(We),me(!0)},Me.onupgradeneeded=()=>{_e=!1},Me.onerror=()=>{var Pt;oe((null===(Pt=Me.error)||void 0===Pt?void 0:Pt.message)||"")}}catch(_e){oe(_e)}})}function X(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(oe,_e,We){super(_e),this.code=oe,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,re.prototype.create)}}class re{constructor(oe,_e,We){this.service=oe,this.serviceName=_e,this.errors=We}create(oe,..._e){const We=_e[0]||{},Me=`${this.service}/${oe}`,Pt=this.errors[oe],Ae=Pt?function(me,oe){return me.replace(ht,(_e,We)=>{const Me=oe[We];return null!=Me?String(Me):`<${We}?>`})}(Pt,We):"Error";return new xe(Me,`${this.serviceName}: ${Ae} (${Me}).`,We)}}const ht=/\{\$([^}]+)}/g;function kt(me,oe){return Object.prototype.hasOwnProperty.call(me,oe)}function un(me){for(const oe in me)if(Object.prototype.hasOwnProperty.call(me,oe))return!1;return!0}function Un(me,oe){if(me===oe)return!0;const _e=Object.keys(me),We=Object.keys(oe);for(const Me of _e){if(!We.includes(Me))return!1;const Pt=me[Me],Ae=oe[Me];if(Bn(Pt)&&Bn(Ae)){if(!Un(Pt,Ae))return!1}else if(Pt!==Ae)return!1}for(const Me of We)if(!_e.includes(Me))return!1;return!0}function Bn(me){return null!==me&&"object"==typeof me}function zn(me){const oe=[];for(const[_e,We]of Object.entries(me))Array.isArray(We)?We.forEach(Me=>{oe.push(encodeURIComponent(_e)+"="+encodeURIComponent(Me))}):oe.push(encodeURIComponent(_e)+"="+encodeURIComponent(We));return oe.length?"&"+oe.join("&"):""}function Xn(me){const oe={};return me.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Me,Pt]=We.split("=");oe[decodeURIComponent(Me)]=decodeURIComponent(Pt)}}),oe}function Hn(me){const oe=me.indexOf("?");if(!oe)return"";const _e=me.indexOf("#",oe);return me.substring(oe,_e>0?_e:void 0)}function rr(me,oe){const _e=new Qn(me,oe);return _e.subscribe.bind(_e)}class Qn{constructor(oe,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{oe(this)}).catch(We=>{this.error(We)})}next(oe){this.forEachObserver(_e=>{_e.next(oe)})}error(oe){this.forEachObserver(_e=>{_e.error(oe)}),this.close(oe)}complete(){this.forEachObserver(oe=>{oe.complete()}),this.close()}subscribe(oe,_e,We){let Me;if(void 0===oe&&void 0===_e&&void 0===We)throw new Error("Missing Observer.");Me=function(me,oe){if("object"!=typeof me||null===me)return!1;for(const _e of["next","error","complete"])if(_e in me&&"function"==typeof me[_e])return!0;return!1}(oe)?oe:{next:oe,error:_e,complete:We},void 0===Me.next&&(Me.next=An),void 0===Me.error&&(Me.error=An),void 0===Me.complete&&(Me.complete=An);const Pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch(Ae){}}),this.observers.push(Me),Pt}unsubscribeOne(oe){void 0===this.observers||void 0===this.observers[oe]||(delete this.observers[oe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(oe){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,oe)}sendOne(oe,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[oe])try{_e(this.observers[oe])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})}close(oe){this.finalized||(this.finalized=!0,void 0!==oe&&(this.finalError=oe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function vr(me,oe=1e3,_e=2){const We=oe*Math.pow(_e,me),Me=Math.round(.5*We*(Math.random()-.5)*2);return Math.min(144e5,We+Me)}function qr(me){return me&&me._delegate?me._delegate:me}},6621:(Dt,Ne,k)=>{"use strict";k.d(Ne,{IH:()=>Jn,Gb:()=>vr,Kz:()=>_e,Iv:()=>qr});var m=k(8239),_=k(1572),ae=k(3855),pe=k(4213),ne=k(1177);k(8094);const ce="analytics",J="firebase_id",te="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ve="https://www.googletagmanager.com/gtag/js",$e=new ae.Yd("@firebase/analytics");function Ve(Ae){return Promise.all(Ae.map(He=>He.catch(nt=>nt)))}function ot(Ae,He){const nt=document.createElement("script");nt.src=`${ve}?l=${Ae}&id=${He}`,nt.async=!0,document.head.appendChild(nt)}function Le(Ae,He,nt,It,bt,lt){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,m.Z)(function*(Ae,He,nt,It,bt,lt){const xt=It[bt];try{if(xt)yield He[xt];else{const gn=(yield Ve(nt)).find(En=>En.measurementId===bt);gn&&(yield He[gn.appId])}}catch(on){$e.error(on)}Ae("config",bt,lt)})).apply(this,arguments)}function Pe(Ae,He,nt,It,bt){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,m.Z)(function*(Ae,He,nt,It,bt){try{let lt=[];if(bt&&bt.send_to){let xt=bt.send_to;Array.isArray(xt)||(xt=[xt]);const on=yield Ve(nt);for(const gn of xt){const En=on.find(ar=>ar.measurementId===gn),tn=En&&He[En.appId];if(!tn){lt=[];break}lt.push(tn)}}0===lt.length&&(lt=Object.values(He)),yield Promise.all(lt),Ae("event",It,bt||{})}catch(lt){$e.error(lt)}})).apply(this,arguments)}function ke(){const Ae=window.document.getElementsByTagName("script");for(const He of Object.values(Ae))if(He.src&&He.src.includes(ve))return He;return null}const Ce=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ie=new class{constructor(He={},nt=1e3){this.throttleMetadata=He,this.intervalMillis=nt}getThrottleMetadata(He){return this.throttleMetadata[He]}setThrottleMetadata(He,nt){this.throttleMetadata[He]=nt}deleteThrottleMetadata(He){delete this.throttleMetadata[He]}};function ge(Ae){return new Headers({Accept:"application/json","x-goog-api-key":Ae})}function xe(Ae){return re.apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(Ae){var He;const{appId:nt,apiKey:It}=Ae,bt={method:"GET",headers:ge(It)},lt=te.replace("{app-id}",nt),xt=yield fetch(lt,bt);if(200!==xt.status&&304!==xt.status){let on="";try{const gn=yield xt.json();(null===(He=gn.error)||void 0===He?void 0:He.message)&&(on=gn.error.message)}catch(gn){}throw Ce.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:on})}return xt.json()})).apply(this,arguments)}function vt(Ae){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(Ae,He=ie,nt){const{appId:It,apiKey:bt,measurementId:lt}=Ae.options;if(!It)throw Ce.create("no-app-id");if(!bt){if(lt)return{measurementId:lt,appId:It};throw Ce.create("no-api-key")}const xt=He.getThrottleMetadata(It)||{backoffCount:0,throttleEndTimeMillis:Date.now()},on=new Ut;return setTimeout((0,m.Z)(function*(){on.abort()}),void 0!==nt?nt:6e4),Bt({appId:It,apiKey:bt,measurementId:lt},xt,on,He)})).apply(this,arguments)}function Bt(Ae,He,nt){return tt.apply(this,arguments)}function tt(){return(tt=(0,m.Z)(function*(Ae,{throttleEndTimeMillis:He,backoffCount:nt},It,bt=ie){const{appId:lt,measurementId:xt}=Ae;try{yield et(It,He)}catch(on){if(xt)return $e.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${on.message}]`),{appId:lt,measurementId:xt};throw on}try{const on=yield xe(Ae);return bt.deleteThrottleMetadata(lt),on}catch(on){if(!Mt(on)){if(bt.deleteThrottleMetadata(lt),xt)return $e.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${on.message}]`),{appId:lt,measurementId:xt};throw on}const gn=503===Number(on.customData.httpStatus)?(0,pe.$s)(nt,bt.intervalMillis,30):(0,pe.$s)(nt,bt.intervalMillis),En={throttleEndTimeMillis:Date.now()+gn,backoffCount:nt+1};return bt.setThrottleMetadata(lt,En),$e.debug(`Calling attemptFetch again in ${gn} millis`),Bt(Ae,En,It,bt)}})).apply(this,arguments)}function et(Ae,He){return new Promise((nt,It)=>{const bt=Math.max(He-Date.now(),0),lt=setTimeout(nt,bt);Ae.addEventListener(()=>{clearTimeout(lt),It(Ce.create("fetch-throttle",{throttleEndTimeMillis:He}))})})}function Mt(Ae){if(!(Ae instanceof pe.ZR&&Ae.customData))return!1;const He=Number(Ae.customData.httpStatus);return 429===He||500===He||503===He||504===He}class Ut{constructor(){this.listeners=[]}addEventListener(He){this.listeners.push(He)}abort(){this.listeners.forEach(He=>He())}}function an(){return wn.apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(){if(!(0,pe.hl)())return $e.warn(Ce.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(Ae){return $e.warn(Ce.create("indexeddb-unavailable",{errorInfo:Ae}).message),!1}return!0})).apply(this,arguments)}function Gt(){return(Gt=(0,m.Z)(function*(Ae,He,nt,It,bt,lt,xt){var on;const gn=vt(Ae);gn.then(Dn=>{nt[Dn.measurementId]=Dn.appId,Ae.options.measurementId&&Dn.measurementId!==Ae.options.measurementId&&$e.warn(`The measurement ID in the local Firebase config (${Ae.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>$e.error(Dn)),He.push(gn);const En=an().then(Dn=>{if(Dn)return It.getId()}),[tn,ar]=yield Promise.all([gn,En]);ke()||ot(lt,tn.measurementId),bt("js",new Date);const Sr=null!==(on=null==xt?void 0:xt.config)&&void 0!==on?on:{};return Sr.origin="firebase",Sr.update=!0,null!=ar&&(Sr[J]=ar),bt("config",tn.measurementId,Sr),tn.measurementId})).apply(this,arguments)}class un{constructor(He){this.app=He}_delete(){return delete pn[this.app.options.appId],Promise.resolve()}}let pn={},Un=[];const Bn={};let Hn,Rn,zn="dataLayer",rr=!1;function zt(Ae,He,nt){!function(){const Ae=[];if((0,pe.ru)()&&Ae.push("This is a browser extension environment."),(0,pe.zI)()||Ae.push("Cookies are not available."),Ae.length>0){const He=Ae.map((It,bt)=>`(${bt+1}) ${It}`).join(" "),nt=Ce.create("invalid-analytics-context",{errorInfo:He});$e.warn(nt.message)}}();const It=Ae.options.appId;if(!It)throw Ce.create("no-app-id");if(!Ae.options.apiKey){if(!Ae.options.measurementId)throw Ce.create("no-api-key");$e.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pn[It])throw Ce.create("already-exists",{id:It});if(!rr){!function(Ae){let He=[];Array.isArray(window[Ae])?He=window[Ae]:window[Ae]=He}(zn);const{wrappedGtag:lt,gtagCore:xt}=function(Ae,He,nt,It,bt){let lt=function(...xt){window[It].push(arguments)};return window[bt]&&"function"==typeof window[bt]&&(lt=window[bt]),window[bt]=function(Ae,He,nt,It){function lt(){return(lt=(0,m.Z)(function*(xt,on,gn){try{"event"===xt?yield Pe(Ae,He,nt,on,gn):"config"===xt?yield Le(Ae,He,nt,It,on,gn):Ae("set",on)}catch(En){$e.error(En)}})).apply(this,arguments)}return function(xt,on,gn){return lt.apply(this,arguments)}}(lt,Ae,He,nt),{gtagCore:lt,wrappedGtag:window[bt]}}(pn,Un,Bn,zn,"gtag");Rn=lt,Hn=xt,rr=!0}return pn[It]=function(Ae,He,nt,It,bt,lt,xt){return Gt.apply(this,arguments)}(Ae,Un,Bn,He,Hn,zn,nt),new un(Ae)}function er(){return(er=(0,m.Z)(function*(Ae,He,nt,It,bt){if(bt&&bt.global)Ae("event",nt,It);else{const lt=yield He;Ae("event",nt,Object.assign(Object.assign({},It),{send_to:lt}))}})).apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(Ae,He,nt,It){if(It&&It.global)return Ae("set",{user_id:nt}),Promise.resolve();Ae("config",yield He,{update:!0,user_id:nt})})).apply(this,arguments)}function Jn(Ae=(0,_.getApp)()){Ae=(0,pe.m9)(Ae);const He=(0,_._getProvider)(Ae,ce);return He.isInitialized()?He.getImmediate():function(Ae,He={}){const nt=(0,_._getProvider)(Ae,ce);if(nt.isInitialized()){const bt=nt.getImmediate();if((0,pe.vZ)(He,nt.getOptions()))return bt;throw Ce.create("already-initialized")}return nt.initialize({options:He})}(Ae)}function vr(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch(Ae){return!1}})).apply(this,arguments)}function qr(Ae,He,nt){Ae=(0,pe.m9)(Ae),function(Ae,He,nt,It){return sn.apply(this,arguments)}(Rn,pn[Ae.app.options.appId],He,nt).catch(It=>$e.error(It))}function _e(Ae,He,nt,It){Ae=(0,pe.m9)(Ae),function(Ae,He,nt,It,bt){return er.apply(this,arguments)}(Rn,pn[Ae.app.options.appId],He,nt,It).catch(bt=>$e.error(bt))}const We="@firebase/analytics";(0,_._registerComponent)(new ne.wA(ce,(He,{options:nt})=>zt(He.getProvider("app").getImmediate(),He.getProvider("installations-internal").getImmediate(),nt),"PUBLIC")),(0,_._registerComponent)(new ne.wA("analytics-internal",function(He){try{const nt=He.getProvider(ce).getImmediate();return{logEvent:(It,bt,lt)=>_e(nt,It,bt,lt)}}catch(nt){throw Ce.create("interop-component-reg-failed",{reason:nt})}},"PRIVATE")),(0,_.registerVersion)(We,"0.7.4"),(0,_.registerVersion)(We,"0.7.4","esm2017")},7713:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Mq:()=>m.getApp,C6:()=>m.getApps,ZF:()=>m.initializeApp,KN:()=>m.registerVersion});var m=k(1572);(0,m.registerVersion)("firebase","9.5.0","app")},7892:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Z:()=>m.Z});var m=k(6293);m.Z.registerVersion("firebase","9.5.0","app-compat")},4995:function(Dt,Ne){!function(k){"use strict";function m(Le){return Array.prototype.slice.call(Le)}function _(Le){return new Promise(function(Ee,Pe){Le.onsuccess=function(){Ee(Le.result)},Le.onerror=function(){Pe(Le.error)}})}function ae(Le,Ee,Pe){var Ue,Re=new Promise(function(at,ke){_(Ue=Le[Ee].apply(Le,Pe)).then(at,ke)});return Re.request=Ue,Re}function pe(Le,Ee,Pe){var Ue=ae(Le,Ee,Pe);return Ue.then(function(Re){if(Re)return new q(Re,Ue.request)})}function ne(Le,Ee,Pe){Pe.forEach(function(Ue){Object.defineProperty(Le.prototype,Ue,{get:function(){return this[Ee][Ue]},set:function(Re){this[Ee][Ue]=Re}})})}function Ie(Le,Ee,Pe,Ue){Ue.forEach(function(Re){Re in Pe.prototype&&(Le.prototype[Re]=function(){return ae(this[Ee],Re,arguments)})})}function ce(Le,Ee,Pe,Ue){Ue.forEach(function(Re){Re in Pe.prototype&&(Le.prototype[Re]=function(){return this[Ee][Re].apply(this[Ee],arguments)})})}function J(Le,Ee,Pe,Ue){Ue.forEach(function(Re){Re in Pe.prototype&&(Le.prototype[Re]=function(){return pe(this[Ee],Re,arguments)})})}function Te(Le){this._index=Le}function q(Le,Ee){this._cursor=Le,this._request=Ee}function te(Le){this._store=Le}function ve(Le){this._tx=Le,this.complete=new Promise(function(Ee,Pe){Le.oncomplete=function(){Ee()},Le.onerror=function(){Pe(Le.error)},Le.onabort=function(){Pe(Le.error)}})}function $e(Le,Ee,Pe){this._db=Le,this.oldVersion=Ee,this.transaction=new ve(Pe)}function Ve(Le){this._db=Le}ne(Te,"_index",["name","keyPath","multiEntry","unique"]),Ie(Te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),J(Te,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(q,"_cursor",["direction","key","primaryKey","value"]),Ie(q,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Le){Le in IDBCursor.prototype&&(q.prototype[Le]=function(){var Ee=this,Pe=arguments;return Promise.resolve().then(function(){return Ee._cursor[Le].apply(Ee._cursor,Pe),_(Ee._request).then(function(Ue){if(Ue)return new q(Ue,Ee._request)})})})}),te.prototype.createIndex=function(){return new Te(this._store.createIndex.apply(this._store,arguments))},te.prototype.index=function(){return new Te(this._store.index.apply(this._store,arguments))},ne(te,"_store",["name","keyPath","indexNames","autoIncrement"]),Ie(te,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),J(te,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce(te,"_store",IDBObjectStore,["deleteIndex"]),ve.prototype.objectStore=function(){return new te(this._tx.objectStore.apply(this._tx,arguments))},ne(ve,"_tx",["objectStoreNames","mode"]),ce(ve,"_tx",IDBTransaction,["abort"]),$e.prototype.createObjectStore=function(){return new te(this._db.createObjectStore.apply(this._db,arguments))},ne($e,"_db",["name","version","objectStoreNames"]),ce($e,"_db",IDBDatabase,["deleteObjectStore","close"]),Ve.prototype.transaction=function(){return new ve(this._db.transaction.apply(this._db,arguments))},ne(Ve,"_db",["name","version","objectStoreNames"]),ce(Ve,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Le){[te,Te].forEach(function(Ee){Le in Ee.prototype&&(Ee.prototype[Le.replace("open","iterate")]=function(){var Pe=m(arguments),Ue=Pe[Pe.length-1],Re=this._store||this._index,at=Re[Le].apply(Re,Pe.slice(0,-1));at.onsuccess=function(){Ue(at.result)}})})}),[Te,te].forEach(function(Le){Le.prototype.getAll||(Le.prototype.getAll=function(Ee,Pe){var Ue=this,Re=[];return new Promise(function(at){Ue.iterateCursor(Ee,function(ke){ke?(Re.push(ke.value),void 0===Pe||Re.length!=Pe?ke.continue():at(Re)):at(Re)})})})}),k.openDb=function(Le,Ee,Pe){var Ue=ae(indexedDB,"open",[Le,Ee]),Re=Ue.request;return Re&&(Re.onupgradeneeded=function(at){Pe&&Pe(new $e(Re.result,at.oldVersion,Re.transaction))}),Ue.then(function(at){return new Ve(at)})},k.deleteDb=function(Le){return ae(indexedDB,"deleteDatabase",[Le])},Object.defineProperty(k,"__esModule",{value:!0})}(Ne)},8305:(Dt,Ne,k)=>{"use strict";k.d(Ne,{y:()=>q});var m=k(3113),_=k(7908),ae=k(4816),pe=k(4623);var ce=k(5367),J=k(5044),Te=k(8706);let q=(()=>{class Ve{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const Le=new Ve;return Le.source=this,Le.operator=ut,Le}subscribe(ut,Le,Ee){const Pe=function(Ve){return Ve&&Ve instanceof m.Lv||function(Ve){return Ve&&(0,J.m)(Ve.next)&&(0,J.m)(Ve.error)&&(0,J.m)(Ve.complete)}(Ve)&&(0,_.Nn)(Ve)}(ut)?ut:new m.Hp(ut,Le,Ee);return(0,Te.x)(()=>{const{operator:Ue,source:Re}=this;Pe.add(Ue?Ue.call(Pe,Re):Re?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(ut){try{return this._subscribe(ut)}catch(Le){ut.error(Le)}}forEach(ut,Le){return new(Le=te(Le))((Ee,Pe)=>{let Ue;Ue=this.subscribe(Re=>{try{ut(Re)}catch(at){Pe(at),null==Ue||Ue.unsubscribe()}},Pe,Ee)})}_subscribe(ut){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(ut)}[ae.L](){return this}pipe(...ut){return function(Ve){return 0===Ve.length?pe.y:1===Ve.length?Ve[0]:function(ut){return Ve.reduce((Le,Ee)=>Ee(Le),ut)}}(ut)(this)}toPromise(ut){return new(ut=te(ut))((Le,Ee)=>{let Pe;this.subscribe(Ue=>Pe=Ue,Ue=>Ee(Ue),()=>Le(Pe))})}}return Ve.create=ot=>new Ve(ot),Ve})();function te(Ve){var ot;return null!==(ot=null!=Ve?Ve:ce.v.Promise)&&void 0!==ot?ot:Promise}},273:(Dt,Ne,k)=>{"use strict";k.d(Ne,{x:()=>ce});var m=k(8305),_=k(7908);const pe=(0,k(4893).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(3980),Ie=k(8706);let ce=(()=>{class Te extends m.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const ve=new J(this,this);return ve.operator=te,ve}_throwIfClosed(){if(this.closed)throw new pe}next(te){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ve=this.observers.slice();for(const $e of ve)$e.next(te)}})}error(te){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:ve}=this;for(;ve.length;)ve.shift().error(te)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:ve,isStopped:$e,observers:Ve}=this;return ve||$e?_.Lc:(Ve.push(te),new _.w0(()=>(0,ne.P)(Ve,te)))}_checkFinalizedStatuses(te){const{hasError:ve,thrownError:$e,isStopped:Ve}=this;ve?te.error($e):Ve&&te.complete()}asObservable(){const te=new m.y;return te.source=this,te}}return Te.create=(q,te)=>new J(q,te),Te})();class J extends ce{constructor(q,te){super(),this.destination=q,this.source=te}next(q){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===ve||ve.call(te,q)}error(q){var te,ve;null===(ve=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===ve||ve.call(te,q)}complete(){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===te||te.call(q)}_subscribe(q){var te,ve;return null!==(ve=null===(te=this.source)||void 0===te?void 0:te.subscribe(q))&&void 0!==ve?ve:_.Lc}}},3113:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Hp:()=>$e,Lv:()=>ve});var m=k(5044),_=k(7908),ae=k(5367),pe=k(5160);function ne(){}const Ie=Te("C",void 0,void 0);function Te(Ee,Pe,Ue){return{kind:Ee,value:Pe,error:Ue}}var q=k(2496),te=k(8706);class ve extends _.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,_.Nn)(Pe)&&Pe.add(this)):this.destination=Le}static create(Pe,Ue,Re){return new $e(Pe,Ue,Re)}next(Pe){this.isStopped?ut(Te("N",Pe,void 0),this):this._next(Pe)}error(Pe){this.isStopped?ut(Te("E",void 0,Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?ut(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class $e extends ve{constructor(Pe,Ue,Re){let at;if(super(),(0,m.m)(Pe))at=Pe;else if(Pe){let ke;({next:at,error:Ue,complete:Re}=Pe),this&&ae.v.useDeprecatedNextContext?(ke=Object.create(Pe),ke.unsubscribe=()=>this.unsubscribe()):ke=Pe,at=null==at?void 0:at.bind(ke),Ue=null==Ue?void 0:Ue.bind(ke),Re=null==Re?void 0:Re.bind(ke)}this.destination={next:at?Ve(at):ne,error:Ve(null!=Ue?Ue:ot),complete:Re?Ve(Re):ne}}}function Ve(Ee,Pe){return(...Ue)=>{try{Ee(...Ue)}catch(Re){ae.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Re):(0,pe.h)(Re)}}}function ot(Ee){throw Ee}function ut(Ee,Pe){const{onStoppedNotification:Ue}=ae.v;Ue&&q.z.setTimeout(()=>Ue(Ee,Pe))}const Le={closed:!0,next:ne,error:ot,complete:ne}},7908:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Lc:()=>Ie,w0:()=>ne,Nn:()=>ce});var m=k(5044);const ae=(0,k(4893).d)(Te=>function(te){Te(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((ve,$e)=>`${$e+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var pe=k(3980);class ne{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Ve of te)Ve.remove(this);else te.remove(this);const{initialTeardown:ve}=this;if((0,m.m)(ve))try{ve()}catch(Ve){q=Ve instanceof ae?Ve.errors:[Ve]}const{_teardowns:$e}=this;if($e){this._teardowns=null;for(const Ve of $e)try{J(Ve)}catch(ot){q=null!=q?q:[],ot instanceof ae?q=[...q,...ot.errors]:q.push(ot)}}if(q)throw new ae(q)}}add(q){var te;if(q&&q!==this)if(this.closed)J(q);else{if(q instanceof ne){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(te=this._teardowns)&&void 0!==te?te:[]).push(q)}}_hasParent(q){const{_parentage:te}=this;return te===q||Array.isArray(te)&&te.includes(q)}_addParent(q){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(q),te):te?[te,q]:q}_removeParent(q){const{_parentage:te}=this;te===q?this._parentage=null:Array.isArray(te)&&(0,pe.P)(te,q)}remove(q){const{_teardowns:te}=this;te&&(0,pe.P)(te,q),q instanceof ne&&q._removeParent(this)}}ne.EMPTY=(()=>{const Te=new ne;return Te.closed=!0,Te})();const Ie=ne.EMPTY;function ce(Te){return Te instanceof ne||Te&&"closed"in Te&&(0,m.m)(Te.remove)&&(0,m.m)(Te.add)&&(0,m.m)(Te.unsubscribe)}function J(Te){(0,m.m)(Te)?Te():Te.unsubscribe()}},5367:(Dt,Ne,k)=>{"use strict";k.d(Ne,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1404:(Dt,Ne,k)=>{"use strict";k.d(Ne,{z:()=>ne});var m=k(5373),ae=k(8830),pe=k(5947);function ne(...Ie){return(0,m.J)(1)((0,pe.D)(Ie,(0,ae.yG)(Ie)))}},5583:(Dt,Ne,k)=>{"use strict";k.d(Ne,{E:()=>_});const _=new(k(8305).y)(ne=>ne.complete())},5947:(Dt,Ne,k)=>{"use strict";k.d(Ne,{D:()=>at});var m=k(9985),_=k(4763),ae=k(5222),Ie=k(8305),J=k(5497),Te=k(5044),q=k(8395);function ve(ke,dt){if(!ke)throw new Error("Iterable cannot be null");return new Ie.y(Ce=>{(0,q.f)(Ce,dt,()=>{const Nt=ke[Symbol.asyncIterator]();(0,q.f)(Ce,dt,()=>{Nt.next().then(Z=>{Z.done?Ce.complete():Ce.next(Z.value)})},0,!0)})})}var $e=k(1073),Ve=k(2442),ot=k(1537),ut=k(2317),Le=k(9908),Ee=k(3754),Pe=k(7751);function at(ke,dt){return dt?function(ke,dt){if(null!=ke){if((0,$e.c)(ke))return function(ke,dt){return(0,m.Xf)(ke).pipe((0,ae.R)(dt),(0,_.Q)(dt))}(ke,dt);if((0,ot.z)(ke))return function(ke,dt){return new Ie.y(Ce=>{let Nt=0;return dt.schedule(function(){Nt===ke.length?Ce.complete():(Ce.next(ke[Nt++]),Ce.closed||this.schedule())})})}(ke,dt);if((0,Ve.t)(ke))return function(ke,dt){return(0,m.Xf)(ke).pipe((0,ae.R)(dt),(0,_.Q)(dt))}(ke,dt);if((0,Le.D)(ke))return ve(ke,dt);if((0,ut.T)(ke))return function(ke,dt){return new Ie.y(Ce=>{let Nt;return(0,q.f)(Ce,dt,()=>{Nt=ke[J.h](),(0,q.f)(Ce,dt,()=>{let Z,X;try{({value:Z,done:X}=Nt.next())}catch(ie){return void Ce.error(ie)}X?Ce.complete():Ce.next(Z)},0,!0)}),()=>(0,Te.m)(null==Nt?void 0:Nt.return)&&Nt.return()})}(ke,dt);if((0,Pe.L)(ke))return function(ke,dt){return ve((0,Pe.Q)(ke),dt)}(ke,dt)}throw(0,Ee.z)(ke)}(ke,dt):(0,m.Xf)(ke)}},9985:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Xf:()=>$e});var m=k(9162),_=k(1537),ae=k(2442),pe=k(8305),ne=k(1073),Ie=k(9908),ce=k(3754),J=k(2317),Te=k(7751),q=k(5044),te=k(5160),ve=k(4816);function $e(Re){if(Re instanceof pe.y)return Re;if(null!=Re){if((0,ne.c)(Re))return function(Re){return new pe.y(at=>{const ke=Re[ve.L]();if((0,q.m)(ke.subscribe))return ke.subscribe(at);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,_.z)(Re))return function(Re){return new pe.y(at=>{for(let ke=0;ke<Re.length&&!at.closed;ke++)at.next(Re[ke]);at.complete()})}(Re);if((0,ae.t)(Re))return function(Re){return new pe.y(at=>{Re.then(ke=>{at.closed||(at.next(ke),at.complete())},ke=>at.error(ke)).then(null,te.h)})}(Re);if((0,Ie.D)(Re))return Ee(Re);if((0,J.T)(Re))return function(Re){return new pe.y(at=>{for(const ke of Re)if(at.next(ke),at.closed)return;at.complete()})}(Re);if((0,Te.L)(Re))return function(Re){return Ee((0,Te.Q)(Re))}(Re)}throw(0,ce.z)(Re)}function Ee(Re){return new pe.y(at=>{(function(Re,at){var ke,dt,Ce,Nt;return(0,m.mG)(this,void 0,void 0,function*(){try{for(ke=(0,m.KL)(Re);!(dt=yield ke.next()).done;)if(at.next(dt.value),at.closed)return}catch(Z){Ce={error:Z}}finally{try{dt&&!dt.done&&(Nt=ke.return)&&(yield Nt.call(ke))}finally{if(Ce)throw Ce.error}}at.complete()})})(Re,at).catch(ke=>at.error(ke))})}},3719:(Dt,Ne,k)=>{"use strict";k.d(Ne,{T:()=>Ie});var m=k(5373),_=k(9985),ae=k(5583),pe=k(8830),ne=k(5947);function Ie(...ce){const J=(0,pe.yG)(ce),Te=(0,pe._6)(ce,1/0),q=ce;return q.length?1===q.length?(0,_.Xf)(q[0]):(0,m.J)(Te)((0,ne.D)(q,J)):ae.E}},2997:(Dt,Ne,k)=>{"use strict";k.d(Ne,{of:()=>ae});var m=k(8830),_=k(5947);function ae(...pe){const ne=(0,m.yG)(pe);return(0,_.D)(pe,ne)}},8889:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Q:()=>_});var m=k(3113);class _ extends m.Lv{constructor(pe,ne,Ie,ce,J){super(pe),this.onFinalize=J,this._next=ne?function(Te){try{ne(Te)}catch(q){pe.error(q)}}:super._next,this._error=ce?function(Te){try{ce(Te)}catch(q){pe.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(Te){pe.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}},8975:(Dt,Ne,k)=>{"use strict";k.d(Ne,{d:()=>ae});var m=k(9947),_=k(8889);function ae(pe){return(0,m.e)((ne,Ie)=>{let ce=!1;ne.subscribe(new _.Q(Ie,J=>{ce=!0,Ie.next(J)},()=>{ce||Ie.next(pe),Ie.complete()}))})}},5488:(Dt,Ne,k)=>{"use strict";k.d(Ne,{x:()=>pe});var m=k(4623),_=k(9947),ae=k(8889);function pe(Ie,ce=m.y){return Ie=null!=Ie?Ie:ne,(0,_.e)((J,Te)=>{let q,te=!0;J.subscribe(new ae.Q(Te,ve=>{const $e=ce(ve);(te||!Ie(q,$e))&&(te=!1,q=$e,Te.next(ve))}))})}function ne(Ie,ce){return Ie===ce}},461:(Dt,Ne,k)=>{"use strict";k.d(Ne,{h:()=>ae});var m=k(9947),_=k(8889);function ae(pe,ne){return(0,m.e)((Ie,ce)=>{let J=0;Ie.subscribe(new _.Q(ce,Te=>pe.call(ne,Te,J++)&&ce.next(Te)))})}},6047:(Dt,Ne,k)=>{"use strict";k.d(Ne,{P:()=>ce});var m=k(5907),_=k(461),ae=k(9468),pe=k(8975),ne=k(4724),Ie=k(4623);function ce(J,Te){const q=arguments.length>=2;return te=>te.pipe(J?(0,_.h)((ve,$e)=>J(ve,$e,te)):Ie.y,(0,ae.q)(1),q?(0,pe.d)(Te):(0,ne.T)(()=>new m.K))}},4753:(Dt,Ne,k)=>{"use strict";k.d(Ne,{U:()=>ae});var m=k(9947),_=k(8889);function ae(pe,ne){return(0,m.e)((Ie,ce)=>{let J=0;Ie.subscribe(new _.Q(ce,Te=>{ce.next(pe.call(ne,Te,J++))}))})}},5373:(Dt,Ne,k)=>{"use strict";k.d(Ne,{J:()=>ae});var m=k(5724),_=k(4623);function ae(pe=1/0){return(0,m.z)(_.y,pe)}},5724:(Dt,Ne,k)=>{"use strict";k.d(Ne,{z:()=>J});var m=k(4753),_=k(9985),ae=k(9947),ne=(k(8395),k(8889)),ce=k(5044);function J(Te,q,te=1/0){return(0,ce.m)(q)?J((ve,$e)=>(0,m.U)((Ve,ot)=>q(ve,Ve,$e,ot))((0,_.Xf)(Te(ve,$e))),te):("number"==typeof q&&(te=q),(0,ae.e)((ve,$e)=>function(Te,q,te,ve,$e,Ve,ot,ut){const Le=[];let Ee=0,Pe=0,Ue=!1;const Re=()=>{Ue&&!Le.length&&!Ee&&q.complete()},at=dt=>Ee<ve?ke(dt):Le.push(dt),ke=dt=>{Ee++;let Ce=!1;(0,_.Xf)(te(dt,Pe++)).subscribe(new ne.Q(q,Nt=>{q.next(Nt)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(Ee--;Le.length&&Ee<ve;){const Nt=Le.shift();ke(Nt)}Re()}catch(Nt){q.error(Nt)}}))};return Te.subscribe(new ne.Q(q,at,()=>{Ue=!0,Re()})),()=>{}}(ve,$e,Te,te)))}},4763:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Q:()=>pe});var m=k(8395),_=k(9947),ae=k(8889);function pe(ne,Ie=0){return(0,_.e)((ce,J)=>{ce.subscribe(new ae.Q(J,Te=>(0,m.f)(J,ne,()=>J.next(Te),Ie),()=>(0,m.f)(J,ne,()=>J.complete(),Ie),Te=>(0,m.f)(J,ne,()=>J.error(Te),Ie)))})}},7518:(Dt,Ne,k)=>{"use strict";k.d(Ne,{G:()=>ae});var m=k(9947),_=k(8889);function ae(){return(0,m.e)((pe,ne)=>{let Ie,ce=!1;pe.subscribe(new _.Q(ne,J=>{const Te=Ie;Ie=J,ce&&ne.next([Te,J]),ce=!0}))})}},9495:(Dt,Ne,k)=>{"use strict";k.d(Ne,{R:()=>pe});var m=k(9947),_=k(8889);function ae(ne,Ie,ce,J,Te){return(q,te)=>{let ve=ce,$e=Ie,Ve=0;q.subscribe(new _.Q(te,ot=>{const ut=Ve++;$e=ve?ne($e,ot,ut):(ve=!0,ot),J&&te.next($e)},Te&&(()=>{ve&&te.next($e),te.complete()})))}}function pe(ne,Ie){return(0,m.e)(ae(ne,Ie,arguments.length>=2,!0))}},3174:(Dt,Ne,k)=>{"use strict";k.d(Ne,{B:()=>Ie});var m=k(5947),_=k(9468),ae=k(273),pe=k(3113),ne=k(9947);function Ie(J={}){const{connector:Te=(()=>new ae.x),resetOnError:q=!0,resetOnComplete:te=!0,resetOnRefCountZero:ve=!0}=J;return $e=>{let Ve=null,ot=null,ut=null,Le=0,Ee=!1,Pe=!1;const Ue=()=>{null==ot||ot.unsubscribe(),ot=null},Re=()=>{Ue(),Ve=ut=null,Ee=Pe=!1},at=()=>{const ke=Ve;Re(),null==ke||ke.unsubscribe()};return(0,ne.e)((ke,dt)=>{Le++,!Pe&&!Ee&&Ue();const Ce=ut=null!=ut?ut:Te();dt.add(()=>{Le--,0===Le&&!Pe&&!Ee&&(ot=ce(at,ve))}),Ce.subscribe(dt),Ve||(Ve=new pe.Hp({next:Nt=>Ce.next(Nt),error:Nt=>{Pe=!0,Ue(),ot=ce(Re,q,Nt),Ce.error(Nt)},complete:()=>{Ee=!0,Ue(),ot=ce(Re,te),Ce.complete()}}),(0,m.D)(ke).subscribe(Ve))})($e)}}function ce(J,Te,...q){return!0===Te?(J(),null):!1===Te?null:Te(...q).pipe((0,_.q)(1)).subscribe(()=>J())}},3970:(Dt,Ne,k)=>{"use strict";k.d(Ne,{O:()=>pe});var m=k(1404),_=k(8830),ae=k(9947);function pe(...ne){const Ie=(0,_.yG)(ne);return(0,ae.e)((ce,J)=>{(Ie?(0,m.z)(ne,ce,Ie):(0,m.z)(ne,ce)).subscribe(J)})}},5222:(Dt,Ne,k)=>{"use strict";k.d(Ne,{R:()=>_});var m=k(9947);function _(ae,pe=0){return(0,m.e)((ne,Ie)=>{Ie.add(ae.schedule(()=>ne.subscribe(Ie),pe))})}},3067:(Dt,Ne,k)=>{"use strict";k.d(Ne,{w:()=>pe});var m=k(9985),_=k(9947),ae=k(8889);function pe(ne,Ie){return(0,_.e)((ce,J)=>{let Te=null,q=0,te=!1;const ve=()=>te&&!Te&&J.complete();ce.subscribe(new ae.Q(J,$e=>{null==Te||Te.unsubscribe();let Ve=0;const ot=q++;(0,m.Xf)(ne($e,ot)).subscribe(Te=new ae.Q(J,ut=>J.next(Ie?Ie($e,ut,ot,Ve++):ut),()=>{Te=null,ve()}))},()=>{te=!0,ve()}))})}},9468:(Dt,Ne,k)=>{"use strict";k.d(Ne,{q:()=>pe});var m=k(5583),_=k(9947),ae=k(8889);function pe(ne){return ne<=0?()=>m.E:(0,_.e)((Ie,ce)=>{let J=0;Ie.subscribe(new ae.Q(ce,Te=>{++J<=ne&&(ce.next(Te),ne<=J&&ce.complete())}))})}},7384:(Dt,Ne,k)=>{"use strict";k.d(Ne,{b:()=>ne});var m=k(5044),_=k(9947),ae=k(8889),pe=k(4623);function ne(Ie,ce,J){const Te=(0,m.m)(Ie)||ce||J?{next:Ie,error:ce,complete:J}:Ie;return Te?(0,_.e)((q,te)=>{var ve;null===(ve=Te.subscribe)||void 0===ve||ve.call(Te);let $e=!0;q.subscribe(new ae.Q(te,Ve=>{var ot;null===(ot=Te.next)||void 0===ot||ot.call(Te,Ve),te.next(Ve)},()=>{var Ve;$e=!1,null===(Ve=Te.complete)||void 0===Ve||Ve.call(Te),te.complete()},Ve=>{var ot;$e=!1,null===(ot=Te.error)||void 0===ot||ot.call(Te,Ve),te.error(Ve)},()=>{var Ve,ot;$e&&(null===(Ve=Te.unsubscribe)||void 0===Ve||Ve.call(Te)),null===(ot=Te.finalize)||void 0===ot||ot.call(Te)}))}):pe.y}},4724:(Dt,Ne,k)=>{"use strict";k.d(Ne,{T:()=>pe});var m=k(5907),_=k(9947),ae=k(8889);function pe(Ie=ne){return(0,_.e)((ce,J)=>{let Te=!1;ce.subscribe(new ae.Q(J,q=>{Te=!0,J.next(q)},()=>Te?J.complete():J.error(Ie())))})}function ne(){return new m.K}},2869:(Dt,Ne,k)=>{"use strict";k.d(Ne,{o:()=>ne});var m=k(7908);class _ extends m.w0{constructor(ce,J){super()}schedule(ce,J=0){return this}}const ae={setInterval(...Ie){const{delegate:ce}=ae;return((null==ce?void 0:ce.setInterval)||setInterval)(...Ie)},clearInterval(Ie){const{delegate:ce}=ae;return((null==ce?void 0:ce.clearInterval)||clearInterval)(Ie)},delegate:void 0};var pe=k(3980);class ne extends _{constructor(ce,J){super(ce,J),this.scheduler=ce,this.work=J,this.pending=!1}schedule(ce,J=0){if(this.closed)return this;this.state=ce;const Te=this.id,q=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(q,Te,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(q,this.id,J),this}requestAsyncId(ce,J,Te=0){return ae.setInterval(ce.flush.bind(ce,this),Te)}recycleAsyncId(ce,J,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return J;ae.clearInterval(J)}execute(ce,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(ce,J);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,J){let q,Te=!1;try{this.work(ce)}catch(te){Te=!0,q=te||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:ce,scheduler:J}=this,{actions:Te}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Te,this),null!=ce&&(this.id=this.recycleAsyncId(J,ce,null)),this.delay=null,super.unsubscribe()}}}},8843:(Dt,Ne,k)=>{"use strict";k.d(Ne,{v:()=>ae});var m=k(1733);class _{constructor(ne,Ie=_.now){this.schedulerActionCtor=ne,this.now=Ie}schedule(ne,Ie=0,ce){return new this.schedulerActionCtor(this,ne).schedule(ce,Ie)}}_.now=m.l.now;class ae extends _{constructor(ne,Ie=_.now){super(ne,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:Ie}=this;if(this._active)return void Ie.push(ne);let ce;this._active=!0;do{if(ce=ne.execute(ne.state,ne.delay))break}while(ne=Ie.shift());if(this._active=!1,ce){for(;ne=Ie.shift();)ne.unsubscribe();throw ce}}}},2210:(Dt,Ne,k)=>{"use strict";k.d(Ne,{z:()=>ae});var m=k(2869);const ae=new(k(8843).v)(m.o)},1733:(Dt,Ne,k)=>{"use strict";k.d(Ne,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},2496:(Dt,Ne,k)=>{"use strict";k.d(Ne,{z:()=>m});const m={setTimeout(..._){const{delegate:ae}=m;return((null==ae?void 0:ae.setTimeout)||setTimeout)(..._)},clearTimeout(_){const{delegate:ae}=m;return((null==ae?void 0:ae.clearTimeout)||clearTimeout)(_)},delegate:void 0}},5497:(Dt,Ne,k)=>{"use strict";k.d(Ne,{h:()=>_});const _="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Dt,Ne,k)=>{"use strict";k.d(Ne,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},5907:(Dt,Ne,k)=>{"use strict";k.d(Ne,{K:()=>_});const _=(0,k(4893).d)(ae=>function(){ae(this),this.name="EmptyError",this.message="no elements in sequence"})},8830:(Dt,Ne,k)=>{"use strict";k.d(Ne,{_6:()=>Ie,jO:()=>pe,yG:()=>ne});var m=k(5044);function ae(ce){return ce[ce.length-1]}function pe(ce){return(0,m.m)(ae(ce))?ce.pop():void 0}function ne(ce){return function(ce){return ce&&(0,m.m)(ce.schedule)}(ae(ce))?ce.pop():void 0}function Ie(ce,J){return"number"==typeof ae(ce)?ce.pop():J}},886:(Dt,Ne,k)=>{"use strict";k.d(Ne,{D:()=>ne});const{isArray:m}=Array,{getPrototypeOf:_,prototype:ae,keys:pe}=Object;function ne(ce){if(1===ce.length){const J=ce[0];if(m(J))return{args:J,keys:null};if(function(ce){return ce&&"object"==typeof ce&&_(ce)===ae}(J)){const Te=pe(J);return{args:Te.map(q=>J[q]),keys:Te}}}return{args:ce,keys:null}}},3980:(Dt,Ne,k)=>{"use strict";function m(_,ae){if(_){const pe=_.indexOf(ae);0<=pe&&_.splice(pe,1)}}k.d(Ne,{P:()=>m})},4893:(Dt,Ne,k)=>{"use strict";function m(_){const pe=_(ne=>{Error.call(ne),ne.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}k.d(Ne,{d:()=>m})},2857:(Dt,Ne,k)=>{"use strict";function m(_,ae){return _.reduce((pe,ne,Ie)=>(pe[ne]=ae[Ie],pe),{})}k.d(Ne,{n:()=>m})},8706:(Dt,Ne,k)=>{"use strict";k.d(Ne,{x:()=>ae,O:()=>pe});var m=k(5367);let _=null;function ae(ne){if(m.v.useDeprecatedSynchronousErrorHandling){const Ie=!_;if(Ie&&(_={errorThrown:!1,error:null}),ne(),Ie){const{errorThrown:ce,error:J}=_;if(_=null,ce)throw J}}else ne()}function pe(ne){m.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=ne)}},8395:(Dt,Ne,k)=>{"use strict";function m(_,ae,pe,ne=0,Ie=!1){const ce=ae.schedule(function(){pe(),Ie?_.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(_.add(ce),!Ie)return ce}k.d(Ne,{f:()=>m})},4623:(Dt,Ne,k)=>{"use strict";function m(_){return _}k.d(Ne,{y:()=>m})},1537:(Dt,Ne,k)=>{"use strict";k.d(Ne,{z:()=>m});const m=_=>_&&"number"==typeof _.length&&"function"!=typeof _},9908:(Dt,Ne,k)=>{"use strict";k.d(Ne,{D:()=>_});var m=k(5044);function _(ae){return Symbol.asyncIterator&&(0,m.m)(null==ae?void 0:ae[Symbol.asyncIterator])}},5044:(Dt,Ne,k)=>{"use strict";function m(_){return"function"==typeof _}k.d(Ne,{m:()=>m})},1073:(Dt,Ne,k)=>{"use strict";k.d(Ne,{c:()=>ae});var m=k(4816),_=k(5044);function ae(pe){return(0,_.m)(pe[m.L])}},2317:(Dt,Ne,k)=>{"use strict";k.d(Ne,{T:()=>ae});var m=k(5497),_=k(5044);function ae(pe){return(0,_.m)(null==pe?void 0:pe[m.h])}},2442:(Dt,Ne,k)=>{"use strict";k.d(Ne,{t:()=>_});var m=k(5044);function _(ae){return(0,m.m)(null==ae?void 0:ae.then)}},7751:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Q:()=>ae,L:()=>pe});var m=k(9162),_=k(5044);function ae(ne){return(0,m.FC)(this,arguments,function*(){const ce=ne.getReader();try{for(;;){const{value:J,done:Te}=yield(0,m.qq)(ce.read());if(Te)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(J)}}finally{ce.releaseLock()}})}function pe(ne){return(0,_.m)(null==ne?void 0:ne.getReader)}},9947:(Dt,Ne,k)=>{"use strict";k.d(Ne,{A:()=>_,e:()=>ae});var m=k(5044);function _(pe){return(0,m.m)(null==pe?void 0:pe.lift)}function ae(pe){return ne=>{if(_(ne))return ne.lift(function(Ie){try{return pe(Ie,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},2937:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Z:()=>pe});var m=k(4753);const{isArray:_}=Array;function pe(ne){return(0,m.U)(Ie=>function(ne,Ie){return _(Ie)?ne(...Ie):ne(Ie)}(ne,Ie))}},5160:(Dt,Ne,k)=>{"use strict";k.d(Ne,{h:()=>ae});var m=k(5367),_=k(2496);function ae(pe){_.z.setTimeout(()=>{const{onUnhandledError:ne}=m.v;if(!ne)throw pe;ne(pe)})}},3754:(Dt,Ne,k)=>{"use strict";function m(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ne,{z:()=>m})},6636:(Dt,Ne,k)=>{"use strict";k.d(Ne,{J:()=>pe});var m=k(8305),_=k(3668),ae=k(7843);let pe=(()=>{class ne{constructor(ce){this.firebaseAuth=ce}isAuthenticated(){return new m.y(ce=>{this.firebaseAuth.authState.subscribe({next:J=>{ce.next(Boolean(J))},error:()=>ce.next(!1)})})}getUserInfo(){return this.firebaseAuth.authState}login(ce,J){return new m.y(Te=>{this.firebaseAuth.signInWithEmailAndPassword(ce,J).then(()=>{Te.next()}).catch(q=>{Te.error(q.message)})})}signup(ce,J){return new m.y(Te=>{this.firebaseAuth.createUserWithEmailAndPassword(ce,J).then(()=>{Te.next()}).catch(q=>{Te.error(q.message)})})}logout(){return new m.y(ce=>{this.firebaseAuth.signOut().then(()=>{ce.next()}).catch(()=>{ce.error()})})}}return ne.\u0275fac=function(ce){return new(ce||ne)(_.LFG(ae.zQ))},ne.\u0275prov=_.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},3339:(Dt,Ne,k)=>{"use strict";k.d(Ne,{b:()=>ae});var m=k(273),_=k(3668);let ae=(()=>{class pe{constructor(){this.loading=new m.x}ngOnInit(){this.loading.next(!1)}toggle(Ie){this.loading.next(Ie)}}return pe.\u0275fac=function(Ie){return new(Ie||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},259:(Dt,Ne,k)=>{"use strict";k.d(Ne,{_:()=>ae});var m=k(273),_=k(3668);let ae=(()=>{class pe{constructor(){this.listArr=[],this.list$=new m.x}ngOnInit(){}add(Ie){this.listArr.push(...Ie),this.list$.next(this.listArr)}update(Ie,ce){this.listArr.splice(Ie,1,ce),this.list$.next(this.listArr)}remove(Ie){const ce=[...this.listArr];ce.splice(Ie,1),this.listArr=ce,this.list$.next(ce)}}return pe.\u0275fac=function(Ie){return new(Ie||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},7524:(Dt,Ne,k)=>{"use strict";k.d(Ne,{K:()=>pe});var m=k(3668),_=k(6636),ae=k(1277);let pe=(()=>{class ne{constructor(ce,J){this.authService=ce,this.router=J}isAuthenticated(){return this.authService.isAuthenticated()}getUserInfo(){return this.authService.getUserInfo()}login(ce,J){return this.authService.login(ce,J)}signup(ce,J){return this.authService.signup(ce,J)}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/login"])}})}}return ne.\u0275fac=function(ce){return new(ce||ne)(m.LFG(_.J),m.LFG(ae.F0))},ne.\u0275prov=m.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},4519:(Dt,Ne,k)=>{"use strict";var m=k(6019),_=k(3668);class ae extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends ae{static makeCurrent(){(0,m.HT)(new pe)}onAndCancel(Q,B,le){return Q.addEventListener(B,le,!1),()=>{Q.removeEventListener(B,le,!1)}}dispatchEvent(Q,B){Q.dispatchEvent(B)}remove(Q){Q.parentNode&&Q.parentNode.removeChild(Q)}createElement(Q,B){return(B=B||this.getDefaultDocument()).createElement(Q)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Q){return Q.nodeType===Node.ELEMENT_NODE}isShadowRoot(Q){return Q instanceof DocumentFragment}getGlobalEventTarget(Q,B){return"window"===B?window:"document"===B?Q:"body"===B?Q.body:null}getBaseHref(Q){const B=(ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null);return null==B?null:function(z){ce=ce||document.createElement("a"),ce.setAttribute("href",z);const Q=ce.pathname;return"/"===Q.charAt(0)?Q:`/${Q}`}(B)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(Q){return(0,m.Mx)(document.cookie,Q)}}let ce,ne=null;const Te=new _.OlP("TRANSITION_ID"),te=[{provide:_.ip1,useFactory:function(z,Q,B){return()=>{B.get(_.CZH).donePromise.then(()=>{const le=(0,m.q)(),je=Q.querySelectorAll(`style[ng-transition="${z}"]`);for(let Lt=0;Lt<je.length;Lt++)le.remove(je[Lt])})}},deps:[Te,m.K0,_.zs3],multi:!0}];class ve{static init(){(0,_.VLi)(new ve)}addToWindow(Q){_.dqk.getAngularTestability=(le,je=!0)=>{const Lt=Q.findTestabilityInTree(le,je);if(null==Lt)throw new Error("Could not find testability for element.");return Lt},_.dqk.getAllAngularTestabilities=()=>Q.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Q.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(le=>{const je=_.dqk.getAllAngularTestabilities();let Lt=je.length,rn=!1;const nr=function(br){rn=rn||br,Lt--,0==Lt&&le(rn)};je.forEach(function(br){br.whenStable(nr)})})}findTestabilityInTree(Q,B,le){if(null==B)return null;const je=Q.getTestability(B);return null!=je?je:le?(0,m.q)().isShadowRoot(B)?this.findTestabilityInTree(Q,B.host,!0):this.findTestabilityInTree(Q,B.parentElement,!0):null}}let $e=(()=>{class z{build(){return new XMLHttpRequest}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();const X=new _.OlP("EventManagerPlugins");let ie=(()=>{class z{constructor(B,le){this._zone=le,this._eventNameToPlugin=new Map,B.forEach(je=>je.manager=this),this._plugins=B.slice().reverse()}addEventListener(B,le,je){return this._findPluginFor(le).addEventListener(B,le,je)}addGlobalEventListener(B,le,je){return this._findPluginFor(le).addGlobalEventListener(B,le,je)}getZone(){return this._zone}_findPluginFor(B){const le=this._eventNameToPlugin.get(B);if(le)return le;const je=this._plugins;for(let Lt=0;Lt<je.length;Lt++){const rn=je[Lt];if(rn.supports(B))return this._eventNameToPlugin.set(B,rn),rn}throw new Error(`No event manager plugin found for event ${B}`)}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(X),_.LFG(_.R0b))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();class ge{constructor(Q){this._doc=Q}addGlobalEventListener(Q,B,le){const je=(0,m.q)().getGlobalEventTarget(this._doc,Q);if(!je)throw new Error(`Unsupported event target ${je} for event ${B}`);return this.addEventListener(je,B,le)}}let xe=(()=>{class z{constructor(){this._stylesSet=new Set}addStyles(B){const le=new Set;B.forEach(je=>{this._stylesSet.has(je)||(this._stylesSet.add(je),le.add(je))}),this.onStylesAdded(le)}onStylesAdded(B){}getAllStyles(){return Array.from(this._stylesSet)}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})(),re=(()=>{class z extends xe{constructor(B){super(),this._doc=B,this._hostNodes=new Map,this._hostNodes.set(B.head,[])}_addStylesToHost(B,le,je){B.forEach(Lt=>{const rn=this._doc.createElement("style");rn.textContent=Lt,je.push(le.appendChild(rn))})}addHost(B){const le=[];this._addStylesToHost(this._stylesSet,B,le),this._hostNodes.set(B,le)}removeHost(B){const le=this._hostNodes.get(B);le&&le.forEach(vt),this._hostNodes.delete(B)}onStylesAdded(B){this._hostNodes.forEach((le,je)=>{this._addStylesToHost(B,je,le)})}ngOnDestroy(){this._hostNodes.forEach(B=>B.forEach(vt))}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(m.K0))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();function vt(z){(0,m.q)().remove(z)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bt=/%COMP%/g;function kt(z,Q,B){for(let le=0;le<Q.length;le++){let je=Q[le];Array.isArray(je)?kt(z,je,B):(je=je.replace(Bt,z),B.push(je))}return B}function Gt(z){return Q=>{if("__ngUnwrap__"===Q)return z;!1===z(Q)&&(Q.preventDefault(),Q.returnValue=!1)}}let pn=(()=>{class z{constructor(B,le,je){this.eventManager=B,this.sharedStylesHost=le,this.appId=je,this.rendererByCompId=new Map,this.defaultRenderer=new Un(B)}createRenderer(B,le){if(!B||!le)return this.defaultRenderer;switch(le.encapsulation){case _.ifc.Emulated:{let je=this.rendererByCompId.get(le.id);return je||(je=new Xn(this.eventManager,this.sharedStylesHost,le,this.appId),this.rendererByCompId.set(le.id,je)),je.applyToHost(B),je}case 1:case _.ifc.ShadowDom:return new Hn(this.eventManager,this.sharedStylesHost,B,le);default:if(!this.rendererByCompId.has(le.id)){const je=kt(le.id,le.styles,[]);this.sharedStylesHost.addStyles(je),this.rendererByCompId.set(le.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(ie),_.LFG(re),_.LFG(_.AFp))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();class Un{constructor(Q){this.eventManager=Q,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Q,B){return B?document.createElementNS(ht[B]||B,Q):document.createElement(Q)}createComment(Q){return document.createComment(Q)}createText(Q){return document.createTextNode(Q)}appendChild(Q,B){Q.appendChild(B)}insertBefore(Q,B,le){Q&&Q.insertBefore(B,le)}removeChild(Q,B){Q&&Q.removeChild(B)}selectRootElement(Q,B){let le="string"==typeof Q?document.querySelector(Q):Q;if(!le)throw new Error(`The selector "${Q}" did not match any elements`);return B||(le.textContent=""),le}parentNode(Q){return Q.parentNode}nextSibling(Q){return Q.nextSibling}setAttribute(Q,B,le,je){if(je){B=je+":"+B;const Lt=ht[je];Lt?Q.setAttributeNS(Lt,B,le):Q.setAttribute(B,le)}else Q.setAttribute(B,le)}removeAttribute(Q,B,le){if(le){const je=ht[le];je?Q.removeAttributeNS(je,B):Q.removeAttribute(`${le}:${B}`)}else Q.removeAttribute(B)}addClass(Q,B){Q.classList.add(B)}removeClass(Q,B){Q.classList.remove(B)}setStyle(Q,B,le,je){je&(_.JOm.DashCase|_.JOm.Important)?Q.style.setProperty(B,le,je&_.JOm.Important?"important":""):Q.style[B]=le}removeStyle(Q,B,le){le&_.JOm.DashCase?Q.style.removeProperty(B):Q.style[B]=""}setProperty(Q,B,le){Q[B]=le}setValue(Q,B){Q.nodeValue=B}listen(Q,B,le){return"string"==typeof Q?this.eventManager.addGlobalEventListener(Q,B,Gt(le)):this.eventManager.addEventListener(Q,B,Gt(le))}}class Xn extends Un{constructor(Q,B,le,je){super(Q),this.component=le;const Lt=kt(je+"-"+le.id,le.styles,[]);B.addStyles(Lt),this.contentAttr="_ngcontent-%COMP%".replace(Bt,je+"-"+le.id),this.hostAttr="_nghost-%COMP%".replace(Bt,je+"-"+le.id)}applyToHost(Q){super.setAttribute(Q,this.hostAttr,"")}createElement(Q,B){const le=super.createElement(Q,B);return super.setAttribute(le,this.contentAttr,""),le}}class Hn extends Un{constructor(Q,B,le,je){super(Q),this.sharedStylesHost=B,this.hostEl=le,this.shadowRoot=le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=kt(je.id,je.styles,[]);for(let rn=0;rn<Lt.length;rn++){const nr=document.createElement("style");nr.textContent=Lt[rn],this.shadowRoot.appendChild(nr)}}nodeOrShadowRoot(Q){return Q===this.hostEl?this.shadowRoot:Q}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Q,B){return super.appendChild(this.nodeOrShadowRoot(Q),B)}insertBefore(Q,B,le){return super.insertBefore(this.nodeOrShadowRoot(Q),B,le)}removeChild(Q,B){return super.removeChild(this.nodeOrShadowRoot(Q),B)}parentNode(Q){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Q)))}}let Rn=(()=>{class z extends ge{constructor(B){super(B)}supports(B){return!0}addEventListener(B,le,je){return B.addEventListener(le,je,!1),()=>this.removeEventListener(B,le,je)}removeEventListener(B,le,je){return B.removeEventListener(le,je)}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(m.K0))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();const sn=["alt","control","meta","shift"],cn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ot={alt:z=>z.altKey,control:z=>z.ctrlKey,meta:z=>z.metaKey,shift:z=>z.shiftKey};let Jn=(()=>{class z extends ge{constructor(B){super(B)}supports(B){return null!=z.parseEventName(B)}addEventListener(B,le,je){const Lt=z.parseEventName(le),rn=z.eventCallback(Lt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(B,Lt.domEventName,rn))}static parseEventName(B){const le=B.toLowerCase().split("."),je=le.shift();if(0===le.length||"keydown"!==je&&"keyup"!==je)return null;const Lt=z._normalizeKey(le.pop());let rn="";if(sn.forEach(br=>{const Oi=le.indexOf(br);Oi>-1&&(le.splice(Oi,1),rn+=br+".")}),rn+=Lt,0!=le.length||0===Lt.length)return null;const nr={};return nr.domEventName=je,nr.fullKey=rn,nr}static getEventFullKey(B){let le="",je=function(z){let Q=z.key;if(null==Q){if(Q=z.keyIdentifier,null==Q)return"Unidentified";Q.startsWith("U+")&&(Q=String.fromCharCode(parseInt(Q.substring(2),16)),3===z.location&&St.hasOwnProperty(Q)&&(Q=St[Q]))}return cn[Q]||Q}(B);return je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),sn.forEach(Lt=>{Lt!=je&&Ot[Lt](B)&&(le+=Lt+".")}),le+=je,le}static eventCallback(B,le,je){return Lt=>{z.getEventFullKey(Lt)===B&&je.runGuarded(()=>le(Lt))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(m.K0))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();const Ae=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:m.bD},{provide:_.g9A,useValue:function(){pe.makeCurrent(),ve.init()},multi:!0},{provide:m.K0,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),He=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:X,useClass:Rn,multi:!0,deps:[m.K0,_.R0b,_.Lbi]},{provide:X,useClass:Jn,multi:!0,deps:[m.K0]},[],{provide:pn,useClass:pn,deps:[ie,re,_.AFp]},{provide:_.FYo,useExisting:pn},{provide:xe,useExisting:re},{provide:re,useClass:re,deps:[m.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:ie,useClass:ie,deps:[X,_.R0b]},{provide:m.JF,useClass:$e,deps:[]},[]];let nt=(()=>{class z{constructor(B){if(B)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(B){return{ngModule:z,providers:[{provide:_.AFp,useValue:B.appId},{provide:Te,useExisting:_.AFp},te]}}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(z,12))},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({providers:He,imports:[m.ez,_.hGG]}),z})(),on=(()=>{class z{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(m.K0))},z.\u0275prov=_.Yz7({token:z,factory:function(B){let le=null;return le=B?new B:new on((0,_.LFG)(m.K0)),le},providedIn:"root"}),z})();"undefined"!=typeof window&&window;var Nn=k(7537),fe=k(1277);const Ge=[{path:"shopping-list",loadChildren:()=>k.e(787).then(k.bind(k,787)).then(z=>z.ShoppingListModule)},{path:"",loadChildren:()=>Promise.all([k.e(115),k.e(261)]).then(k.bind(k,3261)).then(z=>z.RecipeModule)}];let ft=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({imports:[[fe.Bz.forRoot(Ge)],fe.Bz]}),z})();var it=k(7524),Pn=k(259);const dn=["headerEl"];function ur(z,Q){if(1&z&&(_.O4$(),_.kcU(),_.TgZ(0,"span",16),_._uU(1),_.TgZ(2,"span",17),_._uU(3,"Shopping list item"),_.qZA(),_.qZA()),2&z){const B=_.oxw();_.xp6(1),_.hij(" ",B.shoppingListNo," ")}}function Mn(z,Q){if(1&z){const B=_.EpF();_.O4$(),_.kcU(),_.TgZ(0,"div",18),_.TgZ(1,"button",19),_.O4$(),_.TgZ(2,"svg",20),_._UZ(3,"path",21),_._UZ(4,"path",22),_.qZA(),_.qZA(),_.kcU(),_.TgZ(5,"ul",23),_.TgZ(6,"li"),_.TgZ(7,"a",24),_.NdJ("click",function(je){return _.CHM(B),_.oxw().logout(je)}),_._uU(8,"Sign out"),_.qZA(),_.qZA(),_.qZA(),_.qZA()}}function ir(z,Q){1&z&&(_.O4$(),_.kcU(),_.TgZ(0,"a",25),_._uU(1,"Login"),_.qZA())}let vi=(()=>{class z{constructor(B,le,je){this.userService=B,this.shoppingListService=le,this.router=je,this.shoppingListNo=0,this.showLoginBtn=!1}ngOnInit(){this.isLoggedIn=this.userService.isAuthenticated(),this.subscription=this.shoppingListService.list$.subscribe(B=>{this.shoppingListNo=B.length}),this.routeSubscription=this.router.events.subscribe(B=>{B instanceof fe.m2&&(this.showLoginBtn=!["/login","/signup"].includes(B.url))})}ngOnDestroy(){this.subscription.unsubscribe()}logout(B){B.preventDefault(),this.userService.logout()}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(it.K),_.Y36(Pn._),_.Y36(fe.F0))},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-header"]],viewQuery:function(B,le){if(1&B&&_.Gf(dn,7),2&B){let je;_.iGM(je=_.CRH())&&(le.headerEl=je.first)}},decls:19,vars:7,consts:[[1,"border-bottom","shadow-sm"],[1,"navbar"],[1,"container","d-flex"],[1,"navbar-header","me-sm-auto"],["routerLink","/",1,"navbar-brand","d-inline-flex","align-items-center","gap-2"],["headerEl",""],["xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-card-list"],["d","M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"],["d","M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"],[1,"d-inline-flex","align-items-center","gap-3"],["routerLink","/shopping-list",1,"p-0","btn","btn-default","position-relative"],["xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-basket2-fill",2,"font-size","1.5rem"],["d","M5.929 1.757a.5.5 0 1 0-.858-.514L2.217 6H.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h.623l1.844 6.456A.75.75 0 0 0 3.69 15h8.622a.75.75 0 0 0 .722-.544L14.877 8h.623a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1.717L10.93 1.243a.5.5 0 1 0-.858.514L12.617 6H3.383L5.93 1.757zM4 10a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0v-2zm3 0a1 1 0 0 1 2 0v2a1 1 0 1 1-2 0v-2zm4-1a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1z"],["class","\n              position-absolute\n              top-0\n              start-100\n              translate-middle\n              badge\n              rounded-pill\n              bg-danger\n            ",4,"ngIf"],["class","dropdown text-end",4,"ngIf"],["routerLink","/login","class","btn btn-primary btn-sm",4,"ngIf"],[1,"position-absolute","top-0","start-100","translate-middle","badge","rounded-pill","bg-danger"],[1,"visually-hidden"],[1,"dropdown","text-end"],["id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","d-block","link-dark","text-decoration-none","dropdown-toggle"],["xmlns","http://www.w3.org/2000/svg","width","1em","height","1em","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle","profile-icon"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","text-small","shadow-lg"],["href","#",1,"dropdown-item",3,"click"],["routerLink","/login",1,"btn","btn-primary","btn-sm"]],template:function(B,le){1&B&&(_.TgZ(0,"header",0),_.TgZ(1,"nav",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"a",4,5),_.O4$(),_.TgZ(6,"svg",6),_._UZ(7,"path",7),_._UZ(8,"path",8),_.qZA(),_._uU(9," Recipes Book "),_.qZA(),_.qZA(),_.kcU(),_.TgZ(10,"div",9),_.TgZ(11,"button",10),_.O4$(),_.TgZ(12,"svg",11),_._UZ(13,"path",12),_.qZA(),_.YNc(14,ur,4,1,"span",13),_.qZA(),_.YNc(15,Mn,9,0,"div",14),_.ALo(16,"async"),_.YNc(17,ir,2,0,"a",15),_.ALo(18,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&B&&(_.xp6(14),_.Q6J("ngIf",le.shoppingListNo),_.xp6(1),_.Q6J("ngIf",_.lcZ(16,3,le.isLoggedIn)),_.xp6(2),_.Q6J("ngIf",le.showLoginBtn&&!_.lcZ(18,5,le.isLoggedIn)))},directives:[fe.yS,fe.rH,m.O5],pipes:[m.Ov],styles:[".dropdown-menu[_ngcontent-%COMP%]{right:0;margin:0}.dropdown-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;vertical-align:middle}.dropdown-menu[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#fff;z-index:1}.profile-icon[_ngcontent-%COMP%]{font-size:1.5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:bold;color:#333}"]}),z})();var ni=k(3339);function Vr(z,Q){1&z&&(_.TgZ(0,"div",1),_.TgZ(1,"p"),_._uU(2,"Loading..."),_.qZA(),_.qZA())}let kn=(()=>{class z{constructor(B){this.loadingService=B}ngOnInit(){}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(ni.b))},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-loading"]],decls:2,vars:3,consts:[["class","d-flex align-items-center justify-content-center",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center"]],template:function(B,le){1&B&&(_.YNc(0,Vr,3,0,"div",0),_.ALo(1,"async")),2&B&&_.Q6J("ngIf",_.lcZ(1,1,le.loadingService.loading))},directives:[m.O5],pipes:[m.Ov],styles:["div[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:2}"]}),z})(),ts=(()=>{class z{constructor(){}ngOnInit(){}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"border-top","text-center","pt-2","pb-2","shadow-sm"],["target","_blank","rel","noreferer nopopener","href","https://www.becalm.icu/me"]],template:function(B,le){1&B&&(_.TgZ(0,"footer",0),_.TgZ(1,"small"),_._uU(2,"Created with \u2764\ufe0f by "),_.TgZ(3,"a",1),_._uU(4,"me."),_.qZA(),_._uU(5," Angular"),_.qZA(),_.qZA())},styles:["footer[_ngcontent-%COMP%]{background-color:#fff}"]}),z})(),Dr=(()=>{class z{constructor(){this.title="udemy-recipe"}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-root"]],decls:5,vars:0,template:function(B,le){1&B&&(_._UZ(0,"app-header"),_.TgZ(1,"main"),_._UZ(2,"router-outlet"),_.qZA(),_._UZ(3,"app-loading"),_._UZ(4,"app-footer"))},directives:[vi,fe.lC,kn,ts],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 104px)}"]}),z})();var Hr=k(6636),cr=k(273);const Oe=[{path:"login",component:(()=>{class z{constructor(B,le){this.userService=B,this.router=le,this.loading=new cr.x,this.errorMessage=new cr.x}ngOnInit(){}login(B){const le=B.form.value;this.loading.next(!0),this.errorMessage.next("");const je=this.userService.login(le.email,le.password).subscribe({next:()=>{this.router.navigate(["/"]),this.loading.next(!1),je.unsubscribe()},error:Lt=>{this.loading.next(!1),this.errorMessage.next(`${Lt} Please try again.`),je.unsubscribe()},complete(){je.unsubscribe()}})}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(it.K),_.Y36(fe.F0))},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-login"]],decls:35,vars:9,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col","col-md-8","col-lg-6"],[1,"card","shadow-lg","rounded-3","p-5","mt-5"],[1,"card-body"],[1,"mb-3"],[1,"",3,"ngSubmit"],["f","ngForm"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","ngModel","","name","email","placeholder","example@example.com","required","",1,"form-control","form-control-sm"],[1,"invalid-feedback"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","ngModel","","name","password","required","",1,"form-control","form-control-sm"],[1,"d-block","invalid-feedback"],[1,"text-end"],["routerLink","/signup"],["type","submit",1,"btn","btn-primary","btn-sm","ms-3",3,"disabled"]],template:function(B,le){if(1&B){const je=_.EpF();_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h1",5),_._uU(6,"Login"),_.qZA(),_.TgZ(7,"form",6,7),_.NdJ("ngSubmit",function(){_.CHM(je);const rn=_.MAs(8);return le.login(rn)}),_.TgZ(9,"div",5),_.TgZ(10,"label",8),_._uU(11,"Email address"),_.qZA(),_._UZ(12,"input",9),_.TgZ(13,"div",10),_._uU(14,"This field is mandatory"),_.qZA(),_.qZA(),_.TgZ(15,"div",5),_.TgZ(16,"label",11),_._uU(17,"Password"),_.qZA(),_._UZ(18,"input",12),_.TgZ(19,"div",10),_._uU(20,"This field is mandatory"),_.qZA(),_.qZA(),_.TgZ(21,"p",13),_._uU(22),_.ALo(23,"async"),_.qZA(),_.TgZ(24,"div",14),_.TgZ(25,"span"),_._uU(26,"Doesn't have account yet?"),_.qZA(),_.TgZ(27,"span"),_._uU(28,"\xa0"),_.qZA(),_.TgZ(29,"a",15),_._uU(30,"Signup"),_.qZA(),_.TgZ(31,"button",16),_.ALo(32,"async"),_._uU(33),_.ALo(34,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&B){const je=_.MAs(8);_.xp6(22),_.Oqu(_.lcZ(23,3,le.errorMessage)),_.xp6(9),_.Q6J("disabled",!je.valid||_.lcZ(32,5,le.loading)),_.xp6(2),_.hij(" ",_.lcZ(34,7,le.loading)?"Logging in":"Login"," ")}},directives:[Nn._Y,Nn.JL,Nn.F,Nn.Fj,Nn.JJ,Nn.On,Nn.Q7,fe.yS],pipes:[m.Ov],styles:[""]}),z})()},{path:"signup",component:(()=>{class z{constructor(B,le){this.userService=B,this.router=le,this.loading=new cr.x,this.errorMessage=new cr.x}ngOnInit(){}signup(B){const le=B.form.value;this.loading.next(!0),this.errorMessage.next("");const je=this.userService.signup(le.email,le.password).subscribe({next:()=>{this.router.navigate(["/login"]),this.loading.next(!1),je.unsubscribe()},error:Lt=>{this.loading.next(!1),this.errorMessage.next(`${Lt} Please try again.`),je.unsubscribe()},complete(){je.unsubscribe()}})}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(it.K),_.Y36(fe.F0))},z.\u0275cmp=_.Xpm({type:z,selectors:[["app-signup"]],decls:30,vars:6,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col","col-md-8","col-lg-6"],[1,"card","shadow-lg","rounded-3","p-5","mt-5"],[1,"card-body"],[1,"mb-3"],[3,"ngSubmit"],["f","ngForm"],["for","exampleInputEmail1",1,"form-label"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","ngModel","","name","email","required","",1,"form-control"],["for","exampleInputPassword1",1,"form-label"],["type","password","id","exampleInputPassword1","ngModel","","name","password","required","",1,"form-control"],[1,"d-block","invalid-feedback"],[1,"text-end"],["routerLink","/login"],["type","submit",1,"btn","btn-primary","btn-sm","ms-3",3,"disabled"]],template:function(B,le){if(1&B){const je=_.EpF();_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_.TgZ(3,"div",3),_.TgZ(4,"div",4),_.TgZ(5,"h1",5),_._uU(6,"Signup"),_.qZA(),_.TgZ(7,"form",6,7),_.NdJ("ngSubmit",function(){_.CHM(je);const rn=_.MAs(8);return le.signup(rn)}),_.TgZ(9,"div",5),_.TgZ(10,"label",8),_._uU(11,"Email address"),_.qZA(),_._UZ(12,"input",9),_.qZA(),_.TgZ(13,"div",5),_.TgZ(14,"label",10),_._uU(15,"Password"),_.qZA(),_._UZ(16,"input",11),_.qZA(),_.TgZ(17,"p",12),_._uU(18),_.ALo(19,"async"),_.qZA(),_.TgZ(20,"div",13),_.TgZ(21,"span"),_._uU(22,"Already have an account?"),_.qZA(),_.TgZ(23,"span"),_._uU(24,"\xa0"),_.qZA(),_.TgZ(25,"a",14),_._uU(26,"Login"),_.qZA(),_.TgZ(27,"button",15),_.ALo(28,"async"),_._uU(29," Submit "),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&B){const je=_.MAs(8);_.xp6(18),_.Oqu(_.lcZ(19,2,le.errorMessage)),_.xp6(9),_.Q6J("disabled",!je.valid||_.lcZ(28,4,le.loading))}},directives:[Nn._Y,Nn.JL,Nn.F,Nn.Fj,Nn.JJ,Nn.On,Nn.Q7,fe.yS],pipes:[m.Ov],styles:[""]}),z})()}];let Qe=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({providers:[Hr.J],imports:[[m.ez,Nn.u5,fe.Bz.forChild(Oe)]]}),z})();var mt=k(3590);const Ft_firebase={projectId:"recipe-angular-33811",appId:"1:839076005943:web:55855539e85e8803d957b2",storageBucket:"recipe-angular-33811.appspot.com",apiKey:"AIzaSyB_Dq287kl-HvapgNxbXWRrTUyjQy9dGZU",authDomain:"recipe-angular-33811.firebaseapp.com",messagingSenderId:"839076005943",measurementId:"G-76G5ZHS475"};var jt=k(2049),jn=k(2997),mn=k(461),Rr=k(3067),yr=k(4753),Ur=k(8305),xr=k(9985),Wr=k(9947),Hs=k(8889);class Ri extends Hs.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}var xi=k(5724),Vi=k(5488),Ts=k(3970),Wi=k(7518),zi=k(7713),gs=k(4762),As=k(6621),Ui=k(7798),di=k(6972);function hi(z){return new Ur.y(function(Q){return{unsubscribe:(0,di.t)(z,Q.next.bind(Q),Q.error.bind(Q),Q.complete.bind(Q))}})}k(4213),k(1572),k(3855),k(1177);class Ii{constructor(Q){return Q}}class ri{constructor(){return(0,jt.vb)("auth")}}const Nr=new _.OlP("angularfire2.auth-instances");function fi(z){return(Q,B)=>{const le=Q.runOutsideAngular(()=>z(B));return new Ii(le)}}const Bi={provide:ri,deps:[[new _.FiY,Nr]]},Gn={provide:Ii,useFactory:function(z,Q){const B=(0,jt.JM)("auth",z,Q);return B&&new Ii(B)},deps:[[new _.FiY,Nr],mt.Ot]};let rs=(()=>{class z{constructor(){(0,zi.KN)("angularfire",jt.q4.full,"auth")}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({providers:[Gn,Bi]}),z})();function Ki(z,...Q){return{ngModule:rs,providers:[{provide:Nr,useFactory:fi(z),multi:!0,deps:[_.R0b,_.zs3,jt.HU,mt.z6,[new _.FiY,Ui.nm],...Q]}]}}const Tr=(0,jt.u3)(hi,!0),R=(0,jt.u3)(di.n,!0);class Ms{constructor(Q){return Q}}const ya="analytics",no=jt.nk.async,zo=(0,jt.u3)(As.IH,!0),Bu=(0,jt.u3)(As.Kz,!0),qo=(0,jt.u3)(As.Iv,!0);let So=(()=>{class z{constructor(B,le,je){let Lt;this.disposables=[],(0,zi.KN)("angularfire",jt.q4.full,"user-tracking"),this.initialized=le.runOutsideAngular(()=>new Promise(rn=>{Lt=rn})),no().then(()=>{const rn=je.get(Ms);rn?this.disposables=[Tr(B).subscribe(nr=>{qo(rn,null==nr?void 0:nr.uid),Lt()})]:Lt()})}ngOnDestroy(){this.disposables.forEach(B=>B.unsubscribe())}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(Ii),_.LFG(_.R0b),_.LFG(_.zs3))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();const Pr="firebase_screen_id",Mo="outlet",Yo="screen_class",mu="screen_name";let Qo=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const gi={},ju=z=>{const Q=[z[Yo],z[Mo]].join("#");if(gi.hasOwnProperty(Q))return gi[Q];{const B=Qo++;return gi[Q]=B,B}};let Is=(()=>{class z{constructor(B,le,je,Lt,rn,nr){(0,zi.KN)("angularfire",jt.q4.full,"screen-tracking"),no().then(()=>{const br=nr.get(Ms);!B||!br||Lt.runOutsideAngular(()=>{this.disposable=((z,Q,B)=>z.events.pipe((0,mn.h)(je=>je instanceof fe.jw)).pipe((0,Rr.w)(je=>{var Lt;const nr=(null===(Lt=z.parseUrl(z.url.replace(/(?:\().+(?:\))/g,hr=>hr.replace("://",":///"))).root.children[je.snapshot.outlet])||void 0===Lt?void 0:Lt.toString())||"",br=z.routerState.root.children.map(hr=>hr).find(hr=>hr.outlet===je.snapshot.outlet);if(!br)return(0,jn.of)(null);let Oi=br;for(;Oi.firstChild;)Oi=Oi.firstChild;const hs=Oi.pathFromRoot.map(hr=>{var Lr;return null===(Lr=hr.routeConfig)||void 0===Lr?void 0:Lr.path}).filter(hr=>hr).join("/")||"/",ko={[mu]:hs,page_path:`/${nr}`,firebase_event_origin:"auto",firebase_screen:hs,[Mo]:je.snapshot.outlet};Q&&(ko.page_title=Q.getTitle());let Qr=br.component;if(Qr){if(Qr===fe.fw){let hr=je.snapshot;for(;hr.firstChild;)hr=hr.firstChild;Qr=hr.component}}else Qr=je.snapshot.component;if("string"==typeof Qr)return(0,jn.of)(Object.assign(Object.assign({},ko),{[Yo]:Qr}));if(Qr){const hr=B.resolveComponentFactory(Qr);return(0,jn.of)(Object.assign(Object.assign({},ko),{[Yo]:hr.selector}))}return(0,jn.of)(null)}),(0,mn.h)(je=>!!je),(0,yr.U)(je=>Object.assign({firebase_screen_class:je[Yo],[Pr]:ju(je)},je)),function(z,Q,B,le){return(0,Wr.e)((je,Lt)=>{let rn;Q&&"function"!=typeof Q?({duration:B,element:rn,connector:le}=Q):rn=Q;const nr=new Map,br=Qr=>{nr.forEach(Qr),Qr(Lt)},Oi=Qr=>br(hr=>hr.error(Qr)),hs=new Ri(Lt,Qr=>{try{const hr=z(Qr);let Lr=nr.get(hr);if(!Lr){nr.set(hr,Lr=le?le():new cr.x);const uo=function(Qr,hr){const Lr=new Ur.y(uo=>{hs.activeGroups++;const Ps=hr.subscribe(uo);return()=>{Ps.unsubscribe(),0==--hs.activeGroups&&hs.teardownAttempted&&hs.unsubscribe()}});return Lr.key=Qr,Lr}(hr,Lr);if(Lt.next(uo),B){const Ps=new Hs.Q(Lr,()=>{Lr.complete(),null==Ps||Ps.unsubscribe()},void 0,void 0,()=>nr.delete(hr));hs.add((0,xr.Xf)(B(uo)).subscribe(Ps))}}Lr.next(rn?rn(Qr):Qr)}catch(hr){Oi(hr)}},()=>br(Qr=>Qr.complete()),Oi,()=>nr.clear());je.subscribe(hs)})}(je=>je[Mo]),(0,xi.z)(je=>je.pipe((0,Vi.x)((Lt,rn)=>JSON.stringify(Lt)===JSON.stringify(rn)),(0,Ts.O)(void 0),(0,Wi.G)(),(0,yr.U)(([Lt,rn])=>Lt?Object.assign({firebase_previous_class:Lt[Yo],firebase_previous_screen:Lt[mu],firebase_previous_id:Lt[Pr]},rn):rn)))))(B,le,je).pipe((0,Rr.w)(Oi=>(0,gs.mG)(this,void 0,void 0,function*(){return rn&&(yield rn.initialized),Bu(br,"screen_view",Oi)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(fe.F0,8),_.LFG(on,8),_.LFG(_._Vd),_.LFG(_.R0b),_.LFG(So,8),_.LFG(_.zs3))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac}),z})();const ws=new _.OlP("angularfire2.analytics-instances");function Gs(z){return(Q,B)=>{if(!jt.nk.sync())return null;const le=Q.runOutsideAngular(()=>z(B));return new Ms(le)}}const Zr={provide:class{constructor(){return(0,jt.vb)(ya)}},deps:[[new _.FiY,ws]]},po={provide:Ms,useFactory:function(z,Q){if(!jt.nk.sync())return null;const B=(0,jt.JM)(ya,z,Q);return B&&new Ms(B)},deps:[[new _.FiY,ws],mt.Ot]};let io=(()=>{class z{constructor(B,le){(0,zi.KN)("angularfire",jt.q4.full,"analytics")}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(Is,8),_.LFG(So,8))},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({providers:[po,Zr,{provide:_.ip1,useValue:jt.nk.async,multi:!0}]}),z})();function La(z,...Q){return{ngModule:io,providers:[{provide:ws,useFactory:Gs(z),multi:!0,deps:[_.R0b,_.zs3,jt.HU,mt.z6,...Q]}]}}var _c=k(7905),At=k(7843),ii=k(5023);class mi{constructor(Q){return Q}}const so="firestore",oo=new _.OlP("angularfire2.firestore-instances");function Ke(z){return(Q,B)=>{const le=Q.runOutsideAngular(()=>z(B));return new mi(le)}}const _t={provide:class{constructor(){return(0,jt.vb)(so)}},deps:[[new _.FiY,oo]]},Br={provide:mi,useFactory:function(z,Q){const B=(0,jt.JM)(so,z,Q);return B&&new mi(B)},deps:[[new _.FiY,oo],mt.Ot]};let Va=(()=>{class z{constructor(){(0,zi.KN)("angularfire",jt.q4.full,"fst")}}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({providers:[Br,_t]}),z})();function yu(z,...Q){return{ngModule:Va,providers:[{provide:oo,useFactory:Ke(z),multi:!0,deps:[_.R0b,_.zs3,jt.HU,mt.z6,[new _.FiY,ri],[new _.FiY,Ui.nm],...Q]}]}}const nn=(0,jt.u3)(ii.ad,!0);let dl=(()=>{class z{}return z.\u0275fac=function(B){return new(B||z)},z.\u0275mod=_.oAB({type:z,bootstrap:[Dr]}),z.\u0275inj=_.cJS({providers:[Is,So,{provide:At.L6,useValue:{appVerificationDisabledForTesting:!0}}],imports:[[nt,m.ez,Nn.u5,Qe,ft,_c.hO.initializeApp(Ft_firebase),(0,mt.hX)(()=>(0,mt.ZF)(Ft_firebase)),yu(()=>nn()),La(()=>zo()),Ki(()=>R())]]}),z})();(0,_.G48)(),Ae().bootstrapModule(dl).catch(z=>console.error(z))},9162:(Dt,Ne,k)=>{"use strict";function J(Z,X,ie,ge){return new(ie||(ie=Promise))(function(re,vt){function ht(et){try{tt(ge.next(et))}catch(Mt){vt(Mt)}}function Bt(et){try{tt(ge.throw(et))}catch(Mt){vt(Mt)}}function tt(et){et.done?re(et.value):function(re){return re instanceof ie?re:new ie(function(vt){vt(re)})}(et.value).then(ht,Bt)}tt((ge=ge.apply(Z,X||[])).next())})}function Le(Z){return this instanceof Le?(this.v=Z,this):new Le(Z)}function Ee(Z,X,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ge=ie.apply(Z,X||[]),re=[];return xe={},vt("next"),vt("throw"),vt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function vt(Ut){ge[Ut]&&(xe[Ut]=function(an){return new Promise(function(wn,kt){re.push([Ut,an,wn,kt])>1||ht(Ut,an)})})}function ht(Ut,an){try{!function(Ut){Ut.value instanceof Le?Promise.resolve(Ut.value.v).then(tt,et):Mt(re[0][2],Ut)}(ge[Ut](an))}catch(wn){Mt(re[0][3],wn)}}function tt(Ut){ht("next",Ut)}function et(Ut){ht("throw",Ut)}function Mt(Ut,an){Ut(an),re.shift(),re.length&&ht(re[0][0],re[0][1])}}function Ue(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,X=Z[Symbol.asyncIterator];return X?X.call(Z):(Z=function(Z){var X="function"==typeof Symbol&&Symbol.iterator,ie=X&&Z[X],ge=0;if(ie)return ie.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ge>=Z.length&&(Z=void 0),{value:Z&&Z[ge++],done:!Z}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ie={},ge("next"),ge("throw"),ge("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ge(re){ie[re]=Z[re]&&function(vt){return new Promise(function(ht,Bt){!function(re,vt,ht,Bt){Promise.resolve(Bt).then(function(tt){re({value:tt,done:ht})},vt)}(ht,Bt,(vt=Z[re](vt)).done,vt.value)})}}}k.d(Ne,{mG:()=>J,qq:()=>Le,FC:()=>Ee,KL:()=>Ue})},4762:(Dt,Ne,k)=>{"use strict";function pe(Z,X){var ie={};for(var ge in Z)Object.prototype.hasOwnProperty.call(Z,ge)&&X.indexOf(ge)<0&&(ie[ge]=Z[ge]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ge=Object.getOwnPropertySymbols(Z);xe<ge.length;xe++)X.indexOf(ge[xe])<0&&Object.prototype.propertyIsEnumerable.call(Z,ge[xe])&&(ie[ge[xe]]=Z[ge[xe]])}return ie}function J(Z,X,ie,ge){return new(ie||(ie=Promise))(function(re,vt){function ht(et){try{tt(ge.next(et))}catch(Mt){vt(Mt)}}function Bt(et){try{tt(ge.throw(et))}catch(Mt){vt(Mt)}}function tt(et){et.done?re(et.value):function(re){return re instanceof ie?re:new ie(function(vt){vt(re)})}(et.value).then(ht,Bt)}tt((ge=ge.apply(Z,X||[])).next())})}k.d(Ne,{_T:()=>pe,mG:()=>J})},6019:(Dt,Ne,k)=>{"use strict";k.d(Ne,{mr:()=>Pe,Ov:()=>Vi,ez:()=>fi,K0:()=>ce,Do:()=>Re,V_:()=>q,Ye:()=>at,S$:()=>Le,sg:()=>Dr,O5:()=>De,PC:()=>yr,b0:()=>Ue,lw:()=>J,EM:()=>eo,JF:()=>wi,PM:()=>fr,w_:()=>Ie,bD:()=>Bi,q:()=>ae,Mx:()=>ni,HT:()=>ne});var m=k(3668);let _=null;function ae(){return _}function ne(R){_||(_=R)}class Ie{}const ce=new m.OlP("DocumentToken");let J=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=m.Yz7({token:R,factory:function(){return(0,m.LFG)(te)},providedIn:"platform"}),R})();const q=new m.OlP("Location Initialized");let te=(()=>{class R extends J{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(N){const $=ae().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",N,!1),()=>$.removeEventListener("popstate",N)}onHashChange(N){const $=ae().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",N,!1),()=>$.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,$,de){ve()?this._history.pushState(N,$,de):this.location.hash=de}replaceState(N,$,de){ve()?this._history.replaceState(N,$,de):this.location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return R.\u0275fac=function(N){return new(N||R)(m.LFG(ce))},R.\u0275prov=m.Yz7({token:R,factory:function(){return new te((0,m.LFG)(ce))},providedIn:"platform"}),R})();function ve(){return!!window.history.pushState}function Ve(R,U){if(0==R.length)return U;if(0==U.length)return R;let N=0;return R.endsWith("/")&&N++,U.startsWith("/")&&N++,2==N?R+U.substring(1):1==N?R+U:R+"/"+U}function ot(R){const U=R.match(/#|\?|$/),N=U&&U.index||R.length;return R.slice(0,N-("/"===R[N-1]?1:0))+R.slice(N)}function ut(R){return R&&"?"!==R[0]?"?"+R:R}let Le=(()=>{class R{historyGo(N){throw new Error("Not implemented")}}return R.\u0275fac=function(N){return new(N||R)},R.\u0275prov=m.Yz7({token:R,factory:function(){return function(R){const U=(0,m.LFG)(ce).location;return new Ue((0,m.LFG)(J),U&&U.origin||"")}()},providedIn:"root"}),R})();const Pe=new m.OlP("appBaseHref");let Ue=(()=>{class R extends Le{constructor(N,$){if(super(),this._platformLocation=N,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ve(this._baseHref,N)}path(N=!1){const $=this._platformLocation.pathname+ut(this._platformLocation.search),de=this._platformLocation.hash;return de&&N?`${$}${de}`:$}pushState(N,$,de,Ye){const ct=this.prepareExternalUrl(de+ut(Ye));this._platformLocation.pushState(N,$,ct)}replaceState(N,$,de,Ye){const ct=this.prepareExternalUrl(de+ut(Ye));this._platformLocation.replaceState(N,$,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var $,de;null==(de=($=this._platformLocation).historyGo)||de.call($,N)}}return R.\u0275fac=function(N){return new(N||R)(m.LFG(J),m.LFG(Pe,8))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})(),Re=(()=>{class R extends Le{constructor(N,$){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(N){const $=Ve(this._baseHref,N);return $.length>0?"#"+$:$}pushState(N,$,de,Ye){let ct=this.prepareExternalUrl(de+ut(Ye));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(N,$,ct)}replaceState(N,$,de,Ye){let ct=this.prepareExternalUrl(de+ut(Ye));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(N,$,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(N=0){var $,de;null==(de=($=this._platformLocation).historyGo)||de.call($,N)}}return R.\u0275fac=function(N){return new(N||R)(m.LFG(J),m.LFG(Pe,8))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})(),at=(()=>{class R{constructor(N,$){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=N;const de=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=ot(Ce(de)),this._platformStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}path(N=!1){return this.normalize(this._platformStrategy.path(N))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(N,$=""){return this.path()==this.normalize(N+ut($))}normalize(N){return R.stripTrailingSlash(function(R,U){return R&&U.startsWith(R)?U.substring(R.length):U}(this._baseHref,Ce(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._platformStrategy.prepareExternalUrl(N)}go(N,$="",de=null){this._platformStrategy.pushState(de,"",N,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ut($)),de)}replaceState(N,$="",de=null){this._platformStrategy.replaceState(de,"",N,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ut($)),de)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(N=0){var $,de;null==(de=($=this._platformStrategy).historyGo)||de.call($,N)}onUrlChange(N){this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(N="",$){this._urlChangeListeners.forEach(de=>de(N,$))}subscribe(N,$,de){return this._subject.subscribe({next:N,error:$,complete:de})}}return R.normalizeQueryParams=ut,R.joinWithSlash=Ve,R.stripTrailingSlash=ot,R.\u0275fac=function(N){return new(N||R)(m.LFG(Le),m.LFG(J))},R.\u0275prov=m.Yz7({token:R,factory:function(){return new at((0,m.LFG)(Le),(0,m.LFG)(J))},providedIn:"root"}),R})();function Ce(R){return R.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Zero=0]="Zero",X[X.One=1]="One",X[X.Two=2]="Two",X[X.Few=3]="Few",X[X.Many=4]="Many",X[X.Other=5]="Other",X))();const Hn=m.kL8;class ur{}let ir=(()=>{class R extends ur{constructor(N){super(),this.locale=N}getPluralCategory(N,$){switch(Hn($||this.locale)(N)){case X.Zero:return"zero";case X.One:return"one";case X.Two:return"two";case X.Few:return"few";case X.Many:return"many";default:return"other"}}}return R.\u0275fac=function(N){return new(N||R)(m.LFG(m.soG))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac}),R})();function ni(R,U){U=encodeURIComponent(U);for(const N of R.split(";")){const $=N.indexOf("="),[de,Ye]=-1==$?[N,""]:[N.slice(0,$),N.slice($+1)];if(de.trim()===U)return decodeURIComponent(Ye)}return null}class ts{constructor(U,N,$,de){this.$implicit=U,this.ngForOf=N,this.index=$,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class R{constructor(N,$,de){this._viewContainer=N,this._template=$,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;if(!this._differ&&N)try{this._differ=this._differs.find(N).create(this.ngForTrackBy)}catch($){throw new Error(`Cannot find a differ supporting object '${N}' of type '${function(R){return R.name||typeof R}(N)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const $=[];N.forEachOperation((de,Ye,ct)=>{if(null==de.previousIndex){const Wt=this._viewContainer.createEmbeddedView(this._template,new ts(null,this._ngForOf,-1,-1),null===ct?void 0:ct),P=new Hr(de,Wt);$.push(P)}else if(null==ct)this._viewContainer.remove(null===Ye?void 0:Ye);else if(null!==Ye){const Wt=this._viewContainer.get(Ye);this._viewContainer.move(Wt,ct);const P=new Hr(de,Wt);$.push(P)}});for(let de=0;de<$.length;de++)this._perViewChange($[de].view,$[de].record);for(let de=0,Ye=this._viewContainer.length;de<Ye;de++){const ct=this._viewContainer.get(de);ct.context.index=de,ct.context.count=Ye,ct.context.ngForOf=this._ngForOf}N.forEachIdentityChange(de=>{this._viewContainer.get(de.currentIndex).context.$implicit=de.item})}_perViewChange(N,$){N.context.$implicit=$.item}static ngTemplateContextGuard(N,$){return!0}}return R.\u0275fac=function(N){return new(N||R)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},R.\u0275dir=m.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();class Hr{constructor(U,N){this.record=U,this.view=N}}let De=(()=>{class R{constructor(N,$){this._viewContainer=N,this._context=new we,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Oe("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Oe("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,$){return!0}}return R.\u0275fac=function(N){return new(N||R)(m.Y36(m.s_b),m.Y36(m.Rgc))},R.\u0275dir=m.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class we{constructor(){this.$implicit=null,this.ngIf=null}}function Oe(R,U){if(U&&!U.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,m.AaK)(U)}'.`)}let yr=(()=>{class R{constructor(N,$,de){this._ngEl=N,this._differs=$,this._renderer=de,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,$){const[de,Ye]=N.split(".");null!=($=null!=$&&Ye?`${$}${Ye}`:$)?this._renderer.setStyle(this._ngEl.nativeElement,de,$):this._renderer.removeStyle(this._ngEl.nativeElement,de)}_applyChanges(N){N.forEachRemovedItem($=>this._setStyle($.key,null)),N.forEachAddedItem($=>this._setStyle($.key,$.currentValue)),N.forEachChangedItem($=>this._setStyle($.key,$.currentValue))}}return R.\u0275fac=function(N){return new(N||R)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},R.\u0275dir=m.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),R})();class Hs{createSubscription(U,N){return U.subscribe({next:N,error:$=>{throw $}})}dispose(U){U.unsubscribe()}onDestroy(U){U.unsubscribe()}}class li{createSubscription(U,N){return U.then(N,$=>{throw $})}dispose(U){}onDestroy(U){}}const Ri=new li,xi=new Hs;let Vi=(()=>{class R{constructor(N){this._ref=N,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,$=>this._updateLatestValue(N,$))}_selectStrategy(N){if((0,m.QGY)(N))return Ri;if((0,m.F4k)(N))return xi;throw function(R,U){return Error(`InvalidPipeArgument: '${U}' for pipe '${(0,m.AaK)(R)}'`)}(R,N)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,$){N===this._obj&&(this._latestValue=$,this._ref.markForCheck())}}return R.\u0275fac=function(N){return new(N||R)(m.Y36(m.sBO,16))},R.\u0275pipe=m.Yjl({name:"async",type:R,pure:!1}),R})(),fi=(()=>{class R{}return R.\u0275fac=function(N){return new(N||R)},R.\u0275mod=m.oAB({type:R}),R.\u0275inj=m.cJS({providers:[{provide:ur,useClass:ir}]}),R})();const Bi="browser";function fr(R){return"server"===R}let eo=(()=>{class R{}return R.\u0275prov=(0,m.Yz7)({token:R,providedIn:"root",factory:()=>new ys((0,m.LFG)(ce),window)}),R})();class ys{constructor(U,N){this.document=U,this.window=N,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const N=function(R,U){const N=R.getElementById(U)||R.getElementsByName(U)[0];if(N)return N;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const $=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let de=$.currentNode;for(;de;){const Ye=de.shadowRoot;if(Ye){const ct=Ye.getElementById(U)||Ye.querySelector(`[name="${U}"]`);if(ct)return ct}de=$.nextNode()}}return null}(this.document,U);N&&(this.scrollToElement(N),this.attemptFocus(N))}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=U)}}scrollToElement(U){const N=U.getBoundingClientRect(),$=N.left+this.window.pageXOffset,de=N.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo($-Ye[0],de-Ye[1])}attemptFocus(U){return U.focus(),this.document.activeElement===U}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=to(this.window.history)||to(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch(U){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(U){return!1}}}function to(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class wi{}},3668:(Dt,Ne,k)=>{"use strict";k.d(Ne,{deG:()=>ja,tb:()=>q0,AFp:()=>z0,ip1:()=>L_,CZH:()=>xh,hGG:()=>IT,z2F:()=>Sp,sBO:()=>zb,Sil:()=>B_,_Vd:()=>Th,EJc:()=>Y0,SBq:()=>Vu,qLn:()=>yt,vpe:()=>Uu,tBr:()=>za,XFs:()=>Ct,OlP:()=>kr,zs3:()=>ei,ZZ4:()=>Bm,aQg:()=>jm,soG:()=>Fm,YKP:()=>r0,h0i:()=>pd,PXZ:()=>Lb,R0b:()=>da,FiY:()=>_o,Lbi:()=>K0,g9A:()=>G0,Qsj:()=>ZC,FYo:()=>Mm,JOm:()=>Js,Tiy:()=>E_,q3G:()=>Si,tp0:()=>Fs,Rgc:()=>Tp,dDg:()=>tI,q4F:()=>I_,GfV:()=>e0,s_b:()=>Om,ifc:()=>St,eFA:()=>oI,G48:()=>Rb,Gpc:()=>te,X6Q:()=>z_,_c5:()=>pT,VLi:()=>Mb,c2e:()=>Z0,zSh:()=>Wc,wAp:()=>Tn,vHH:()=>ot,EiD:()=>jp,mCW:()=>Y,qzn:()=>Ji,JVY:()=>Il,pB0:()=>Ar,eBb:()=>wl,L6k:()=>Sd,LAX:()=>$h,cg1:()=>h_,Tjo:()=>tT,kL8:()=>wE,yhl:()=>Ac,dqk:()=>Cn,sIi:()=>ud,CqO:()=>a,QGY:()=>n,F4k:()=>i,RDi:()=>eo,AaK:()=>J,z3N:()=>Bo,qOj:()=>Qf,TTD:()=>zr,_Bn:()=>ZE,xp6:()=>$d,uIk:()=>Qc,ekj:()=>c_,Suo:()=>w0,Xpm:()=>It,lG2:()=>ar,Yz7:()=>kt,cJS:()=>un,oAB:()=>gn,Yjl:()=>Sr,Y36:()=>hd,_UZ:()=>Em,BQk:()=>mp,ynx:()=>gp,qZA:()=>pp,TgZ:()=>fp,EpF:()=>s,n5z:()=>_r,LFG:()=>Jr,$8M:()=>Yr,$Z:()=>vm,NdJ:()=>l,CRH:()=>C0,kcU:()=>Zo,O4$:()=>gu,oxw:()=>se,ALo:()=>f0,lcZ:()=>p0,Q6J:()=>dp,s9C:()=>Vt,MGl:()=>ln,hYB:()=>$n,VKq:()=>a0,iGM:()=>E0,MAs:()=>yh,CHM:()=>Co,LSH:()=>xd,YNc:()=>tp,W1O:()=>A0,_uU:()=>nE,Oqu:()=>d_,hij:()=>wm,Gf:()=>I0});var m=k(273),_=k(7908),ae=k(8305),pe=k(3719),ne=k(3174);function Ie(e){for(let t in e)if(e[t]===Ie)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function J(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(J).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const q=Ie({__forward_ref__:Ie});function te(e){return e.__forward_ref__=te,e.toString=function(){return J(this())},e}function ve(e){return $e(e)?e():e}function $e(e){return"function"==typeof e&&e.hasOwnProperty(q)&&e.__forward_ref__===te}class ot extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function Pe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}function ke(e,t){const r=t?` in ${t}`:"";throw new ot("201",`No provider for ${Pe(e)} found${r}`)}function et(e,t){null==e&&function(e,t,r,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${r} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function kt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function un(e){return{providers:e.providers||[],imports:e.imports||[]}}function pn(e){return Un(e,Hn)||Un(e,rr)}function Un(e,t){return e.hasOwnProperty(t)?e[t]:null}function Xn(e){return e&&(e.hasOwnProperty(Rn)||e.hasOwnProperty(Qn))?e[Rn]:null}const Hn=Ie({\u0275prov:Ie}),Rn=Ie({\u0275inj:Ie}),rr=Ie({ngInjectableDef:Ie}),Qn=Ie({ngInjectorDef:Ie});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let zt;function er(e){const t=zt;return zt=e,t}function Zt(e,t,r){const o=pn(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ct.Optional?null:void 0!==t?t:void ke(J(e),"Injector")}function Qt(e){return{toString:e}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),St=(()=>{return(e=St||(St={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",St;var e})();const Ot="undefined"!=typeof globalThis&&globalThis,Jn="undefined"!=typeof window&&window,$r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=Ot||"undefined"!=typeof global&&global||Jn||$r,me={},oe=[],_e=Ie({\u0275cmp:Ie}),We=Ie({\u0275dir:Ie}),Me=Ie({\u0275pipe:Ie}),Pt=Ie({\u0275mod:Ie}),Ae=Ie({\u0275fac:Ie}),He=Ie({__NG_ELEMENT_ID__:Ie});let nt=0;function It(e){return Qt(()=>{const r={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||oe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||St.Emulated,id:"c",styles:e.styles||oe,_:null,setInput:null,schemas:e.schemas||null,tView:null},u=e.directives,c=e.features,d=e.pipes;return o.id+=nt++,o.inputs=tn(e.inputs,r),o.outputs=tn(e.outputs),c&&c.forEach(g=>g(o)),o.directiveDefs=u?()=>("function"==typeof u?u():u).map(lt):null,o.pipeDefs=d?()=>("function"==typeof d?d():d).map(xt):null,o})}function lt(e){return Dn(e)||function(e){return e[We]||null}(e)}function xt(e){return function(e){return e[Me]||null}(e)}const on={};function gn(e){return Qt(()=>{const t={type:e.type,bootstrap:e.bootstrap||oe,declarations:e.declarations||oe,imports:e.imports||oe,exports:e.exports||oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(on[e.id]=e.type),t})}function tn(e,t){if(null==e)return me;const r={};for(const o in e)if(e.hasOwnProperty(o)){let u=e[o],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),r[u]=o,t&&(t[u]=c)}return r}const ar=It;function Sr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Dn(e){return e[_e]||null}function Er(e,t){const r=e[Pt]||null;if(!r&&!0===t)throw new Error(`Type ${J(e)} does not have '\u0275mod' property.`);return r}function Ft(e){return Array.isArray(e)&&"object"==typeof e[1]}function jt(e){return Array.isArray(e)&&!0===e[1]}function jn(e){return 0!=(8&e.flags)}function mn(e){return 2==(2&e.flags)}function Rr(e){return 1==(1&e.flags)}function yr(e){return null!==e.template}function Ur(e){return 0!=(512&e[2])}function Ii(e,t){return e.hasOwnProperty(Ae)?e[Ae]:null}class ri{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function zr(){return Nr}function Nr(e){return e.type.prototype.ngOnChanges&&(e.setInput=fi),Ni}function Ni(){const e=Gn(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===me)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function fi(e,t,r,o){const u=Gn(e)||function(e,t){return e[Bi]=t}(e,{previous:me,current:null}),c=u.current||(u.current={}),d=u.previous,g=this.declaredInputs[r],w=d[g];c[g]=new ri(w&&w.currentValue,t,d===me),e[o]=t}zr.ngInherit=!0;const Bi="__ngSimpleChanges__";function Gn(e){return e[Bi]||null}const is="http://www.w3.org/2000/svg";let os;function eo(e){os=e}function Kn(e){return!!e.listen}const ji={createRenderer:(e,t)=>void 0!==os?os:"undefined"!=typeof document?document:void 0};function R(e){for(;Array.isArray(e);)e=e[0];return e}function $(e,t){return R(t[e])}function de(e,t){return R(t[e.index])}function ct(e,t){return e.data[t]}function Wt(e,t){return e[t]}function P(e,t){const r=t[e];return Ft(r)?r:r[0]}function M(e){return 4==(4&e[2])}function y(e){return 128==(128&e[2])}function H(e,t){return null==t?null:e[t]}function ue(e){e[18]=0}function ze(e,t){e[5]+=t;let r=e,o=e[3];for(;null!==o&&(1===t&&1===r[5]||-1===t&&0===r[5]);)o[5]+=t,r=o,o=o[3]}const Je={lFrame:qo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function sr(){return Je.bindingsEnabled}function rt(){return Je.lFrame.lView}function _n(){return Je.lFrame.tView}function Co(e){return Je.lFrame.contextLView=e,e[8]}function bn(){let e=qi();for(;null!==e&&64===e.type;)e=e.parent;return e}function qi(){return Je.lFrame.currentTNode}function Di(e,t){const r=Je.lFrame;r.currentTNode=e,r.isParent=t}function ha(){return Je.lFrame.isParent}function hu(){Je.lFrame.isParent=!1}function pa(){return Je.isInCheckNoChangesMode}function Do(e){Je.isInCheckNoChangesMode=e}function pi(){const e=Je.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Wo(){return Je.lFrame.bindingIndex++}function as(e){const t=Je.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function ya(e,t){const r=Je.lFrame;r.bindingIndex=r.bindingRootIndex=e,Fa(t)}function Fa(e){Je.lFrame.currentDirectiveIndex=e}function zo(){return Je.lFrame.currentQueryIndex}function Go(e){Je.lFrame.currentQueryIndex=e}function Bu(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function To(e,t,r){if(r&Ct.SkipSelf){let u=t,c=e;for(;!(u=u.parent,null!==u||r&Ct.Host||(u=Bu(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;t=u,e=c}const o=Je.lFrame=Ko();return o.currentTNode=t,o.lView=e,!0}function Ao(e){const t=Ko(),r=e[1];Je.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Ko(){const e=Je.lFrame,t=null===e?null:e.child;return null===t?qo(e):t}function qo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ro(){const e=Je.lFrame;return Je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const So=ro;function fo(){const e=ro();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Or(){return Je.lFrame.selectedIndex}function zs(e){Je.lFrame.selectedIndex=e}function Pr(){const e=Je.lFrame;return ct(e.tView,e.selectedIndex)}function gu(){Je.lFrame.currentNamespace=is}function Zo(){Je.lFrame.currentNamespace=null}function vs(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const c=e.data[r].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:g,ngAfterViewInit:w,ngAfterViewChecked:A,ngOnDestroy:F}=c;d&&(e.contentHooks||(e.contentHooks=[])).push(-r,d),g&&((e.contentHooks||(e.contentHooks=[])).push(r,g),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,g)),w&&(e.viewHooks||(e.viewHooks=[])).push(-r,w),A&&((e.viewHooks||(e.viewHooks=[])).push(r,A),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,A)),null!=F&&(e.destroyHooks||(e.destroyHooks=[])).push(r,F)}}function Es(e,t,r){gi(e,t,3,r)}function Ro(e,t,r,o){(3&e[2])===r&&gi(e,t,r,o)}function Qo(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function gi(e,t,r,o){const c=null!=o?o:-1,d=t.length-1;let g=0;for(let w=void 0!==o?65535&e[18]:0;w<d;w++)if("number"==typeof t[w+1]){if(g=t[w],null!=o&&g>=o)break}else t[w]<0&&(e[18]+=65536),(g<c||-1==c)&&(ju(e,r,t,w),e[18]=(4294901760&e[18])+w+2),w++}function ju(e,t,r,o){const u=r[o]<0,c=r[o+1],g=e[u?-r[o]:r[o]];if(u){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(g)}finally{}}}else try{c.call(g)}finally{}}class Is{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}function At(e,t,r){const o=Kn(e);let u=0;for(;u<r.length;){const c=r[u];if("number"==typeof c){if(0!==c)break;u++;const d=r[u++],g=r[u++],w=r[u++];o?e.setAttribute(t,g,w,d):t.setAttributeNS(d,g,w)}else{const d=c,g=r[++u];mi(d)?o&&e.setProperty(t,d,g):o?e.setAttribute(t,d,g):t.setAttribute(d,g),u++}}return u}function ii(e){return 3===e||4===e||6===e}function mi(e){return 64===e.charCodeAt(0)}function so(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const u=t[o];"number"==typeof u?r=u:0===r||en(e,r,u,null,-1===r||2===r?t[++o]:null)}}return e}function en(e,t,r,o,u){let c=0,d=e.length;if(-1===t)d=-1;else for(;c<e.length;){const g=e[c++];if("number"==typeof g){if(g===t){d=-1;break}if(g>t){d=c-1;break}}}for(;c<e.length;){const g=e[c];if("number"==typeof g)break;if(g===r){if(null===o)return void(null!==u&&(e[c+1]=u));if(o===e[c+1])return void(e[c+2]=u)}c++,null!==o&&c++,null!==u&&c++}-1!==d&&(e.splice(d,0,t),c=d+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==u&&e.splice(c++,0,u)}function hn(e){return-1!==e}function oo(e){return 32767&e}function Ke(e,t){let r=function(e){return e>>16}(e),o=t;for(;r>0;)o=o[15],r--;return o}let _t=!0;function Br(e){const t=_t;return _t=e,t}let Ua=0;function go(e,t){const r=No(e,t);if(-1!==r)return r;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,Ti(o.data,e),Ti(t,null),Ti(o.blueprint,null));const u=Oo(e,t),c=e.injectorIndex;if(hn(u)){const d=oo(u),g=Ke(u,t),w=g[1].data;for(let A=0;A<8;A++)t[c+A]=g[d+A]|w[d+A]}return t[c+8]=u,c}function Ti(e,t){e.push(0,0,0,0,0,0,0,0,t)}function No(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Oo(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,u=t;for(;null!==u;){const c=u[1],d=c.type;if(o=2===d?c.declTNode:1===d?u[6]:null,null===o)return-1;if(r++,u=u[15],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return-1}function D(e,t,r){!function(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(He)&&(o=r[He]),null==o&&(o=r[He]=Ua++);const u=255&o;t.data[e+(u>>5)]|=1<<u}(e,t,r)}function v(e,t,r){if(r&Ct.Optional)return e;ke(t,"NodeInjector")}function S(e,t,r,o){if(r&Ct.Optional&&void 0===o&&(o=null),0==(r&(Ct.Self|Ct.Host))){const u=e[9],c=er(void 0);try{return u?u.get(t,o,r&Ct.Optional):Zt(t,o,r&Ct.Optional)}finally{er(c)}}return v(o,t,r)}function O(e,t,r,o=Ct.Default,u){if(null!==e){const c=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(He)?e[He]:void 0;return"number"==typeof t?t>=0?255&t:ee:t}(r);if("function"==typeof c){if(!To(t,e,o))return o&Ct.Host?v(u,r,o):S(t,r,o,u);try{const d=c(o);if(null!=d||o&Ct.Optional)return d;ke(r)}finally{So()}}else if("number"==typeof c){let d=null,g=No(e,t),w=-1,A=o&Ct.Host?t[16][6]:null;for((-1===g||o&Ct.SkipSelf)&&(w=-1===g?Oo(e,t):t[g+8],-1!==w&&Wn(o,!1)?(d=t[1],g=oo(w),t=Ke(w,t)):g=-1);-1!==g;){const F=t[1];if($t(c,g,F.data)){const W=ye(g,t,r,d,o,A);if(W!==j)return W}w=t[g+8],-1!==w&&Wn(o,t[1].data[g+8]===A)&&$t(c,g,t)?(d=F,g=oo(w),t=Ke(w,t)):g=-1}}}return S(t,r,o,u)}const j={};function ee(){return new Zn(bn(),rt())}function ye(e,t,r,o,u,c){const d=t[1],g=d.data[e+8],F=Ze(g,d,r,null==o?mn(g)&&_t:o!=d&&0!=(3&g.type),u&Ct.Host&&c===g);return null!==F?Et(t,d,F,g):j}function Ze(e,t,r,o,u){const c=e.providerIndexes,d=t.data,g=1048575&c,w=e.directiveStart,F=c>>20,G=u?g+F:e.directiveEnd;for(let he=o?g:g+F;he<G;he++){const be=d[he];if(he<w&&r===be||he>=w&&be.type===r)return he}if(u){const he=d[w];if(he&&yr(he)&&he.type===r)return w}return null}function Et(e,t,r,o){let u=e[r];const c=t.data;if(function(e){return e instanceof Is}(u)){const d=u;d.resolving&&function(e,t){throw new ot("200",`Circular dependency in DI detected for ${e}`)}(Pe(c[r]));const g=Br(d.canSeeViewProviders);d.resolving=!0;const w=d.injectImpl?er(d.injectImpl):null;To(e,o,Ct.Default);try{u=e[r]=d.factory(void 0,c,e,o),t.firstCreatePass&&r>=o.directiveStart&&function(e,t,r){const{ngOnChanges:o,ngOnInit:u,ngDoCheck:c}=t.type.prototype;if(o){const d=Nr(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,d),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,d)}u&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,u),c&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,c),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,c))}(r,c[r],t)}finally{null!==w&&er(w),Br(g),d.resolving=!1,So()}}return u}function $t(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function Wn(e,t){return!(e&Ct.Self||e&Ct.Host&&t)}class Zn{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return O(this._tNode,this._lView,t,o,r)}}function _r(e){return Qt(()=>{const t=e.prototype.constructor,r=t[Ae]||ao(t),o=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==o;){const c=u[Ae]||ao(u);if(c&&c!==r)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function ao(e){return $e(e)?()=>{const t=ao(ve(e));return t&&t()}:Ii(e)}function Yr(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let u=0;for(;u<o;){const c=r[u];if(ii(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<o&&"string"==typeof r[u];)u++;else{if(c===t)return r[u+1];u+=2}}}return null}(bn(),e)}const $i="__parameters__";function Rs(e,t,r){return Qt(()=>{const o=function(e){return function(...r){if(e){const o=e(...r);for(const u in o)this[u]=o[u]}}}(t);function u(...c){if(this instanceof u)return o.apply(this,c),this;const d=new u(...c);return g.annotation=d,g;function g(w,A,F){const W=w.hasOwnProperty($i)?w[$i]:Object.defineProperty(w,$i,{value:[]})[$i];for(;W.length<=F;)W.push(null);return(W[F]=W[F]||[]).push(d),w}}return r&&(u.prototype=Object.create(r.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}class kr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=kt({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ja=new kr("AnalyzeForEntryComponents");function Ks(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?(t===e&&(t=e.slice(0,r)),Ks(o,t)):t!==e&&t.push(o)}return t}function xs(e,t){e.forEach(r=>Array.isArray(r)?xs(r,t):t(r))}function Xo(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ns(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function le(e,t,r){let o=Lt(e,t);return o>=0?e[1|o]=r:(o=~o,function(e,t,r,o){let u=e.length;if(u==t)e.push(r,o);else if(1===u)e.push(o,e[0]),e[0]=r;else{for(u--,e.push(e[u-1],e[u]);u>t;)e[u]=e[u-2],u--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function je(e,t){const r=Lt(e,t);if(r>=0)return e[1|r]}function Lt(e,t){return function(e,t,r){let o=0,u=e.length>>r;for(;u!==o;){const c=o+(u-o>>1),d=e[c<<r];if(t===d)return c<<r;d>t?u=c:o=c+1}return~(u<<r)}(e,t,1)}const va={},$a="__NG_DI_FLAG__",ea="ngTempTokenPath",fl=/\n/gm,ks="__source",Cc=Ie({provide:String,useValue:Ie});let yo;function Ha(e){const t=yo;return yo=e,t}function pl(e,t=Ct.Default){if(void 0===yo)throw new Error("inject() must be called from an injection context");return null===yo?Zt(e,void 0,t):yo.get(e,t&Ct.Optional?null:void 0,t)}function Jr(e,t=Ct.Default){return(zt||pl)(ve(e),t)}function Fo(e){const t=[];for(let r=0;r<e.length;r++){const o=ve(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let u,c=Ct.Default;for(let d=0;d<o.length;d++){const g=o[d],w=ml(g);"number"==typeof w?-1===w?u=g.token:c|=w:u=g}t.push(Jr(u,c))}else t.push(Jr(o))}return t}function Ia(e,t){return e[$a]=t,e.prototype[$a]=t,e}function ml(e){return e[$a]}function Wa(e,t,r,o){const u=e[ea];throw t[ks]&&u.unshift(t[ks]),e.message=function(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let u=J(t);if(Array.isArray(t))u=t.map(J).join(" -> ");else if("object"==typeof t){let c=[];for(let d in t)if(t.hasOwnProperty(d)){let g=t[d];c.push(d+":"+("string"==typeof g?JSON.stringify(g):J(g)))}u=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${u}]: ${e.replace(fl,"\n  ")}`}("\n"+e.message,u,r,o),e.ngTokenPath=u,e[ea]=null,e}const za=Ia(Rs("Inject",e=>({token:e})),-1),_o=Ia(Rs("Optional"),8),Fs=Ia(Rs("SkipSelf"),4);let wa;function na(e){var t;return(null==(t=function(){if(void 0===wa&&(wa=null,Cn.trustedTypes))try{wa=Cn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return wa}())?void 0:t.createHTML(e))||e}class Ca{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pi extends Ca{getTypeName(){return"HTML"}}class Cu extends Ca{getTypeName(){return"Style"}}class Qi extends Ca{getTypeName(){return"Script"}}class Xr extends Ca{getTypeName(){return"URL"}}class Ad extends Ca{getTypeName(){return"ResourceURL"}}function Bo(e){return e instanceof Ca?e.changingThisBreaksApplicationSecurity:e}function Ji(e,t){const r=Ac(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function Ac(e){return e instanceof Ca&&e.getTypeName()||null}function Il(e){return new Pi(e)}function Sd(e){return new Cu(e)}function wl(e){return new Qi(e)}function $h(e){return new Xr(e)}function Ar(e){return new Ad(e)}class Sc{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(na(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class I{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const o=this.inertDocument.createElement("body");r.appendChild(o)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=na(t),r;const o=this.inertDocument.createElement("body");return o.innerHTML=na(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(t){const r=t.attributes;for(let u=r.length-1;0<u;u--){const d=r.item(u).name;("xmlns:ns1"===d||0===d.indexOf("ns1:"))&&t.removeAttribute(d)}let o=t.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,V=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Y(e){return(e=String(e)).match(p)||e.match(V)?e:"unsafe:"+e}function gt(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Yt(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const In=gt("area,br,col,hr,img,wbr"),Yn=gt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kr=gt("rp,rt"),yi=Yt(In,Yt(Yn,gt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yt(Kr,gt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yt(Kr,Yn)),Ga=gt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ku=gt("srcset"),Zu=Yt(Ga,Ku,gt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dl=gt("script,style,template");class Ka{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,o=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let u=this.checkClobberedElement(r,r.nextSibling);if(u){r=u;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!yi.hasOwnProperty(r))return this.sanitizedSomething=!0,!Dl.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let u=0;u<o.length;u++){const c=o.item(u),d=c.name,g=d.toLowerCase();if(!Zu.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let w=c.value;Ga[g]&&(w=Y(w)),Ku[g]&&(e=w,w=(e=String(e)).split(",").map(t=>Y(t.trim())).join(", ")),this.buf.push(" ",d,'="',Yu(w),'"')}var e;return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();yi.hasOwnProperty(r)&&!In.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(Yu(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const bl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function Yu(e){return e.replace(/&/g,"&amp;").replace(bl,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mc;function jp(e,t){let r=null;try{Mc=Mc||function(e){const t=new I(e);return function(){try{return!!(new window.DOMParser).parseFromString(na(""),"text/html")}catch(e){return!1}}()?new Sc(t):t}(e);let o=t?String(t):"";r=Mc.getInertBodyElement(o);let u=5,c=o;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,o=c,c=r.innerHTML,r=Mc.getInertBodyElement(o)}while(o!==c);return na((new Ka).sanitizeChildren(Rc(r)||r))}finally{if(r){const o=Rc(r)||r;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Rc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function xd(e){const t=function(){const e=rt();return e&&e[12]}();return t?t.sanitize(Si.URL,e)||"":Ji(e,"URL")?Bo(e):Y(Ee(e))}const jo="__ngContext__";function Ls(e,t){e[jo]=t}function ra(e){const t=function(e){return e[jo]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Nd(e){return e.ngOriginalError}function Qp(e,...t){e.error(...t)}class yt{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),o=this._findContext(t),u=(e=t)&&e.ngErrorLogger||Qp;var e;u(this._console,"ERROR",t),r&&u(this._console,"ORIGINAL ERROR",r),o&&u(this._console,"ERROR CONTEXT",o)}_findContext(t){return t?t.ngDebugContext||this._findContext(Nd(t)):null}_findOriginalError(t){let r=t&&Nd(t);for(;r&&Nd(r);)r=Nd(r);return r||null}}const Qs=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function $o(e){return e instanceof Function?e():e}var Js=(()=>((Js=Js||{})[Js.Important=1]="Important",Js[Js.DashCase=2]="DashCase",Js))();function ec(e,t){return undefined(e,t)}function Nl(e){const t=e[3];return jt(t)?t[3]:t}function Jh(e){return tg(e[13])}function Ol(e){return tg(e[4])}function tg(e){for(;null!==e&&!jt(e);)e=e[4];return e}function tc(e,t,r,o,u){if(null!=o){let c,d=!1;jt(o)?c=o:Ft(o)&&(d=!0,o=o[0]);const g=R(o);0===e&&null!==r?null==u?ag(t,r,g):ic(t,r,g,u||null,!0):1===e&&null!==r?ic(t,r,g,u||null,!0):2===e?function(e,t,r){const o=Fl(e,t);o&&function(e,t,r,o){Kn(e)?e.removeChild(t,r,o):t.removeChild(r)}(e,o,t,r)}(t,g,d):3===e&&t.destroyNode(g),null!=c&&function(e,t,r,o,u){const c=r[7];c!==R(r)&&tc(t,e,o,c,u);for(let g=10;g<r.length;g++){const w=r[g];Bl(w[1],w,e,t,o,c)}}(t,e,c,r,u)}}function Pl(e,t,r){return Kn(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function rc(e,t){const r=e[9],o=r.indexOf(t),u=t[3];1024&t[2]&&(t[2]&=-1025,ze(u,-1)),r.splice(o,1)}function Ld(e,t){if(e.length<=10)return;const r=10+t,o=e[r];if(o){const u=o[17];null!==u&&u!==e&&rc(u,o),t>0&&(e[r-1][4]=o[4]);const c=Ns(e,10+t);!function(e,t){Bl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const d=c[19];null!==d&&d.detachView(c[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function Ya(e,t){if(!(256&t[2])){const r=t[11];Kn(r)&&r.destroyNode&&Bl(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return Qa(e[1],e);for(;t;){let r=null;if(Ft(t))r=t[13];else{const o=t[10];o&&(r=o)}if(!r){for(;t&&!t[4]&&t!==e;)Ft(t)&&Qa(t[1],t),t=t[3];null===t&&(t=e),Ft(t)&&Qa(t[1],t),r=t&&t[4]}t=r}}(t)}}function Qa(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const u=t[r[o]];if(!(u instanceof Is)){const c=r[o+1];if(Array.isArray(c))for(let d=0;d<c.length;d+=2){const g=u[c[d]],w=c[d+1];try{w.call(g)}finally{}}else try{c.call(u)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,o=t[7];let u=-1;if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const d=r[c+1],g="function"==typeof d?d(t):R(t[d]),w=o[u=r[c+2]],A=r[c+3];"boolean"==typeof A?g.removeEventListener(r[c],w,A):A>=0?o[u=A]():o[u=-A].unsubscribe(),c+=2}else{const d=o[u=r[c+1]];r[c].call(d)}if(null!==o){for(let c=u+1;c<o.length;c++)o[c]();t[7]=null}}(e,t),1===t[1].type&&Kn(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&jt(t[3])){r!==t[3]&&rc(r,t);const o=t[19];null!==o&&o.detachView(e)}}}function sg(e,t,r){return function(e,t,r){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return r[0];if(2&o.flags){const u=e.data[o.directiveStart].encapsulation;if(u===St.None||u===St.Emulated)return null}return de(o,r)}(e,t.parent,r)}function ic(e,t,r,o,u){Kn(e)?e.insertBefore(t,r,o,u):t.insertBefore(r,o,u)}function ag(e,t,r){Kn(e)?e.appendChild(t,r):t.appendChild(r)}function kl(e,t,r,o,u){null!==o?ic(e,t,r,o,u):ag(e,t,r)}function Fl(e,t){return Kn(e)?e.parentNode(t):t.parentNode}let Ja=function(e,t,r){return 40&e.type?de(e,r):null};function Ll(e,t,r,o){const u=sg(e,o,t),c=t[11],g=function(e,t,r){return Ja(e,t,r)}(o.parent||t[6],o,t);if(null!=u)if(Array.isArray(r))for(let w=0;w<r.length;w++)kl(c,u,r[w],g,!1);else kl(c,u,r,g,!1)}function kc(e,t){if(null!==t){const r=t.type;if(3&r)return de(t,e);if(4&r)return sc(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return kc(e,o);{const u=e[t.index];return jt(u)?sc(-1,u):R(u)}}if(32&r)return ec(t,e)()||R(e[t.index]);{const o=Vd(e,t);return null!==o?Array.isArray(o)?o[0]:kc(Nl(e[16]),o):kc(e,t.next)}}return null}function Vd(e,t){return null!==t?e[16][6].projection[t.projection]:null}function sc(e,t){const r=10+e+1;if(r<t.length){const o=t[r],u=o[1].firstChild;if(null!==u)return kc(o,u)}return t[7]}function Ul(e,t,r,o,u,c,d){for(;null!=r;){const g=o[r.index],w=r.type;if(d&&0===t&&(g&&Ls(R(g),o),r.flags|=4),64!=(64&r.flags))if(8&w)Ul(e,t,r.child,o,u,c,!1),tc(t,e,u,g,c);else if(32&w){const A=ec(r,o);let F;for(;F=A();)tc(t,e,u,F,c);tc(t,e,u,g,c)}else 16&w?Ud(e,t,o,r,u,c):tc(t,e,u,g,c);r=d?r.projectionNext:r.next}}function Bl(e,t,r,o,u,c){Ul(r,o,e.firstChild,t,u,c,!1)}function Ud(e,t,r,o,u,c){const d=r[16],w=d[6].projection[o.projection];if(Array.isArray(w))for(let A=0;A<w.length;A++)tc(t,e,u,w[A],c);else Ul(e,t,w,d[3],u,c,!0)}function nf(e,t,r){Kn(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function Bd(e,t,r){Kn(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function jd(e,t,r){let o=e.length;for(;;){const u=e.indexOf(t,r);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const c=t.length;if(u+c===o||e.charCodeAt(u+c)<=32)return u}r=u+1}}const rf="ng-template";function uy(e,t,r){let o=0;for(;o<e.length;){let u=e[o++];if(r&&"class"===u){if(u=e[o],-1!==jd(u.toLowerCase(),t,0))return!0}else if(1===u){for(;o<e.length&&"string"==typeof(u=e[o++]);)if(u.toLowerCase()===t)return!0;return!1}}return!1}function sf(e){return 4===e.type&&e.value!==rf}function cy(e,t,r){return t===(4!==e.type||r?e.value:rf)}function Fc(e,t,r){let o=4;const u=e.attrs||[],c=function(e){for(let t=0;t<e.length;t++)if(ii(e[t]))return t;return e.length}(u);let d=!1;for(let g=0;g<t.length;g++){const w=t[g];if("number"!=typeof w){if(!d)if(4&o){if(o=2|1&o,""!==w&&!cy(e,w,r)||""===w&&1===t.length){if(Us(o))return!1;d=!0}}else{const A=8&o?w:t[++g];if(8&o&&null!==e.attrs){if(!uy(e.attrs,A,r)){if(Us(o))return!1;d=!0}continue}const W=af(8&o?"class":w,u,sf(e),r);if(-1===W){if(Us(o))return!1;d=!0;continue}if(""!==A){let G;G=W>c?"":u[W+1].toLowerCase();const he=8&o?G:null;if(he&&-1!==jd(he,A,0)||2&o&&A!==G){if(Us(o))return!1;d=!0}}}}else{if(!d&&!Us(o)&&!Us(w))return!1;if(d&&Us(w))continue;d=!1,o=w|1&o}}return Us(o)||d}function Us(e){return 0==(1&e)}function af(e,t,r,o){if(null===t)return-1;let u=0;if(o||!r){let c=!1;for(;u<t.length;){const d=t[u];if(d===e)return u;if(3===d||6===d)c=!0;else{if(1===d||2===d){let g=t[++u];for(;"string"==typeof g;)g=t[++u];continue}if(4===d)break;if(0===d){u+=4;continue}}u+=c?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function jl(e,t,r=!1){for(let o=0;o<t.length;o++)if(Fc(e,t[o],r))return!0;return!1}function pg(e,t){return e?":not("+t.trim()+")":t}function cf(e){let t=e[0],r=1,o=2,u="",c=!1;for(;r<e.length;){let d=e[r];if("string"==typeof d)if(2&o){const g=e[++r];u+="["+d+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?u+="."+d:4&o&&(u+=" "+d);else""!==u&&!Us(d)&&(t+=pg(c,u),u=""),o=d,c=c||!Us(o);r++}return""!==u&&(t+=pg(c,u)),t}const Fn={};function $d(e){Xi(_n(),rt(),Or()+e,pa())}function Xi(e,t,r,o){if(!o)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&Es(t,c,r)}else{const c=e.preOrderHooks;null!==c&&Ro(t,c,0,r)}zs(r)}function Hd(e,t){return e<<17|t<<2}function sa(e){return e>>17&32767}function df(e){return 2|e}function oa(e){return(131068&e)>>2}function Wd(e,t){return-131069&e|t<<2}function $l(e){return 1|e}function Yd(e,t){const r=e.contentQueries;if(null!==r)for(let o=0;o<r.length;o+=2){const u=r[o],c=r[o+1];if(-1!==c){const d=e.data[c];Go(u),d.contentQueries(2,t[c],c)}}}function jc(e,t,r,o,u,c,d,g,w,A){const F=t.blueprint.slice();return F[0]=u,F[2]=140|o,ue(F),F[3]=F[15]=e,F[8]=r,F[10]=d||e&&e[10],F[11]=g||e&&e[11],F[12]=w||e&&e[12]||null,F[9]=A||e&&e[9]||null,F[6]=c,F[16]=2==t.type?e[16]:F,F}function oc(e,t,r,o,u){let c=e.data[t];if(null===c)c=function(e,t,r,o,u){const c=qi(),d=ha(),w=e.data[t]=function(e,t,r,o,u,c){return{type:r,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?c:c&&c.parent,r,t,o,u);return null===e.firstChild&&(e.firstChild=w),null!==c&&(d?null==c.child&&null!==w.parent&&(c.child=w):null===c.next&&(c.next=w)),w}(e,t,r,o,u),Je.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=r,c.value=o,c.attrs=u;const d=function(){const e=Je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===d?-1:d.injectorIndex}return Di(c,!0),c}function Mu(e,t,r,o){if(0===r)return-1;const u=t.length;for(let c=0;c<r;c++)t.push(o),e.blueprint.push(o),e.data.push(null);return u}function Zl(e,t,r){Ao(t);try{const o=e.viewQuery;null!==o&&Pf(1,o,r);const u=e.template;null!==u&&Qd(e,t,u,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yd(e,t),e.staticViewQueries&&Pf(2,e.viewQuery,r);const c=e.components;null!==c&&function(e,t){for(let r=0;r<t.length;r++)Rf(e,t[r])}(t,c)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,fo()}}function Ru(e,t,r,o){const u=t[2];if(256==(256&u))return;Ao(t);const c=pa();try{ue(t),function(e){Je.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Qd(e,t,r,2,o);const d=3==(3&u);if(!c)if(d){const A=e.preOrderCheckHooks;null!==A&&Es(t,A,null)}else{const A=e.preOrderHooks;null!==A&&Ro(t,A,0,null),Qo(t,0)}if(function(e){for(let t=Jh(e);null!==t;t=Ol(t)){if(!t[2])continue;const r=t[9];for(let o=0;o<r.length;o++){const u=r[o],c=u[3];0==(1024&u[2])&&ze(c,1),u[2]|=1024}}}(t),function(e){for(let t=Jh(e);null!==t;t=Ol(t))for(let r=10;r<t.length;r++){const o=t[r],u=o[1];y(o)&&Ru(u,o,u.template,o[8])}}(t),null!==e.contentQueries&&Yd(e,t),!c)if(d){const A=e.contentCheckHooks;null!==A&&Es(t,A)}else{const A=e.contentHooks;null!==A&&Ro(t,A,1),Qo(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const u=r[o];if(u<0)zs(~u);else{const c=u,d=r[++o],g=r[++o];ya(d,c),g(2,t[c])}}}finally{zs(-1)}}(e,t);const g=e.components;null!==g&&function(e,t){for(let r=0;r<t.length;r++)Sf(e,t[r])}(t,g);const w=e.viewQuery;if(null!==w&&Pf(2,w,o),!c)if(d){const A=e.viewCheckHooks;null!==A&&Es(t,A)}else{const A=e.viewHooks;null!==A&&Ro(t,A,2),Qo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),c||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ze(t[3],-1))}finally{fo()}}function Cy(e,t,r,o){const u=t[10],c=!pa(),d=M(t);try{c&&!d&&u.begin&&u.begin(),d&&Zl(e,t,o),Ru(e,t,r,o)}finally{c&&!d&&u.end&&u.end()}}function Qd(e,t,r,o,u){const c=Or(),d=2&o;try{zs(-1),d&&t.length>20&&Xi(e,t,20,pa()),r(o,u)}finally{zs(c)}}function Ag(e,t,r){if(jn(t)){const u=t.directiveEnd;for(let c=t.directiveStart;c<u;c++){const d=e.data[c];d.contentQueries&&d.contentQueries(1,r[c],c)}}}function Yl(e,t,r){!sr()||(function(e,t,r,o){const u=r.directiveStart,c=r.directiveEnd;e.firstCreatePass||go(r,t),Ls(o,t);const d=r.initialInputs;for(let g=u;g<c;g++){const w=e.data[g],A=yr(w);A&&Tf(t,r,w);const F=Et(t,e,g,r);Ls(F,t),null!==d&&My(0,g-u,F,w,0,d),A&&(P(r.index,t)[8]=F)}}(e,t,r,de(r,t)),128==(128&r.flags)&&function(e,t,r){const o=r.directiveStart,u=r.directiveEnd,d=r.index,g=Je.lFrame.currentDirectiveIndex;try{zs(d);for(let w=o;w<u;w++){const A=e.data[w],F=t[w];Fa(w),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&bf(A,F)}}finally{zs(-1),Fa(g)}}(e,t,r))}function Ql(e,t,r=de){const o=t.localNames;if(null!==o){let u=t.index+1;for(let c=0;c<o.length;c+=2){const d=o[c+1],g=-1===d?r(t,e):e[d];e[u++]=g}}}function Jd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Xa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Xa(e,t,r,o,u,c,d,g,w,A){const F=20+o,W=F+u,G=function(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Fn);return r}(F,W),he="function"==typeof A?A():A;return G[1]={type:e,blueprint:G,template:r,queries:null,viewQuery:g,declTNode:t,data:G.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:w,consts:he,incompleteFirstPass:!1}}function If(e,t,r,o){const u=sh(t);null===r?u.push(o):(u.push(r),e.firstCreatePass&&Vg(e).push(o,u.length-1))}function Sg(e,t,r){for(let o in e)if(e.hasOwnProperty(o)){const u=e[o];(r=null===r?{}:r).hasOwnProperty(o)?r[o].push(t,u):r[o]=[t,u]}return r}function Xs(e,t,r,o,u,c,d,g){const w=de(t,r);let F,A=t.inputs;!g&&null!=A&&(F=A[o])?(Bg(e,r,F,o,u),mn(t)&&function(e,t){const r=P(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(o=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),u=null!=d?d(u,t.value||"",o):u,Kn(c)?c.setProperty(w,o,u):mi(o)||(w.setProperty?w.setProperty(o,u):w[o]=u))}function th(e,t,r,o){let u=!1;if(sr()){const c=function(e,t,r){const o=e.directiveRegistry;let u=null;if(o)for(let c=0;c<o.length;c++){const d=o[c];jl(r,d.selectors,!1)&&(u||(u=[]),D(go(r,t),e,d.type),yr(d)?(Pg(e,r),u.unshift(d)):u.push(d))}return u}(e,t,r),d=null===o?null:{"":-1};if(null!==c){u=!0,nh(r,e.data.length,c.length);for(let F=0;F<c.length;F++){const W=c[F];W.providersResolver&&W.providersResolver(W)}let g=!1,w=!1,A=Mu(e,t,c.length,null);for(let F=0;F<c.length;F++){const W=c[F];r.mergedAttrs=so(r.mergedAttrs,W.hostAttrs),rh(e,r,t,A,W),Sy(A,W,d),null!==W.contentQueries&&(r.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(r.flags|=128);const G=W.type.prototype;!g&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),g=!0),!w&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),w=!0),A++}!function(e,t){const o=t.directiveEnd,u=e.data,c=t.attrs,d=[];let g=null,w=null;for(let A=t.directiveStart;A<o;A++){const F=u[A],W=F.inputs,G=null===c||sf(t)?null:Af(W,c);d.push(G),g=Sg(W,A,g),w=Sg(F.outputs,A,w)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=16),g.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=d,t.inputs=g,t.outputs=w}(e,r)}d&&function(e,t,r){if(t){const o=e.localNames=[];for(let u=0;u<t.length;u+=2){const c=r[t[u+1]];if(null==c)throw new ot("301",`Export of name '${t[u+1]}' not found!`);o.push(t[u],c)}}}(r,o,d)}return r.mergedAttrs=so(r.mergedAttrs,r.attrs),u}function Rg(e,t,r,o,u,c){const d=c.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(o,u,d)}}function bf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Pg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Sy(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;yr(t)&&(r[""]=e)}}function nh(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function rh(e,t,r,o,u){e.data[o]=u;const c=u.factory||(u.factory=Ii(u.type)),d=new Is(c,yr(u),null);e.blueprint[o]=d,r[o]=d,Rg(e,t,0,o,Mu(e,r,u.hostVars,Fn),u)}function Tf(e,t,r){const o=de(t,e),u=Jd(r),c=e[10],d=Hc(e,jc(e,u,null,r.onPush?64:16,o,t,c,c.createRenderer(o,r),null,null));e[t.index]=d}function Ma(e,t,r,o,u,c){const d=de(e,t);!function(e,t,r,o,u,c,d){if(null==c)Kn(e)?e.removeAttribute(t,u,r):t.removeAttribute(u);else{const g=null==d?Ee(c):d(c,o||"",u);Kn(e)?e.setAttribute(t,u,g,r):r?t.setAttributeNS(r,u,g):t.setAttribute(u,g)}}(t[11],d,c,e.value,r,o,u)}function My(e,t,r,o,u,c){const d=c[t];if(null!==d){const g=o.setInput;for(let w=0;w<d.length;){const A=d[w++],F=d[w++],W=d[w++];null!==g?o.setInput(r,W,A,F):r[F]=W}}}function Af(e,t){let r=null,o=0;for(;o<t.length;){const u=t[o];if(0!==u)if(5!==u){if("number"==typeof u)break;e.hasOwnProperty(u)&&(null===r&&(r=[]),r.push(u,e[u],t[o+1])),o+=2}else o+=2;else o+=4}return r}function ih(e,t,r,o){return new Array(e,!0,!1,t,null,0,o,r,null,null)}function Sf(e,t){const r=P(t,e);if(y(r)){const o=r[1];80&r[2]?Ru(o,r,o.template,r[8]):r[5]>0&&Mf(r)}}function Mf(e){for(let o=Jh(e);null!==o;o=Ol(o))for(let u=10;u<o.length;u++){const c=o[u];if(1024&c[2]){const d=c[1];Ru(d,c,d.template,c[8])}else c[5]>0&&Mf(c)}const r=e[1].components;if(null!==r)for(let o=0;o<r.length;o++){const u=P(r[o],e);y(u)&&u[5]>0&&Mf(u)}}function Rf(e,t){const r=P(t,e),o=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(o,r),Zl(o,r,r[8])}function Hc(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function xf(e){for(;e;){e[2]|=64;const t=Nl(e);if(Ur(e)&&!t)return e;e=t}return null}function td(e,t,r){const o=t[10];o.begin&&o.begin();try{Ru(e,t,e.template,r)}catch(u){throw Ug(t,u),u}finally{o.end&&o.end()}}function uc(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],o=ra(r),u=o[1];Cy(u,o,u.template,r)}}(e[8])}function Pf(e,t,r){Go(0),t(e,r)}const eu=(()=>Promise.resolve(null))();function sh(e){return e[7]||(e[7]=[])}function Vg(e){return e.cleanup||(e.cleanup=[])}function Ug(e,t){const r=e[9],o=r?r.get(yt,null):null;o&&o.handleError(t)}function Bg(e,t,r,o,u){for(let c=0;c<r.length;){const d=r[c++],g=r[c++],w=t[d],A=e.data[d];null!==A.setInput?A.setInput(w,u,o,g):w[g]=u}}function aa(e,t,r){const o=$(t,e);!function(e,t,r){Kn(e)?e.setValue(t,r):t.textContent=r}(e[11],o,r)}function ah(e,t,r){let o=r?e.styles:null,u=r?e.classes:null,c=0;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?c=g:1==c?u=Te(u,g):2==c&&(o=Te(o,g+": "+t[++d]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=u:e.classesWithoutHost=u}const nd=new kr("INJECTOR",-1);class uh{get(t,r=va){if(r===va){const o=new Error(`NullInjectorError: No provider for ${J(t)}!`);throw o.name="NullInjectorError",o}return r}}const Wc=new kr("Set Injector scope."),cc={},$g={};let Ff;function Hg(){return void 0===Ff&&(Ff=new uh),Ff}function Wg(e,t=null,r=null,o){return new Vf(e,r,t||Hg(),o)}class Vf{constructor(t,r,o,u=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];r&&xs(r,g=>this.processProvider(g,t,r)),xs([t],g=>this.processInjectorType(g,[],c)),this.records.set(nd,lc(void 0,this));const d=this.records.get(Wc);this.scope=null!=d?d.value:null,this.source=u||("object"==typeof t?null:J(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=va,o=Ct.Default){this.assertNotDestroyed();const u=Ha(this),c=er(void 0);try{if(!(o&Ct.SkipSelf)){let g=this.records.get(t);if(void 0===g){const w=("function"==typeof(e=t)||"object"==typeof e&&e instanceof kr)&&pn(t);g=w&&this.injectableDefInScope(w)?lc(rd(t),cc):null,this.records.set(t,g)}if(null!=g)return this.hydrate(t,g)}return(o&Ct.Self?Hg():this.parent).get(t,r=o&Ct.Optional&&r===va?null:r)}catch(d){if("NullInjectorError"===d.name){if((d[ea]=d[ea]||[]).unshift(J(t)),u)throw d;return Wa(d,t,"R3InjectorError",this.source)}throw d}finally{er(c),Ha(u)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,u)=>t.push(J(u))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,o){if(!(t=ve(t)))return!1;let u=Xn(t);const c=null==u&&t.ngModule||void 0,d=void 0===c?t:c,g=-1!==o.indexOf(d);if(void 0!==c&&(u=Xn(c)),null==u)return!1;if(null!=u.imports&&!g){let F;o.push(d);try{xs(u.imports,W=>{this.processInjectorType(W,r,o)&&(void 0===F&&(F=[]),F.push(W))})}finally{}if(void 0!==F)for(let W=0;W<F.length;W++){const{ngModule:G,providers:he}=F[W];xs(he,be=>this.processProvider(be,G,he||oe))}}this.injectorDefTypes.add(d);const w=Ii(d)||(()=>new d);this.records.set(d,lc(w,cc));const A=u.providers;if(null!=A&&!g){const F=t;xs(A,W=>this.processProvider(W,F,A))}return void 0!==c&&void 0!==t.providers}processProvider(t,r,o){let u=tu(t=ve(t))?t:ve(t&&t.provide);const c=(e=t,zg(e)?lc(void 0,e.useValue):lc(Bf(e),cc));var e;if(tu(t)||!0!==t.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=lc(void 0,cc,!0),d.factory=()=>Fo(d.multi),this.records.set(u,d)),u=t,d.multi.push(t)}this.records.set(u,c)}hydrate(t,r){return r.value===cc&&(r.value=$g,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ve(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function rd(e){const t=pn(e),r=null!==t?t.factory:Ii(e);if(null!==r)return r;if(e instanceof kr)throw new Error(`Token ${J(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const o=function(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(t,"?");throw new Error(`Can't resolve all parameters for ${J(e)}: (${o.join(", ")}).`)}const r=function(e){const t=e&&(e[Hn]||e[rr]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function Bf(e,t,r){let o;if(tu(e)){const u=ve(e);return Ii(u)||rd(u)}if(zg(e))o=()=>ve(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Fo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>Jr(ve(e.useExisting));else{const u=ve(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ii(u)||rd(u);o=()=>new u(...Fo(e.deps))}return o}function lc(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function zg(e){return null!==e&&"object"==typeof e&&Cc in e}function tu(e){return"function"==typeof e}const Hf=function(e,t,r){return function(e,t=null,r=null,o){const u=Wg(e,t,r,o);return u._resolveInjectorDefTypes(),u}({name:r},t,e,r)};let ei=(()=>{class e{static create(r,o){return Array.isArray(r)?Hf(r,o,""):Hf(r.providers,r.parent,r.name||"")}}return e.THROW_IF_NOT_FOUND=va,e.NULL=new uh,e.\u0275prov=kt({token:e,providedIn:"any",factory:()=>Jr(nd)}),e.__NG_ELEMENT_ID__=-1,e})();function im(e,t){vs(ra(e)[1],bn())}function Qf(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let u;if(yr(e))u=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");u=t.\u0275dir}if(u){if(r){o.push(u);const d=e;d.inputs=ai(e.inputs),d.declaredInputs=ai(e.declaredInputs),d.outputs=ai(e.outputs);const g=u.hostBindings;g&&es(e,g);const w=u.viewQuery,A=u.contentQueries;if(w&&xv(e,w),A&&Gy(e,A),ce(e.inputs,u.inputs),ce(e.declaredInputs,u.declaredInputs),ce(e.outputs,u.outputs),yr(u)&&u.data.animation){const F=e.data;F.animation=(F.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let d=0;d<c.length;d++){const g=c[d];g&&g.ngInherit&&g(e),g===Qf&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const u=e[o];u.hostVars=t+=u.hostVars,u.hostAttrs=so(u.hostAttrs,r=so(r,u.hostAttrs))}}(o)}function ai(e){return e===me?{}:e===oe?[]:e}function xv(e,t){const r=e.viewQuery;e.viewQuery=r?(o,u)=>{t(o,u),r(o,u)}:t}function Gy(e,t){const r=e.contentQueries;e.contentQueries=r?(o,u,c)=>{t(o,u,c),r(o,u,c)}:t}function es(e,t){const r=e.hostBindings;e.hostBindings=r?(o,u)=>{t(o,u),r(o,u)}:t}let ad=null;function qc(){if(!ad){const e=Cn.Symbol;if(e&&e.iterator)ad=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const o=t[r];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(ad=o)}}}return ad}function ud(e){return!!Jf(e)&&(Array.isArray(e)||!(e instanceof Map)&&qc()in e)}function Jf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _i(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Qc(e,t,r,o){const u=rt();return _i(u,Wo(),t)&&(_n(),Ma(Pr(),u,e,t,r,o)),Qc}function Xc(e,t,r,o){return _i(e,Wo(),r)?t+Ee(r)+o:Fn}function hc(e,t,r,o,u,c){const g=function(e,t,r,o){const u=_i(e,t,r);return _i(e,t+1,o)||u}(e,Je.lFrame.bindingIndex,r,u);return as(2),g?t+Ee(r)+o+Ee(u)+c:Fn}function tp(e,t,r,o,u,c,d,g){const w=rt(),A=_n(),F=e+20,W=A.firstCreatePass?function(e,t,r,o,u,c,d,g,w){const A=t.consts,F=oc(t,e,4,d||null,H(A,g));th(t,r,F,H(A,w)),vs(t,F);const W=F.tViews=Xa(2,F,o,u,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,A);return null!==t.queries&&(t.queries.template(t,F),W.queries=t.queries.embeddedTView(F)),F}(F,A,w,t,r,o,u,c,d):A.data[F];Di(W,!1);const G=w[11].createComment("");Ll(A,w,G,W),Ls(G,w),Hc(w,w[F]=ih(G,w,G,W)),Rr(W)&&Yl(A,w,W),null!=d&&Ql(w,W,g)}function yh(e){return Wt(Je.lFrame.contextLView,20+e)}function hd(e,t=Ct.Default){const r=rt();return null===r?Jr(e,t):O(bn(),r,ve(e),t)}function vm(){throw new Error("invalid")}function dp(e,t,r){const o=rt();return _i(o,Wo(),t)&&Xs(_n(),Pr(),o,e,t,o[11],r,!1),dp}function ku(e,t,r,o,u){const d=u?"class":"style";Bg(e,r,t.inputs[d],d,o)}function fp(e,t,r,o){const u=rt(),c=_n(),d=20+e,g=u[11],w=u[d]=Pl(g,t,Je.lFrame.currentNamespace),A=c.firstCreatePass?function(e,t,r,o,u,c,d){const g=t.consts,A=oc(t,e,2,u,H(g,c));return th(t,r,A,H(g,d)),null!==A.attrs&&ah(A,A.attrs,!1),null!==A.mergedAttrs&&ah(A,A.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,A),A}(d,c,u,0,t,r,o):c.data[d];Di(A,!0);const F=A.mergedAttrs;null!==F&&At(g,w,F);const W=A.classes;null!==W&&Bd(g,w,W);const G=A.styles;null!==G&&nf(g,w,G),64!=(64&A.flags)&&Ll(c,u,w,A),0===Je.lFrame.elementDepthCount&&Ls(w,u),Je.lFrame.elementDepthCount++,Rr(A)&&(Yl(c,u,A),Ag(c,A,u)),null!==o&&Ql(u,A)}function pp(){let e=bn();ha()?hu():(e=e.parent,Di(e,!1));const t=e;Je.lFrame.elementDepthCount--;const r=_n();r.firstCreatePass&&(vs(r,e),jn(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ku(r,t,rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ku(r,t,rt(),t.stylesWithoutHost,!1)}function Em(e,t,r,o){fp(e,t,r,o),pp()}function gp(e,t,r){const o=rt(),u=_n(),c=e+20,d=u.firstCreatePass?function(e,t,r,o,u){const c=t.consts,d=H(c,o),g=oc(t,e,8,"ng-container",d);return null!==d&&ah(g,d,!0),th(t,r,g,H(c,u)),null!==t.queries&&t.queries.elementStart(t,g),g}(c,u,o,t,r):u.data[c];Di(d,!0);const g=o[c]=o[11].createComment("");Ll(u,o,g,d),Ls(g,o),Rr(d)&&(Yl(u,o,d),Ag(u,d,o)),null!=r&&Ql(o,d)}function mp(){let e=bn();const t=_n();ha()?hu():(e=e.parent,Di(e,!1)),t.firstCreatePass&&(vs(t,e),jn(e)&&t.queries.elementEnd(e))}function s(){return rt()}function n(e){return!!e&&"function"==typeof e.then}function i(e){return!!e&&"function"==typeof e.subscribe}const a=i;function l(e,t,r,o){const u=rt(),c=_n(),d=bn();return function(e,t,r,o,u,c,d,g){const w=Rr(o),F=e.firstCreatePass&&Vg(e),W=t[8],G=sh(t);let he=!0;if(3&o.type||g){const Fe=de(o,t),Rt=g?g(Fe):Fe,st=G.length,fn=g?On=>g(R(On[o.index])):o.index;if(Kn(r)){let On=null;if(!g&&w&&(On=function(e,t,r,o){const u=e.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const d=u[c];if(d===r&&u[c+1]===o){const g=t[7],w=u[c+2];return g.length>w?g[w]:null}"string"==typeof d&&(c+=2)}return null}(e,t,u,o.index)),null!==On)(On.__ngLastListenerFn__||On).__ngNextListenerFn__=c,On.__ngLastListenerFn__=c,he=!1;else{c=K(o,t,W,c,!1);const gr=r.listen(Rt,u,c);G.push(c,gr),F&&F.push(u,fn,st,st+1)}}else c=K(o,t,W,c,!0),Rt.addEventListener(u,c,d),G.push(c),F&&F.push(u,fn,st,d)}else c=K(o,t,W,c,!1);const be=o.outputs;let qe;if(he&&null!==be&&(qe=be[u])){const Fe=qe.length;if(Fe)for(let Rt=0;Rt<Fe;Rt+=2){const bs=t[qe[Rt]][qe[Rt+1]].subscribe(c),Pa=G.length;G.push(c,bs),F&&F.push(u,o.index,Pa,-(Pa+1))}}}(c,u,u[11],d,e,t,!!r,o),l}function L(e,t,r,o){try{return!1!==r(o)}catch(u){return Ug(e,u),!1}}function K(e,t,r,o,u){return function c(d){if(d===Function)return o;const g=2&e.flags?P(e.index,t):t;0==(32&t[2])&&xf(g);let w=L(t,0,o,d),A=c.__ngNextListenerFn__;for(;A;)w=L(t,0,A,d)&&w,A=A.__ngNextListenerFn__;return u&&!1===w&&(d.preventDefault(),d.returnValue=!1),w}}function se(e=1){return function(e){return(Je.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Je.lFrame.contextLView))[8]}(e)}function Vt(e,t,r){return ln(e,"",t,"",r),Vt}function ln(e,t,r,o,u){const c=rt(),d=Xc(c,t,r,o);return d!==Fn&&Xs(_n(),Pr(),c,e,d,c[11],u,!1),ln}function $n(e,t,r,o,u,c,d){const g=rt(),w=hc(g,t,r,o,u,c);return w!==Fn&&Xs(_n(),Pr(),g,e,w,g[11],d,!1),$n}function $v(e,t,r,o,u){const c=e[r+1],d=null===t;let g=o?sa(c):oa(c),w=!1;for(;0!==g&&(!1===w||d);){const F=e[g+1];cw(e[g],t)&&(w=!0,e[g+1]=o?$l(F):df(F)),g=o?sa(F):oa(F)}w&&(e[r+1]=o?df(c):$l(c))}function cw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Lt(e,t)>=0}function c_(e,t){return function(e,t,r,o){const u=rt(),c=_n(),d=as(2);c.firstUpdatePass&&function(e,t,r,o){const u=e.data;if(null===u[r+1]){const c=u[Or()],d=function(e,t){return t>=e.expandoStartIndex}(e,r);(function(e,t){return 0!=(e.flags&(t?16:32))})(c,o)&&null===t&&!d&&(t=!1),t=function(e,t,r,o){const u=function(e){const t=Je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=o?t.residualClasses:t.residualStyles;if(null===u)0===(o?t.classBindings:t.styleBindings)&&(r=_p(r=l_(null,e,t,r,o),t.attrs,o),c=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==u)if(r=l_(u,e,t,r,o),null===c){let w=function(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==oa(o))return e[sa(o)]}(e,t,o);void 0!==w&&Array.isArray(w)&&(w=l_(null,e,t,w[1],o),w=_p(w,t.attrs,o),function(e,t,r,o){e[sa(r?t.classBindings:t.styleBindings)]=o}(e,t,o,w))}else c=function(e,t,r){let o;const u=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<u;c++)o=_p(o,e[c].hostAttrs,r);return _p(o,t.attrs,r)}(e,t,o)}return void 0!==c&&(o?t.residualClasses=c:t.residualStyles=c),r}(u,c,t,o),function(e,t,r,o,u,c){let d=c?t.classBindings:t.styleBindings,g=sa(d),w=oa(d);e[o]=r;let F,A=!1;if(Array.isArray(r)){const W=r;F=W[1],(null===F||Lt(W,F)>0)&&(A=!0)}else F=r;if(u)if(0!==w){const G=sa(e[g+1]);e[o+1]=Hd(G,g),0!==G&&(e[G+1]=Wd(e[G+1],o)),e[g+1]=function(e,t){return 131071&e|t<<17}(e[g+1],o)}else e[o+1]=Hd(g,0),0!==g&&(e[g+1]=Wd(e[g+1],o)),g=o;else e[o+1]=Hd(w,0),0===g?g=o:e[w+1]=Wd(e[w+1],o),w=o;A&&(e[o+1]=df(e[o+1])),$v(e,F,o,!0),$v(e,F,o,!1),function(e,t,r,o,u){const c=u?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Lt(c,t)>=0&&(r[o+1]=$l(r[o+1]))}(t,F,e,o,c),d=Hd(g,w),c?t.classBindings=d:t.styleBindings=d}(u,c,t,r,d,o)}}(c,e,d,o),t!==Fn&&_i(u,d,t)&&function(e,t,r,o,u,c,d,g){if(!(3&t.type))return;const w=e.data,A=w[g+1];Im(function(e){return 1==(1&e)}(A)?eE(w,t,r,u,oa(A),d):void 0)||(Im(c)||function(e){return 2==(2&e)}(A)&&(c=eE(w,null,r,u,g,d)),function(e,t,r,o,u){const c=Kn(e);if(t)u?c?e.addClass(r,o):r.classList.add(o):c?e.removeClass(r,o):r.classList.remove(o);else{let d=-1===o.indexOf("-")?void 0:Js.DashCase;if(null==u)c?e.removeStyle(r,o,d):r.style.removeProperty(o);else{const g="string"==typeof u&&u.endsWith("!important");g&&(u=u.slice(0,-10),d|=Js.Important),c?e.setStyle(r,o,u,d):r.style.setProperty(o,u,g?"important":"")}}}(o,d,$(Or(),r),u,c))}(c,c.data[Or()],u,u[11],e,u[d+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=J(Bo(e)))),e}(t,r),o,d)}(e,t,null,!0),c_}function l_(e,t,r,o,u){let c=null;const d=r.directiveEnd;let g=r.directiveStylingLast;for(-1===g?g=r.directiveStart:g++;g<d&&(c=t[g],o=_p(o,c.hostAttrs,u),c!==e);)g++;return null!==e&&(r.directiveStylingLast=g),o}function _p(e,t,r){const o=r?1:2;let u=-1;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?u=d:u===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),le(e,d,!!r||t[++c]))}return void 0===e?null:e}function eE(e,t,r,o,u,c){const d=null===t;let g;for(;u>0;){const w=e[u],A=Array.isArray(w),F=A?w[1]:w,W=null===F;let G=r[u+1];G===Fn&&(G=W?oe:void 0);let he=W?je(G,o):F===o?G:void 0;if(A&&!Im(he)&&(he=je(w,o)),Im(he)&&(g=he,d))return g;const be=e[u+1];u=d?sa(be):oa(be)}if(null!==t){let w=c?t.residualClasses:t.residualStyles;null!=w&&(g=je(w,o))}return g}function Im(e){return void 0!==e}function nE(e,t=""){const r=rt(),o=_n(),u=e+20,c=o.firstCreatePass?oc(o,u,1,t,null):o.data[u],d=r[u]=function(e,t){return Kn(e)?e.createText(t):e.createTextNode(t)}(r[11],t);Ll(o,r,d,c),Di(c,!1)}function d_(e){return wm("",e,""),d_}function wm(e,t,r){const o=rt(),u=Xc(o,e,t,r);return u!==Fn&&aa(o,Or(),u),wm}const fd=void 0;var Ww=["en",[["a","p"],["AM","PM"],fd],[["AM","PM"],fd,fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fd,"{1} 'at' {0}",fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let Dh={};function h_(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=CE(t);if(r)return r;const o=t.split("-")[0];if(r=CE(o),r)return r;if("en"===o)return Ww;throw new Error(`Missing locale data for the locale "${e}".`)}function wE(e){return h_(e)[Tn.PluralCase]}function CE(e){return e in Dh||(Dh[e]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[e]),Dh[e]}var Tn=(()=>((Tn=Tn||{})[Tn.LocaleId=0]="LocaleId",Tn[Tn.DayPeriodsFormat=1]="DayPeriodsFormat",Tn[Tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tn[Tn.DaysFormat=3]="DaysFormat",Tn[Tn.DaysStandalone=4]="DaysStandalone",Tn[Tn.MonthsFormat=5]="MonthsFormat",Tn[Tn.MonthsStandalone=6]="MonthsStandalone",Tn[Tn.Eras=7]="Eras",Tn[Tn.FirstDayOfWeek=8]="FirstDayOfWeek",Tn[Tn.WeekendRange=9]="WeekendRange",Tn[Tn.DateFormat=10]="DateFormat",Tn[Tn.TimeFormat=11]="TimeFormat",Tn[Tn.DateTimeFormat=12]="DateTimeFormat",Tn[Tn.NumberSymbols=13]="NumberSymbols",Tn[Tn.NumberFormats=14]="NumberFormats",Tn[Tn.CurrencyCode=15]="CurrencyCode",Tn[Tn.CurrencySymbol=16]="CurrencySymbol",Tn[Tn.CurrencyName=17]="CurrencyName",Tn[Tn.Currencies=18]="Currencies",Tn[Tn.Directionality=19]="Directionality",Tn[Tn.PluralCase=20]="PluralCase",Tn[Tn.ExtraData=21]="ExtraData",Tn))();const Cm="en-US";let DE=Cm;function g_(e,t,r,o,u){if(e=ve(e),Array.isArray(e))for(let c=0;c<e.length;c++)g_(e[c],t,r,o,u);else{const c=_n(),d=rt();let g=tu(e)?e:ve(e.provide),w=Bf(e);const A=bn(),F=1048575&A.providerIndexes,W=A.directiveStart,G=A.providerIndexes>>20;if(tu(e)||!e.multi){const he=new Is(w,u,hd),be=y_(g,t,u?F:F+G,W);-1===be?(D(go(A,d),c,g),m_(c,e,t.length),t.push(g),A.directiveStart++,A.directiveEnd++,u&&(A.providerIndexes+=1048576),r.push(he),d.push(he)):(r[be]=he,d[be]=he)}else{const he=y_(g,t,F+G,W),be=y_(g,t,F,F+G),qe=he>=0&&r[he],Fe=be>=0&&r[be];if(u&&!Fe||!u&&!qe){D(go(A,d),c,g);const Rt=function(e,t,r,o,u){const c=new Is(e,r,hd);return c.multi=[],c.index=t,c.componentProviders=0,qE(c,u,o&&!r),c}(u?$C:jC,r.length,u,o,w);!u&&Fe&&(r[be].providerFactory=Rt),m_(c,e,t.length,0),t.push(g),A.directiveStart++,A.directiveEnd++,u&&(A.providerIndexes+=1048576),r.push(Rt),d.push(Rt)}else m_(c,e,he>-1?he:be,qE(r[u?be:he],w,!u&&o));!u&&o&&Fe&&r[be].componentProviders++}}}function m_(e,t,r,o){const u=tu(t);if(u||function(e){return!!e.useClass}(t)){const d=(t.useClass||t).prototype.ngOnDestroy;if(d){const g=e.destroyHooks||(e.destroyHooks=[]);if(!u&&t.multi){const w=g.indexOf(r);-1===w?g.push(r,[o,d]):g[w+1].push(o,d)}else g.push(r,d)}}}function qE(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function y_(e,t,r,o){for(let u=r;u<o;u++)if(t[u]===e)return u;return-1}function jC(e,t,r,o){return __(this.multi,[])}function $C(e,t,r,o){const u=this.multi;let c;if(this.providerFactory){const d=this.providerFactory.componentProviders,g=Et(r,r[1],this.providerFactory.index,o);c=g.slice(0,d),__(u,c);for(let w=d;w<g.length;w++)c.push(g[w])}else c=[],__(u,c);return c}function __(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ZE(e,t=[]){return r=>{r.providersResolver=(o,u)=>function(e,t,r){const o=_n();if(o.firstCreatePass){const u=yr(e);g_(r,o.data,o.blueprint,u,!0),g_(t,o.data,o.blueprint,u,!1)}}(o,u?u(e):e,t)}}class YE{}const JE="ngComponent";class zC{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${J(e)}. Did you add it to @NgModule.entryComponents?`);return t[JE]=e,t}(t)}}let Th=(()=>{class e{}return e.NULL=new zC,e})();function Sm(...e){}function Ah(e,t){return new Vu(de(e,t))}const qC=function(){return Ah(bn(),rt())};let Vu=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=qC,e})();function XE(e){return e instanceof Vu?e.nativeElement:e}class Mm{}let ZC=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>QC(),e})();const QC=function(){const e=rt(),r=P(bn().index,e);return function(e){return e[11]}(Ft(r)?r:e)};let E_=(()=>{class e{}return e.\u0275prov=kt({token:e,providedIn:"root",factory:()=>null}),e})();class e0{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const I_=new e0("13.0.1"),Sh={};function Rm(e,t,r,o,u=!1){for(;null!==r;){const c=t[r.index];if(null!==c&&o.push(R(c)),jt(c))for(let g=10;g<c.length;g++){const w=c[g],A=w[1].firstChild;null!==A&&Rm(w[1],w,A,o)}const d=r.type;if(8&d)Rm(e,t,r.child,o);else if(32&d){const g=ec(r,t);let w;for(;w=g();)o.push(w)}else if(16&d){const g=Vd(t,r);if(Array.isArray(g))o.push(...g);else{const w=Nl(t[16]);Rm(w[1],w,g,o,!0)}}r=u?r.projectionNext:r.next}return o}class Cp{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Rm(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(jt(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Ld(t,o),Ns(r,o))}this._attachedToViewContainer=!1}Ya(this._lView[1],this._lView)}onDestroy(t){If(this._lView[1],this._lView,null,t)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){td(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){Do(!0);try{td(e,t,r)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Bl(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eD extends Cp{constructor(t){super(t),this._view=t}detectChanges(){uc(this._view)}checkNoChanges(){!function(e){Do(!0);try{uc(e)}finally{Do(!1)}}(this._view)}get context(){return null}}class t0 extends Th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Dn(t);return new w_(r,this.ngModule)}}function n0(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const nD=new kr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qs});class w_ extends YE{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(cf).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return n0(this.componentDef.inputs)}get outputs(){return n0(this.componentDef.outputs)}create(t,r,o,u){const c=(u=u||this.ngModule)?function(e,t){return{get:(r,o,u)=>{const c=e.get(r,Sh,u);return c!==Sh||o===Sh?c:t.get(r,o,u)}}}(t,u.injector):t,d=c.get(Mm,ji),g=c.get(E_,null),w=d.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",F=o?function(e,t,r){if(Kn(e))return e.selectRootElement(t,r===St.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(w,o,this.componentDef.encapsulation):Pl(d.createRenderer(null,this.componentDef),A,function(e){const t=e.toLowerCase();return"svg"===t?is:"math"===t?"http://www.w3.org/1998/MathML/":null}(A)),W=this.componentDef.onPush?576:528,G=function(e,t){return{components:[],scheduler:e||Qs,clean:eu,playerHandler:t||null,flags:0}}(),he=Xa(0,null,null,1,0,null,null,null,null,null),be=jc(null,he,G,W,null,null,d,w,g,c);let qe,Fe;Ao(be);try{const Rt=function(e,t,r,o,u,c){const d=r[1];r[20]=e;const w=oc(d,20,2,"#host",null),A=w.mergedAttrs=t.hostAttrs;null!==A&&(ah(w,A,!0),null!==e&&(At(u,e,A),null!==w.classes&&Bd(u,e,w.classes),null!==w.styles&&nf(u,e,w.styles)));const F=o.createRenderer(e,t),W=jc(r,Jd(t),null,t.onPush?64:16,r[20],w,o,F,c||null,null);return d.firstCreatePass&&(D(go(w,r),d,t.type),Pg(d,w),nh(w,r.length,1)),Hc(r,W),r[20]=W}(F,this.componentDef,be,d,w);if(F)if(o)At(w,F,["ng-version",I_.full]);else{const{attrs:st,classes:fn}=function(e){const t=[],r=[];let o=1,u=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===u?""!==c&&t.push(c,e[++o]):8===u&&r.push(c);else{if(!Us(u))break;u=c}o++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);st&&At(w,F,st),fn&&fn.length>0&&Bd(w,F,fn.join(" "))}if(Fe=ct(he,20),void 0!==r){const st=Fe.projection=[];for(let fn=0;fn<this.ngContentSelectors.length;fn++){const On=r[fn];st.push(null!=On?Array.from(On):null)}}qe=function(e,t,r,o,u){const c=r[1],d=function(e,t,r){const o=bn();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),rh(e,o,t,Mu(e,t,1,null),r));const u=Et(t,e,o.directiveStart,o);Ls(u,t);const c=de(o,t);return c&&Ls(c,t),u}(c,r,t);if(o.components.push(d),e[8]=d,u&&u.forEach(w=>w(d,t)),t.contentQueries){const w=bn();t.contentQueries(1,d,w.directiveStart)}const g=bn();return!c.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(zs(g.index),Rg(r[1],g,0,g.directiveStart,g.directiveEnd,t),bf(t,d)),d}(Rt,this.componentDef,be,G,[im]),Zl(he,be,null)}finally{fo()}return new sD(this.componentType,qe,Ah(Fe,be),be,Fe)}}class sD extends class{}{constructor(t,r,o,u,c){super(),this.location=o,this._rootLView=u,this._tNode=c,this.instance=r,this.hostView=this.changeDetectorRef=new eD(u),this.componentType=t}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class pd{}class r0{}const Mh=new Map;class o0 extends pd{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t0(this);const o=Er(t);this._bootstrapComponents=$o(o.bootstrap),this._r3Injector=Wg(t,r,[{provide:pd,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],J(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=ei.THROW_IF_NOT_FOUND,o=Ct.Default){return t===ei||t===pd||t===nd?this:this._r3Injector.get(t,r,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class D_ extends r0{constructor(t){super(),this.moduleType=t,null!==Er(t)&&function(e){const t=new Set;!function r(o){const u=Er(o,!0),c=u.id;null!==c&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${J(t)} vs ${J(t.name)}`)}(c,Mh.get(c),o),Mh.set(c,o));const d=$o(u.imports);for(const g of d)t.has(g)||(t.add(g),r(g))}(e)}(t)}create(t){return new o0(this.moduleType,t)}}function a0(e,t,r,o){return u0(rt(),pi(),e,t,r,o)}function u0(e,t,r,o,u,c){const d=t+r;return _i(e,d,u)?function(e,t,r){return e[t]=r}(e,d+1,c?o.call(c,u):o(u)):function(e,t){const r=e[t];return r===Fn?void 0:r}(e,d+1)}function f0(e,t){const r=_n();let o;const u=e+20;r.firstCreatePass?(o=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}throw new ot("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[u]=o,o.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(u,o.onDestroy)):o=r.data[u];const c=o.factory||(o.factory=Ii(o.type)),d=er(hd);try{const g=Br(!1),w=c();return Br(g),function(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,rt(),u,w),w}finally{er(d)}}function p0(e,t,r){const o=e+20,u=rt(),c=Wt(u,o);return function(e,t){return e[1].data[t].pure}(u,o)?u0(u,pi(),t,c.transform,r,c):c.transform(r)}function b_(e){return t=>{setTimeout(e,void 0,t)}}const Uu=class extends m.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,o){var w,A,F;let u=t,c=r||(()=>null),d=o;if(t&&"object"==typeof t){const W=t;u=null==(w=W.next)?void 0:w.bind(W),c=null==(A=W.error)?void 0:A.bind(W),d=null==(F=W.complete)?void 0:F.bind(W)}this.__isAsync&&(c=b_(c),u&&(u=b_(u)),d&&(d=b_(d)));const g=super.subscribe({next:u,error:c,complete:d});return t instanceof _.w0&&t.add(g),g}};function CD(){return this._results[qc()]()}class xm{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=qc(),o=xm.prototype;o[r]||(o[r]=CD)}get changes(){return this._changes||(this._changes=new Uu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const o=this;o.dirty=!1;const u=Ks(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let u=e[o],c=t[o];if(r&&(u=r(u),c=r(c)),c!==u)return!1}return!0}(o._results,u,r))&&(o._results=u,o.length=u.length,o.last=u[this.length-1],o.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const bD=function(){return Nm(bn(),rt())};let Tp=(()=>{class e{}return e.__NG_ELEMENT_ID__=bD,e})();const TD=Tp,AD=class extends TD{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}createEmbeddedView(t){const r=this._declarationTContainer.tViews,o=jc(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(o[19]=c.createEmbeddedView(r)),Zl(r,o,t),new Cp(o)}};function Nm(e,t){return 4&e.type?new AD(t,e,Ah(e,t)):null}const RD=function(){return y0(bn(),rt())};let Om=(()=>{class e{}return e.__NG_ELEMENT_ID__=RD,e})();const ND=Om,g0=class extends ND{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Oo(this._hostTNode,this._hostLView);if(hn(t)){const r=Ke(t,this._hostLView),o=oo(t);return new Zn(r[1].data[o+8],r)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=m0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,o){const u=t.createEmbeddedView(r||{});return this.insert(u,o),u}createComponent(t,r,o,u,c){const d=t&&!("function"==typeof t);let g;if(d)g=r;else{const W=r||{};g=W.index,o=W.injector,u=W.projectableNodes,c=W.ngModuleRef}const w=d?t:new w_(Dn(t)),A=o||this.parentInjector;if(!c&&null==w.ngModule&&A){const W=A.get(pd,null);W&&(c=W)}const F=w.create(A,u,void 0,c);return this.insert(F.hostView,g),F}insert(t,r){const o=t._lView,u=o[1];if(jt(o[3])){const F=this.indexOf(t);if(-1!==F)this.detach(F);else{const W=o[3],G=new g0(W,W[6],W[3]);G.detach(G.indexOf(t))}}const c=this._adjustIndex(r),d=this._lContainer;!function(e,t,r,o){const u=10+o,c=r.length;o>0&&(r[u-1][4]=t),o<c-10?(t[4]=r[u],Xo(r,10+o,t)):(r.push(t),t[4]=null),t[3]=r;const d=t[17];null!==d&&r!==d&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(d,t);const g=t[19];null!==g&&g.insertView(e),t[2]|=128}(u,o,d,c);const g=sc(c,d),w=o[11],A=Fl(w,d[7]);return null!==A&&function(e,t,r,o,u,c){o[0]=u,o[6]=t,Bl(e,o,r,1,u,c)}(u,d[6],w,o,A,g),t.attachToViewContainerRef(),Xo(T_(d),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=m0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Ld(this._lContainer,r);o&&(Ns(T_(this._lContainer),r),Ya(o[1],o))}detach(t){const r=this._adjustIndex(t,-1),o=Ld(this._lContainer,r);return o&&null!=Ns(T_(this._lContainer),r)?new Cp(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function m0(e){return e[8]}function T_(e){return e[8]||(e[8]=[])}function y0(e,t){let r;const o=t[e.index];if(jt(o))r=o;else{let u;if(8&e.type)u=R(o);else{const c=t[11];u=c.createComment("");const d=de(e,t);ic(c,Fl(c,d),u,function(e,t){return Kn(e)?e.nextSibling(t):t.nextSibling}(c,d),!1)}t[e.index]=r=ih(o,t,u,e),Hc(t,r)}return new g0(r,e,t)}class A_{constructor(t){this.queryList=t,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class S_{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,u=[];for(let c=0;c<o;c++){const d=r.getByIndex(c);u.push(this.queries[d.indexInDeclarationView].clone())}return new S_(u)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==T0(t,r).matches&&this.queries[r].setDirty()}}class _0{constructor(t,r,o=null){this.predicate=t,this.flags=r,this.read=o}}class M_{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const u=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(t,u);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new M_(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class R_{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new R_(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let u=0;u<o.length;u++){const c=o[u];this.matchTNodeWithReadOption(t,r,kD(r,c)),this.matchTNodeWithReadOption(t,r,Ze(r,t,c,!1,!1))}else o===Tp?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Ze(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const u=this.metadata.read;if(null!==u)if(u===Vu||u===Om||u===Tp&&4&r.type)this.addMatch(r.index,-2);else{const c=Ze(r,t,u,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function kD(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function LD(e,t,r,o){return-1===r?function(e,t){return 11&e.type?Ah(e,t):4&e.type?Nm(e,t):null}(t,e):-2===r?function(e,t,r){return r===Vu?Ah(t,e):r===Tp?Nm(t,e):r===Om?y0(t,e):void 0}(e,t,o):Et(e,e[1],r,t)}function v0(e,t,r,o){const u=t[19].queries[o];if(null===u.matches){const c=e.data,d=r.matches,g=[];for(let w=0;w<d.length;w+=2){const A=d[w];g.push(A<0?null:LD(t,c[A],d[w+1],r.metadata.read))}u.matches=g}return u.matches}function x_(e,t,r,o){const u=e.queries.getByIndex(r),c=u.matches;if(null!==c){const d=v0(e,t,u,r);for(let g=0;g<c.length;g+=2){const w=c[g];if(w>0)o.push(d[g/2]);else{const A=c[g+1],F=t[-w];for(let W=10;W<F.length;W++){const G=F[W];G[17]===G[3]&&x_(G[1],G,A,o)}if(null!==F[9]){const W=F[9];for(let G=0;G<W.length;G++){const he=W[G];x_(he[1],he,A,o)}}}}}return o}function E0(e){const t=rt(),r=_n(),o=zo();Go(o+1);const u=T0(r,o);if(e.dirty&&M(t)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const c=u.crossesNgTemplate?x_(r,t,o,[]):v0(r,t,u,o);e.reset(c,XE),e.notifyOnChanges()}return!0}return!1}function I0(e,t,r){const o=_n();o.firstCreatePass&&(b0(o,new _0(e,t,r),-1),2==(2&t)&&(o.staticViewQueries=!0)),D0(o,rt(),t)}function w0(e,t,r,o){const u=_n();if(u.firstCreatePass){const c=bn();b0(u,new _0(t,r,o),c.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(u,e),2==(2&r)&&(u.staticContentQueries=!0)}D0(u,rt(),r)}function C0(){return e=rt(),t=zo(),e[19].queries[t].queryList;var e,t}function D0(e,t,r){const o=new xm(4==(4&r));If(e,t,o,o.destroy),null===t[19]&&(t[19]=new S_),t[19].queries.push(new A_(o))}function b0(e,t,r){null===e.queries&&(e.queries=new M_),e.queries.track(new R_(t,r))}function T0(e,t){return e.queries.getByIndex(t)}function A0(e,t){return Nm(e,t)}const L_=new kr("Application Initializer");let xh=(()=>{class e{constructor(r){this.appInits=r,this.resolve=Sm,this.reject=Sm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,u)=>{this.resolve=o,this.reject=u})}runInitializers(){if(this.initialized)return;const r=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(n(c))r.push(c);else if(a(c)){const d=new Promise((g,w)=>{c.subscribe({complete:g,error:w})});r.push(d)}}Promise.all(r).then(()=>{o()}).catch(u=>{this.reject(u)}),0===r.length&&o(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Jr(L_,8))},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();const z0=new kr("AppId"),fb={provide:z0,useFactory:function(){return`${V_()}${V_()}${V_()}`},deps:[]};function V_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const G0=new kr("Platform Initializer"),K0=new kr("Platform ID"),q0=new kr("appBootstrapListener");let Z0=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();const Fm=new kr("LocaleId"),Y0=new kr("DefaultCurrencyCode");class gb{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const U_=function(e){return new D_(e)},mb=U_,yb=function(e){return Promise.resolve(U_(e))},J0=function(e){const t=U_(e),o=$o(Er(e).declarations).reduce((u,c)=>{const d=Dn(c);return d&&u.push(new w_(d)),u},[]);return new gb(t,o)},_b=J0,vb=function(e){return Promise.resolve(J0(e))};let B_=(()=>{class e{constructor(){this.compileModuleSync=mb,this.compileModuleAsync=yb,this.compileModuleAndAllComponentsSync=_b,this.compileModuleAndAllComponentsAsync=vb}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();const wb=(()=>Promise.resolve(0))();function j_(e){"undefined"==typeof Zone?wb.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class da{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uu(!1),this.onMicrotaskEmpty=new Uu(!1),this.onStable=new Uu(!1),this.onError=new Uu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!o&&r,u.shouldCoalesceRunChangeDetection=o,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){let e=Cn.requestAnimationFrame,t=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Cn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,H_(e),e.isCheckStableRunning=!0,$_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),H_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,o,u,c,d,g)=>{try{return X0(e),r.invokeTask(u,c,d,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),eI(e)}},onInvoke:(r,o,u,c,d,g,w)=>{try{return X0(e),r.invoke(u,c,d,g,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),eI(e)}},onHasTask:(r,o,u,c)=>{r.hasTask(u,c),o===u&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,H_(e),$_(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,o,u,c)=>(r.handleError(u,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!da.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(da.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,u){const c=this._inner,d=c.scheduleEventTask("NgZoneEvent: "+u,t,Db,Sm,Sm);try{return c.runTask(d,r,o)}finally{c.cancelTask(d)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Db={};function $_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function H_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function X0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eI(e){e._nesting--,$_(e)}class Ab{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uu,this.onMicrotaskEmpty=new Uu,this.onStable=new Uu,this.onError=new Uu}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,u){return t.apply(r,o)}}let tI=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{da.assertNotInAngularZone(),j_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())j_(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,u){let c=-1;o&&o>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==c),r(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:r,timeoutId:c,updateCb:u})}whenStable(r,o,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,o,u){return[]}}return e.\u0275fac=function(r){return new(r||e)(Jr(da))},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})(),nI=(()=>{class e{constructor(){this._applications=new Map,W_.addToWindow(this)}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return W_.findTestabilityInTree(this,r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();class Sb{addToWindow(t){}findTestabilityInTree(t,r,o){return null}}function Mb(e){W_=e}let W_=new Sb,rI=!0,iI=!1;function z_(){return iI=!0,rI}function Rb(){if(iI)throw new Error("Cannot enable prod mode after platform setup.");rI=!1}let au;const sI=new kr("AllowMultipleToken");class Lb{constructor(t,r){this.name=t,this.token=r}}function oI(e,t,r=[]){const o=`Platform: ${t}`,u=new kr(o);return(c=[])=>{let d=aI();if(!d||d.injector.get(sI,!1))if(e)e(r.concat(c).concat({provide:u,useValue:!0}));else{const g=r.concat(c).concat({provide:u,useValue:!0},{provide:Wc,useValue:"platform"});!function(e){if(au&&!au.destroyed&&!au.injector.get(sI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");au=e.get(uI);const t=e.get(G0,null);t&&t.forEach(r=>r())}(ei.create({providers:g,name:o}))}return function(e){const t=aI();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(u)}}function aI(){return au&&!au.destroyed?au:null}let uI=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const g=function(e,t){let r;return r="noop"===e?new Ab:("zone.js"===e?void 0:e)||new da({enableLongStackTrace:z_(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),w=[{provide:da,useValue:g}];return g.run(()=>{const A=ei.create({providers:w,parent:this.injector,name:r.moduleType.name}),F=r.create(A),W=F.injector.get(yt,null);if(!W)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return g.runOutsideAngular(()=>{const G=g.onError.subscribe({next:he=>{W.handleError(he)}});F.onDestroy(()=>{G_(this._modules,F),G.unsubscribe()})}),function(e,t,r){try{const o=r();return n(o)?o.catch(u=>{throw t.runOutsideAngular(()=>e.handleError(u)),u}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(W,g,()=>{const G=F.injector.get(xh);return G.runInitializers(),G.donePromise.then(()=>(function(e){et(e,"Expected localeId to be defined"),"string"==typeof e&&(DE=e.toLowerCase().replace(/_/g,"-"))}(F.injector.get(Fm,Cm)||Cm),this._moduleDoBootstrap(F),F))})})}bootstrapModule(r,o=[]){const u=cI({},o);return function(e,t,r){const o=new D_(r);return Promise.resolve(o)}(0,0,r).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(r){const o=r.injector.get(Sp);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(u=>o.bootstrap(u));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${J(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(o)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Jr(ei))},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();function cI(e,t){return Array.isArray(t)?t.reduce(cI,e):vn(vn({},e),t)}let Sp=(()=>{class e{constructor(r,o,u,c,d){this._zone=r,this._injector=o,this._exceptionHandler=u,this._componentFactoryResolver=c,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new ae.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),w=new ae.y(A=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{da.assertNotInAngularZone(),j_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{F.unsubscribe(),W.unsubscribe()}});this.isStable=(0,pe.T)(g,w.pipe((0,ne.B)()))}bootstrap(r,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let u;u=r instanceof YE?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(u.componentType);const c=function(e){return e.isBoundToModule}(u)?void 0:this._injector.get(pd),g=u.create(ei.NULL,[],o||u.selector,c),w=g.location.nativeElement,A=g.injector.get(tI,null),F=A&&g.injector.get(nI);return A&&F&&F.registerApplication(w,A),g.onDestroy(()=>{this.detachView(g.hostView),G_(this.components,g),F&&F.unregisterApplication(w)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;G_(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(q0,[]).concat(this._bootstrapListeners).forEach(u=>u(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(Jr(da),Jr(ei),Jr(yt),Jr(Th),Jr(xh))},e.\u0275prov=kt({token:e,factory:e.\u0275fac}),e})();function G_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Wb=function(e){return function(e,t,r){if(mn(e)&&!r){const o=P(e.index,t);return new Cp(o,o)}return 47&e.type?new Cp(t[16],t):null}(bn(),rt(),16==(16&e))};let zb=(()=>{class e{}return e.__NG_ELEMENT_ID__=Wb,e})();const tT=function(e){return null};class mI{constructor(){}supports(t){return ud(t)}create(t){return new iT(t)}}const rT=(e,t)=>t;class iT{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rT}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,u=0,c=null;for(;r||o;){const d=!o||r&&r.currentIndex<_I(o,u,c)?r:o,g=_I(d,u,c),w=d.currentIndex;if(d===o)u--,o=o._nextRemoved;else if(r=r._next,null==d.previousIndex)u++;else{c||(c=[]);const A=g-u,F=w-u;if(A!=F){for(let G=0;G<A;G++){const he=G<c.length?c[G]:c[G]=0,be=he+G;F<=be&&be<A&&(c[G]=he+1)}c[d.previousIndex]=F-A}}g!==w&&t(d,g,w)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!ud(t))throw new Error(`Error trying to diff '${J(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let u,c,d,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let g=0;g<this.length;g++)c=t[g],d=this._trackByFn(g,c),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,c,d,g)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,d,g),o=!0),r=r._next}else u=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[qc()]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,g=>{d=this._trackByFn(u,g),null!==r&&Object.is(r.trackById,d)?(o&&(r=this._verifyReinsertion(r,g,d,u)),Object.is(r.item,g)||this._addIdentityChange(r,g)):(r=this._mismatch(r,g,d,u),o=!0),r=r._next,u++}),this.length=u;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,u){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,c,u)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,u))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,c,u)):t=this._addAfter(new sT(r,o),c,u),t}_verifyReinsertion(t,r,o,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?t=this._reinsertAfter(c,t._prev,u):t.currentIndex!=u&&(t.currentIndex=u,this._addToMoves(t,u)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const u=t._prevRemoved,c=t._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const u=null===r?this._itHead:r._next;return t._next=u,t._prev=r,null===u?this._itTail=t:u._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new yI),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sT{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oT{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class yI{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new oT,this.map.set(r,o)),o.add(t)}get(t,r){const u=this.map.get(t);return u?u.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _I(e,t,r){const o=e.previousIndex;if(null===o)return o;let u=0;return r&&o<r.length&&(u=r[o]),o+t+u}class vI{constructor(){}supports(t){return t instanceof Map||Jf(t)}create(){return new aT}}class aT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Jf(t)))throw new Error(`Error trying to diff '${J(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,u)=>{if(r&&r.key===u)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(u,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const u=this._records.get(t);this._maybeAddToChanges(u,r);const c=u._prev,d=u._next;return c&&(c._next=d),d&&(d._prev=c),u._next=null,u._prev=null,u}const o=new uT(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class uT{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EI(){return new Bm([new mI])}let Bm=(()=>{class e{constructor(r){this.factories=r}static create(r,o){if(null!=o){const u=o.factories.slice();r=r.concat(u)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||EI()),deps:[[e,new Fs,new _o]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=kt({token:e,providedIn:"root",factory:EI}),e})();function II(){return new jm([new vI])}let jm=(()=>{class e{constructor(r){this.factories=r}static create(r,o){if(o){const u=o.factories.slice();r=r.concat(u)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||II()),deps:[[e,new Fs,new _o]]}}find(r){const o=this.factories.find(u=>u.supports(r));if(o)return o;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=kt({token:e,providedIn:"root",factory:II}),e})();const lT=[new vI],hT=new Bm([new mI]),fT=new jm(lT),pT=oI(null,"core",[{provide:K0,useValue:"unknown"},{provide:uI,deps:[ei]},{provide:nI,deps:[]},{provide:Z0,deps:[]}]),vT=[{provide:Sp,useClass:Sp,deps:[da,ei,yt,Th,xh]},{provide:nD,deps:[da],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:xh,useClass:xh,deps:[[new _o,L_]]},{provide:B_,useClass:B_,deps:[]},fb,{provide:Bm,useFactory:function(){return hT},deps:[]},{provide:jm,useFactory:function(){return fT},deps:[]},{provide:Fm,useFactory:function(e){return e||"undefined"!=typeof $localize&&$localize.locale||Cm},deps:[[new za(Fm),new _o,new Fs]]},{provide:Y0,useValue:"USD"}];let IT=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Jr(Sp))},e.\u0275mod=gn({type:e}),e.\u0275inj=un({providers:vT}),e})()},7537:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Fj:()=>Re,CE:()=>Wi,qu:()=>ct,u:()=>As,sg:()=>Ri,u5:()=>$,JJ:()=>Qt,JL:()=>sn,F:()=>ir,On:()=>we,UX:()=>de,Q7:()=>Tr,kI:()=>Z,_Y:()=>Oe});var m=k(3668),_=k(6019),ae=k(8305),pe=k(886),ne=k(9985),Ie=k(8830),ce=k(8889),J=k(2937),Te=k(2857),te=k(5947),ve=k(4753);let $e=(()=>{class P{constructor(y,b){this._renderer=y,this._elementRef=b,this.onChange=H=>{},this.onTouched=()=>{}}setProperty(y,b){this._renderer.setProperty(this._elementRef.nativeElement,y,b)}registerOnTouched(y){this.onTouched=y}registerOnChange(y){this.onChange=y}setDisabledState(y){this.setProperty("disabled",y)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(m.Qsj),m.Y36(m.SBq))},P.\u0275dir=m.lG2({type:P}),P})(),Ve=(()=>{class P extends $e{}return P.\u0275fac=function(){let M;return function(b){return(M||(M=m.n5z(P)))(b||P)}}(),P.\u0275dir=m.lG2({type:P,features:[m.qOj]}),P})();const ot=new m.OlP("NgValueAccessor"),Ee={provide:ot,useExisting:(0,m.Gpc)(()=>Re),multi:!0},Ue=new m.OlP("CompositionEventMode");let Re=(()=>{class P extends $e{constructor(y,b,H){super(y,b),this._compositionMode=H,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const P=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(y){this.setProperty("value",null==y?"":y)}_handleInput(y){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(y)}_compositionStart(){this._composing=!0}_compositionEnd(y){this._composing=!1,this._compositionMode&&this.onChange(y)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Ue,8))},P.\u0275dir=m.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(y,b){1&y&&m.NdJ("input",function(ue){return b._handleInput(ue.target.value)})("blur",function(){return b.onTouched()})("compositionstart",function(){return b._compositionStart()})("compositionend",function(ue){return b._compositionEnd(ue.target.value)})},features:[m._Bn([Ee]),m.qOj]}),P})();function at(P){return null==P||0===P.length}function ke(P){return null!=P&&"number"==typeof P.length}const dt=new m.OlP("NgValidators"),Ce=new m.OlP("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Z{static min(M){return P=M,M=>{if(at(M.value)||at(P))return null;const y=parseFloat(M.value);return!isNaN(y)&&y<P?{min:{min:P,actual:M.value}}:null};var P}static max(M){return P=M,M=>{if(at(M.value)||at(P))return null;const y=parseFloat(M.value);return!isNaN(y)&&y>P?{max:{max:P,actual:M.value}}:null};var P}static required(M){return ge(M)}static requiredTrue(M){return!0===M.value?null:{required:!0}}static email(M){return at((P=M).value)||Nt.test(P.value)?null:{email:!0};var P}static minLength(M){return P=M,M=>at(M.value)||!ke(M.value)?null:M.value.length<P?{minlength:{requiredLength:P,actualLength:M.value.length}}:null;var P}static maxLength(M){return P=M,M=>ke(M.value)&&M.value.length>P?{maxlength:{requiredLength:P,actualLength:M.value.length}}:null;var P}static pattern(M){return function(P){if(!P)return tt;let M,y;return"string"==typeof P?(y="","^"!==P.charAt(0)&&(y+="^"),y+=P,"$"!==P.charAt(P.length-1)&&(y+="$"),M=new RegExp(y)):(y=P.toString(),M=P),b=>{if(at(b.value))return null;const H=b.value;return M.test(H)?null:{pattern:{requiredPattern:y,actualValue:H}}}}(M)}static nullValidator(M){return null}static compose(M){return Gt(M)}static composeAsync(M){return pn(M)}}function ge(P){return at(P.value)?{required:!0}:null}function tt(P){return null}function et(P){return null!=P}function Mt(P){const M=(0,m.QGY)(P)?(0,te.D)(P):P;return(0,m.CqO)(M),M}function Ut(P){let M={};return P.forEach(y=>{M=null!=y?vn(vn({},M),y):M}),0===Object.keys(M).length?null:M}function an(P,M){return M.map(y=>y(P))}function kt(P){return P.map(M=>function(P){return!P.validate}(M)?M:y=>M.validate(y))}function Gt(P){if(!P)return null;const M=P.filter(et);return 0==M.length?null:function(y){return Ut(an(y,M))}}function un(P){return null!=P?Gt(kt(P)):null}function pn(P){if(!P)return null;const M=P.filter(et);return 0==M.length?null:function(y){return function(...P){const M=(0,Ie.jO)(P),{args:y,keys:b}=(0,pe.D)(P),H=new ae.y(ue=>{const{length:ze}=y;if(!ze)return void ue.complete();const Je=new Array(ze);let qt=ze,pr=ze;for(let Xt=0;Xt<ze;Xt++){let lr=!1;(0,ne.Xf)(y[Xt]).subscribe(new ce.Q(ue,sr=>{lr||(lr=!0,pr--),Je[Xt]=sr},()=>qt--,void 0,()=>{(!qt||!lr)&&(pr||ue.next(b?(0,Te.n)(b,Je):Je),ue.complete())}))}});return M?H.pipe((0,J.Z)(M)):H}(an(y,M).map(Mt)).pipe((0,ve.U)(Ut))}}function Un(P){return null!=P?pn(kt(P)):null}function Bn(P,M){return null===P?[M]:Array.isArray(P)?[...P,M]:[P,M]}function zn(P){return P._rawValidators}function Xn(P){return P._rawAsyncValidators}function Hn(P){return P?Array.isArray(P)?P:[P]:[]}function Rn(P,M){return Array.isArray(P)?P.includes(M):P===M}function rr(P,M){const y=Hn(M);return Hn(P).forEach(H=>{Rn(y,H)||y.push(H)}),y}function Qn(P,M){return Hn(M).filter(y=>!Rn(P,y))}class Ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,y){return!!this.control&&this.control.hasError(M,y)}getError(M,y){return this.control?this.control.getError(M,y):null}}class zt extends Ct{get formDirective(){return null}get path(){return null}}class An extends Ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class er{constructor(M){this._cd=M}is(M){var y,b,H;return"submitted"===M?!!(null==(y=this._cd)?void 0:y.submitted):!!(null==(H=null==(b=this._cd)?void 0:b.control)?void 0:H[M])}}let Qt=(()=>{class P extends er{constructor(y){super(y)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(An,2))},P.\u0275dir=m.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(y,b){2&y&&m.ekj("ng-untouched",b.is("untouched"))("ng-touched",b.is("touched"))("ng-pristine",b.is("pristine"))("ng-dirty",b.is("dirty"))("ng-valid",b.is("valid"))("ng-invalid",b.is("invalid"))("ng-pending",b.is("pending"))},features:[m.qOj]}),P})(),sn=(()=>{class P extends er{constructor(y){super(y)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(zt,10))},P.\u0275dir=m.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(y,b){2&y&&m.ekj("ng-untouched",b.is("untouched"))("ng-touched",b.is("touched"))("ng-pristine",b.is("pristine"))("ng-dirty",b.is("dirty"))("ng-valid",b.is("valid"))("ng-invalid",b.is("invalid"))("ng-pending",b.is("pending"))("ng-submitted",b.is("submitted"))},features:[m.qOj]}),P})();function _e(P,M){return[...M.path,P]}function We(P,M){He(P,M),M.valueAccessor.writeValue(P.value),function(P,M){M.valueAccessor.registerOnChange(y=>{P._pendingValue=y,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&lt(P,M)})}(P,M),function(P,M){const y=(b,H)=>{M.valueAccessor.writeValue(b),H&&M.viewToModelUpdate(b)};P.registerOnChange(y),M._registerOnDestroy(()=>{P._unregisterOnChange(y)})}(P,M),function(P,M){M.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&lt(P,M),"submit"!==P.updateOn&&P.markAsTouched()})}(P,M),function(P,M){if(M.valueAccessor.setDisabledState){const y=b=>{M.valueAccessor.setDisabledState(b)};P.registerOnDisabledChange(y),M._registerOnDestroy(()=>{P._unregisterOnDisabledChange(y)})}}(P,M)}function Me(P,M,y=!0){const b=()=>{};M.valueAccessor&&(M.valueAccessor.registerOnChange(b),M.valueAccessor.registerOnTouched(b)),nt(P,M),P&&(M._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function Pt(P,M){P.forEach(y=>{y.registerOnValidatorChange&&y.registerOnValidatorChange(M)})}function He(P,M){const y=zn(P);null!==M.validator?P.setValidators(Bn(y,M.validator)):"function"==typeof y&&P.setValidators([y]);const b=Xn(P);null!==M.asyncValidator?P.setAsyncValidators(Bn(b,M.asyncValidator)):"function"==typeof b&&P.setAsyncValidators([b]);const H=()=>P.updateValueAndValidity();Pt(M._rawValidators,H),Pt(M._rawAsyncValidators,H)}function nt(P,M){let y=!1;if(null!==P){if(null!==M.validator){const H=zn(P);if(Array.isArray(H)&&H.length>0){const ue=H.filter(ze=>ze!==M.validator);ue.length!==H.length&&(y=!0,P.setValidators(ue))}}if(null!==M.asyncValidator){const H=Xn(P);if(Array.isArray(H)&&H.length>0){const ue=H.filter(ze=>ze!==M.asyncValidator);ue.length!==H.length&&(y=!0,P.setAsyncValidators(ue))}}}const b=()=>{};return Pt(M._rawValidators,b),Pt(M._rawAsyncValidators,b),y}function lt(P,M){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function on(P,M){He(P,M)}function ar(P,M){if(!P.hasOwnProperty("model"))return!1;const y=P.model;return!!y.isFirstChange()||!Object.is(M,y.currentValue)}function Dn(P,M){P._syncPendingControls(),M.forEach(y=>{const b=y.control;"submit"===b.updateOn&&b._pendingChange&&(y.viewToModelUpdate(b._pendingValue),b._pendingChange=!1)})}function Mr(P,M){if(!M)return null;let y,b,H;return Array.isArray(M),M.forEach(ue=>{ue.constructor===Re?y=ue:function(P){return Object.getPrototypeOf(P.constructor)===Ve}(ue)?b=ue:H=ue}),H||b||y||null}function tr(P,M){const y=P.indexOf(M);y>-1&&P.splice(y,1)}const Ir="VALID",Tt="INVALID",Kt="PENDING",xn="DISABLED";function Cr(P){return(Ge(P)?P.validators:P)||null}function yn(P){return Array.isArray(P)?un(P):P||null}function Nn(P,M){return(Ge(M)?M.asyncValidators:P)||null}function fe(P){return Array.isArray(P)?Un(P):P||null}function Ge(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class ft{constructor(M,y){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=M,this._rawAsyncValidators=y,this._composedValidatorFn=yn(this._rawValidators),this._composedAsyncValidatorFn=fe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get valid(){return this.status===Ir}get invalid(){return this.status===Tt}get pending(){return this.status==Kt}get disabled(){return this.status===xn}get enabled(){return this.status!==xn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._rawValidators=M,this._composedValidatorFn=yn(M)}setAsyncValidators(M){this._rawAsyncValidators=M,this._composedAsyncValidatorFn=fe(M)}addValidators(M){this.setValidators(rr(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(rr(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(Qn(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(Qn(M,this._rawAsyncValidators))}hasValidator(M){return Rn(this._rawValidators,M)}hasAsyncValidator(M){return Rn(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){this.touched=!0,this._parent&&!M.onlySelf&&this._parent.markAsTouched(M)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(M=>M.markAllAsTouched())}markAsUntouched(M={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(y=>{y.markAsUntouched({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}markAsDirty(M={}){this.pristine=!1,this._parent&&!M.onlySelf&&this._parent.markAsDirty(M)}markAsPristine(M={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(y=>{y.markAsPristine({onlySelf:!0})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}markAsPending(M={}){this.status=Kt,!1!==M.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!M.onlySelf&&this._parent.markAsPending(M)}disable(M={}){const y=this._parentMarkedDirty(M.onlySelf);this.status=xn,this.errors=null,this._forEachChild(b=>{b.disable($s(vn({},M),{onlySelf:!0}))}),this._updateValue(),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($s(vn({},M),{skipPristineCheck:y})),this._onDisabledChange.forEach(b=>b(!0))}enable(M={}){const y=this._parentMarkedDirty(M.onlySelf);this.status=Ir,this._forEachChild(b=>{b.enable($s(vn({},M),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors($s(vn({},M),{skipPristineCheck:y})),this._onDisabledChange.forEach(b=>b(!1))}_updateAncestors(M){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(M){this._parent=M}updateValueAndValidity(M={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ir||this.status===Kt)&&this._runAsyncValidator(M.emitEvent)),!1!==M.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity(M)}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(y=>y._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xn:Ir}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator=!0;const y=Mt(this.asyncValidator(this));this._asyncValidationSubscription=y.subscribe(b=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(b,{emitEvent:M})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(M,y={}){this.errors=M,this._updateControlsErrors(!1!==y.emitEvent)}get(M){return function(P,M,y){if(null==M||(Array.isArray(M)||(M=M.split(".")),Array.isArray(M)&&0===M.length))return null;let b=P;return M.forEach(H=>{b=b instanceof Pn?b.controls.hasOwnProperty(H)?b.controls[H]:null:b instanceof dn&&b.at(H)||null}),b}(this,M)}getError(M,y){const b=y?this.get(y):this;return b&&b.errors?b.errors[M]:null}hasError(M,y){return!!this.getError(M,y)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(M)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?xn:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Tt)?Tt:Ir}_anyControlsHaveStatus(M){return this._anyControls(y=>y.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M={}){this.pristine=!this._anyControlsDirty(),this._parent&&!M.onlySelf&&this._parent._updatePristine(M)}_updateTouched(M={}){this.touched=this._anyControlsTouched(),this._parent&&!M.onlySelf&&this._parent._updateTouched(M)}_isBoxedValue(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Ge(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class it extends ft{constructor(M=null,y,b){super(Cr(y),Nn(b,y)),this._onChange=[],this._applyFormState(M),this._setUpdateStrategy(y),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(M,y={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==y.emitModelToViewChange&&this._onChange.forEach(b=>b(this.value,!1!==y.emitViewToModelChange)),this.updateValueAndValidity(y)}patchValue(M,y={}){this.setValue(M,y)}reset(M=null,y={}){this._applyFormState(M),this.markAsPristine(y),this.markAsUntouched(y),this.setValue(this.value,y),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){tr(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){tr(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){this._isBoxedValue(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}}class Pn extends ft{constructor(M,y,b){super(Cr(y),Nn(b,y)),this.controls=M,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,y){return this.controls[M]?this.controls[M]:(this.controls[M]=y,y.setParent(this),y._registerOnCollectionChange(this._onCollectionChange),y)}addControl(M,y,b={}){this.registerControl(M,y),this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}removeControl(M,y={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}setControl(M,y,b={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],y&&this.registerControl(M,y),this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,y={}){this._checkAllValuesPresent(M),Object.keys(M).forEach(b=>{this._throwIfControlMissing(b),this.controls[b].setValue(M[b],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(M,y={}){null!=M&&(Object.keys(M).forEach(b=>{this.controls[b]&&this.controls[b].patchValue(M[b],{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(M={},y={}){this._forEachChild((b,H)=>{b.reset(M[H],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this._reduceChildren({},(M,y,b)=>(M[b]=y instanceof it?y.value:y.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(y,b)=>!!b._syncPendingControls()||y);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[M])throw new Error(`Cannot find form control with name: ${M}.`)}_forEachChild(M){Object.keys(this.controls).forEach(y=>{const b=this.controls[y];b&&M(b,y)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const y of Object.keys(this.controls)){const b=this.controls[y];if(this.contains(y)&&M(b))return!0}return!1}_reduceValue(){return this._reduceChildren({},(M,y,b)=>((y.enabled||this.disabled)&&(M[b]=y.value),M))}_reduceChildren(M,y){let b=M;return this._forEachChild((H,ue)=>{b=y(b,H,ue)}),b}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(M){this._forEachChild((y,b)=>{if(void 0===M[b])throw new Error(`Must supply a value for form control with name: '${b}'.`)})}}class dn extends ft{constructor(M,y,b){super(Cr(y),Nn(b,y)),this.controls=M,this._initObservables(),this._setUpdateStrategy(y),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(M){return this.controls[M]}push(M,y={}){this.controls.push(M),this._registerControl(M),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}insert(M,y,b={}){this.controls.splice(M,0,y),this._registerControl(y),this.updateValueAndValidity({emitEvent:b.emitEvent})}removeAt(M,y={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),this.updateValueAndValidity({emitEvent:y.emitEvent})}setControl(M,y,b={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),this.controls.splice(M,1),y&&(this.controls.splice(M,0,y),this._registerControl(y)),this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(M,y={}){this._checkAllValuesPresent(M),M.forEach((b,H)=>{this._throwIfControlMissing(H),this.at(H).setValue(b,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y)}patchValue(M,y={}){null!=M&&(M.forEach((b,H)=>{this.at(H)&&this.at(H).patchValue(b,{onlySelf:!0,emitEvent:y.emitEvent})}),this.updateValueAndValidity(y))}reset(M=[],y={}){this._forEachChild((b,H)=>{b.reset(M[H],{onlySelf:!0,emitEvent:y.emitEvent})}),this._updatePristine(y),this._updateTouched(y),this.updateValueAndValidity(y)}getRawValue(){return this.controls.map(M=>M instanceof it?M.value:M.getRawValue())}clear(M={}){this.controls.length<1||(this._forEachChild(y=>y._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:M.emitEvent}))}_syncPendingControls(){let M=this.controls.reduce((y,b)=>!!b._syncPendingControls()||y,!1);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_throwIfControlMissing(M){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(M))throw new Error(`Cannot find form control at index ${M}`)}_forEachChild(M){this.controls.forEach((y,b)=>{M(y,b)})}_updateValue(){this.value=this.controls.filter(M=>M.enabled||this.disabled).map(M=>M.value)}_anyControls(M){return this.controls.some(y=>y.enabled&&M(y))}_setUpControls(){this._forEachChild(M=>this._registerControl(M))}_checkAllValuesPresent(M){this._forEachChild((y,b)=>{if(void 0===M[b])throw new Error(`Must supply a value for form control at index: ${b}.`)})}_allControlsDisabled(){for(const M of this.controls)if(M.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(M){M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)}}const ur={provide:zt,useExisting:(0,m.Gpc)(()=>ir)},Mn=(()=>Promise.resolve(null))();let ir=(()=>{class P extends zt{constructor(y,b){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new m.vpe,this.form=new Pn({},un(y),Un(b))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(y){Mn.then(()=>{const b=this._findContainer(y.path);y.control=b.registerControl(y.name,y.control),We(y.control,y),y.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(y)})}getControl(y){return this.form.get(y.path)}removeControl(y){Mn.then(()=>{const b=this._findContainer(y.path);b&&b.removeControl(y.name),tr(this._directives,y)})}addFormGroup(y){Mn.then(()=>{const b=this._findContainer(y.path),H=new Pn({});on(H,y),b.registerControl(y.name,H),H.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(y){Mn.then(()=>{const b=this._findContainer(y.path);b&&b.removeControl(y.name)})}getFormGroup(y){return this.form.get(y.path)}updateModel(y,b){Mn.then(()=>{this.form.get(y.path).setValue(b)})}setValue(y){this.control.setValue(y)}onSubmit(y){return this.submitted=!0,Dn(this.form,this._directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(y){return y.pop(),y.length?this.form.get(y):this.form}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(dt,10),m.Y36(Ce,10))},P.\u0275dir=m.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(y,b){1&y&&m.NdJ("submit",function(ue){return b.onSubmit(ue)})("reset",function(){return b.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ur]),m.qOj]}),P})(),vi=(()=>{class P extends zt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return _e(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return P.\u0275fac=function(){let M;return function(b){return(M||(M=m.n5z(P)))(b||P)}}(),P.\u0275dir=m.lG2({type:P,features:[m.qOj]}),P})();const cr={provide:An,useExisting:(0,m.Gpc)(()=>we)},De=(()=>Promise.resolve(null))();let we=(()=>{class P extends An{constructor(y,b,H,ue){super(),this.control=new it,this._registered=!1,this.update=new m.vpe,this._parent=y,this._setValidators(b),this._setAsyncValidators(H),this.valueAccessor=Mr(0,ue)}ngOnChanges(y){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in y&&this._updateDisabled(y),ar(y,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?_e(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){We(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(y){De.then(()=>{this.control.setValue(y,{emitViewToModelChange:!1})})}_updateDisabled(y){const b=y.isDisabled.currentValue,H=""===b||b&&"false"!==b;De.then(()=>{H&&!this.control.disabled?this.control.disable():!H&&this.control.disabled&&this.control.enable()})}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(zt,9),m.Y36(dt,10),m.Y36(Ce,10),m.Y36(ot,10))},P.\u0275dir=m.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([cr]),m.qOj,m.TTD]}),P})(),Oe=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275dir=m.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),jn=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({}),P})();const xr=new m.OlP("NgModelWithFormControlWarning"),li={provide:zt,useExisting:(0,m.Gpc)(()=>Ri)};let Ri=(()=>{class P extends zt{constructor(y,b){super(),this.validators=y,this.asyncValidators=b,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(y),this._setAsyncValidators(b)}ngOnChanges(y){this._checkFormPresent(),y.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(y){const b=this.form.get(y.path);return We(b,y),b.updateValueAndValidity({emitEvent:!1}),this.directives.push(y),b}getControl(y){return this.form.get(y.path)}removeControl(y){Me(y.control||null,y,!1),tr(this.directives,y)}addFormGroup(y){this._setUpFormContainer(y)}removeFormGroup(y){this._cleanUpFormContainer(y)}getFormGroup(y){return this.form.get(y.path)}addFormArray(y){this._setUpFormContainer(y)}removeFormArray(y){this._cleanUpFormContainer(y)}getFormArray(y){return this.form.get(y.path)}updateModel(y,b){this.form.get(y.path).setValue(b)}onSubmit(y){return this.submitted=!0,Dn(this.form,this.directives),this.ngSubmit.emit(y),!1}onReset(){this.resetForm()}resetForm(y){this.form.reset(y),this.submitted=!1}_updateDomValue(){this.directives.forEach(y=>{const b=y.control,H=this.form.get(y.path);b!==H&&(Me(b||null,y),H instanceof it&&(We(H,y),y.control=H))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(y){const b=this.form.get(y.path);on(b,y),b.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(y){if(this.form){const b=this.form.get(y.path);b&&function(P,M){return nt(P,M)}(b,y)&&b.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){He(this.form,this),this._oldForm&&nt(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(dt,10),m.Y36(Ce,10))},P.\u0275dir=m.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(y,b){1&y&&m.NdJ("submit",function(ue){return b.onSubmit(ue)})("reset",function(){return b.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([li]),m.qOj,m.TTD]}),P})();const xi={provide:zt,useExisting:(0,m.Gpc)(()=>Vi)};let Vi=(()=>{class P extends vi{constructor(y,b,H){super(),this._parent=y,this._setValidators(b),this._setAsyncValidators(H)}_checkParentType(){zi(this._parent)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(zt,13),m.Y36(dt,10),m.Y36(Ce,10))},P.\u0275dir=m.lG2({type:P,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[m._Bn([xi]),m.qOj]}),P})();const Ts={provide:zt,useExisting:(0,m.Gpc)(()=>Wi)};let Wi=(()=>{class P extends zt{constructor(y,b,H){super(),this._parent=y,this._setValidators(b),this._setAsyncValidators(H)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return _e(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){zi(this._parent)}}return P.\u0275fac=function(y){return new(y||P)(m.Y36(zt,13),m.Y36(dt,10),m.Y36(Ce,10))},P.\u0275dir=m.lG2({type:P,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[m._Bn([Ts]),m.qOj]}),P})();function zi(P){return!(P instanceof Vi||P instanceof Ri||P instanceof Wi)}const gs={provide:An,useExisting:(0,m.Gpc)(()=>As)};let As=(()=>{class P extends An{constructor(y,b,H,ue,ze){super(),this._ngModelWarningConfig=ze,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=y,this._setValidators(b),this._setAsyncValidators(H),this.valueAccessor=Mr(0,ue)}set isDisabled(y){}ngOnChanges(y){this._added||this._setUpControl(),ar(y,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(y){this.viewModel=y,this.update.emit(y)}get path(){return _e(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(y){return new(y||P)(m.Y36(zt,13),m.Y36(dt,10),m.Y36(Ce,10),m.Y36(ot,10),m.Y36(xr,8))},P.\u0275dir=m.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([gs]),m.qOj,m.TTD]}),P})();const rs={provide:dt,useExisting:(0,m.Gpc)(()=>Tr),multi:!0};let Tr=(()=>{class P{constructor(){this._required=!1}get required(){return this._required}set required(y){this._required=null!=y&&!1!==y&&"false"!=`${y}`,this._onChange&&this._onChange()}validate(y){return this.required?ge(y):null}registerOnValidatorChange(y){this._onChange=y}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275dir=m.lG2({type:P,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(y,b){2&y&&m.uIk("required",b.required?"":null)},inputs:{required:"required"},features:[m._Bn([rs])]}),P})(),N=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({imports:[[jn]]}),P})(),$=(()=>{class P{}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({imports:[N]}),P})(),de=(()=>{class P{static withConfig(y){return{ngModule:P,providers:[{provide:xr,useValue:y.warnOnNgModelWithFormControl}]}}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275mod=m.oAB({type:P}),P.\u0275inj=m.cJS({imports:[N]}),P})(),ct=(()=>{class P{group(y,b=null){const H=this._reduceControls(y);let Je,ue=null,ze=null;return null!=b&&(function(P){return void 0!==P.asyncValidators||void 0!==P.validators||void 0!==P.updateOn}(b)?(ue=null!=b.validators?b.validators:null,ze=null!=b.asyncValidators?b.asyncValidators:null,Je=null!=b.updateOn?b.updateOn:void 0):(ue=null!=b.validator?b.validator:null,ze=null!=b.asyncValidator?b.asyncValidator:null)),new Pn(H,{asyncValidators:ze,updateOn:Je,validators:ue})}control(y,b,H){return new it(y,b,H)}array(y,b,H){const ue=y.map(ze=>this._createControl(ze));return new dn(ue,b,H)}_reduceControls(y){const b={};return Object.keys(y).forEach(H=>{b[H]=this._createControl(y[H])}),b}_createControl(y){return y instanceof it||y instanceof Pn||y instanceof dn?y:Array.isArray(y)?this.control(y[0],y.length>1?y[1]:null,y.length>2?y[2]:null):this.control(y)}}return P.\u0275fac=function(y){return new(y||P)},P.\u0275prov=m.Yz7({token:P,factory:P.\u0275fac,providedIn:de}),P})()},1277:(Dt,Ne,k)=>{"use strict";k.d(Ne,{gz:()=>Oe,jw:()=>Qt,m2:()=>Bn,F0:()=>gi,rH:()=>Is,yS:()=>ws,Bz:()=>oo,lC:()=>os,fw:()=>ys});var m=k(6019),_=k(3668),ae=k(273);class pe extends ae.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const v=super._subscribe(E);return!v.closed&&E.next(this._value),v}getValue(){const{hasError:E,thrownError:v,_value:S}=this;if(E)throw v;return this._throwIfClosed(),S}next(E){super.next(this._value=E)}}var ne=k(8305),Ie=k(886),ce=k(5947),J=k(4623),Te=k(2937),q=k(8830),te=k(2857),ve=k(8889),$e=k(8395);function ut(D,E,v){D?(0,$e.f)(v,D,E):E()}var Le=k(9985);function Ee(D){return new ne.y(E=>{(0,Le.Xf)(D()).subscribe(E)})}var Pe=k(7908),Ue=k(9947);function Re(){return(0,Ue.e)((D,E)=>{let v=null;D._refCount++;const S=new ve.Q(E,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(v=null);const O=D._connection,j=v;v=null,O&&(!j||O===j)&&O.unsubscribe(),E.unsubscribe()});D.subscribe(S),S.closed||(v=D.connect())})}class at extends ne.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,null==E||E.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Pe.w0;const v=this.getSubject();E.add(this.source.subscribe(new ve.Q(v,void 0,()=>{this._teardown(),v.complete()},S=>{this._teardown(),v.error(S)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Pe.w0.EMPTY)}return E}refCount(){return Re()(this)}}var ke=k(2997),dt=k(5907),Ce=k(1404),Nt=k(5583);function Z(D){return(0,Ue.e)((E,v)=>{let j,S=null,O=!1;S=E.subscribe(new ve.Q(v,void 0,void 0,ee=>{j=(0,Le.Xf)(D(ee,Z(D)(E))),S?(S.unsubscribe(),S=null,j.subscribe(v)):O=!0})),O&&(S.unsubscribe(),S=null,j.subscribe(v))})}var X=k(5724),ie=k(5044);function ge(D,E){return(0,ie.m)(E)?(0,X.z)(D,E,1):(0,X.z)(D,1)}var xe=k(461);function re(D){return D<=0?()=>Nt.E:(0,Ue.e)((E,v)=>{let S=[];E.subscribe(new ve.Q(v,O=>{S.push(O),D<S.length&&S.shift()},()=>{for(const O of S)v.next(O);v.complete()},void 0,()=>{S=null}))})}var vt=k(4724),ht=k(8975),et=k(4753),Mt=k(3067),Ut=k(9468),an=k(3970),wn=k(9495),kt=k(6047),Gt=k(7384),un=k(5373);class pn{constructor(E,v){this.id=E,this.url=v}}class Un extends pn{constructor(E,v,S="imperative",O=null){super(E,v),this.navigationTrigger=S,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends pn{constructor(E,v,S){super(E,v),this.urlAfterRedirects=S}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zn extends pn{constructor(E,v,S){super(E,v),this.reason=S}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xn extends pn{constructor(E,v,S){super(E,v),this.error=S}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hn extends pn{constructor(E,v,S,O){super(E,v),this.urlAfterRedirects=S,this.state=O}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rn extends pn{constructor(E,v,S,O){super(E,v),this.urlAfterRedirects=S,this.state=O}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends pn{constructor(E,v,S,O,j){super(E,v),this.urlAfterRedirects=S,this.state=O,this.shouldActivate=j}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qn extends pn{constructor(E,v,S,O){super(E,v),this.urlAfterRedirects=S,this.state=O}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends pn{constructor(E,v,S,O){super(E,v),this.urlAfterRedirects=S,this.state=O}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zt{constructor(E){this.route=E}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class An{constructor(E){this.route=E}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class er{constructor(E){this.snapshot=E}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zt{constructor(E){this.snapshot=E}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(E){this.snapshot=E}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qt{constructor(E){this.snapshot=E}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sn{constructor(E,v,S){this.routerEvent=E,this.position=v,this.anchor=S}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class cn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function St(D){return new cn(D)}const Ot="ngNavigationCancelingError";function Jn(D){const E=Error("NavigationCancelingError: "+D);return E[Ot]=!0,E}function vr(D,E,v){const S=v.path.split("/");if(S.length>D.length||"full"===v.pathMatch&&(E.hasChildren()||S.length<D.length))return null;const O={};for(let j=0;j<S.length;j++){const ee=S[j],ye=D[j];if(ee.startsWith(":"))O[ee.substring(1)]=ye;else if(ee!==ye.path)return null}return{consumed:D.slice(0,S.length),posParams:O}}function Sn(D,E){const v=D?Object.keys(D):void 0,S=E?Object.keys(E):void 0;if(!v||!S||v.length!=S.length)return!1;let O;for(let j=0;j<v.length;j++)if(O=v[j],!qr(D[O],E[O]))return!1;return!0}function qr(D,E){if(Array.isArray(D)&&Array.isArray(E)){if(D.length!==E.length)return!1;const v=[...D].sort(),S=[...E].sort();return v.every((O,j)=>S[j]===O)}return D===E}function me(D){return Array.prototype.concat.apply([],D)}function oe(D){return D.length>0?D[D.length-1]:null}function We(D,E){for(const v in D)D.hasOwnProperty(v)&&E(D[v],v)}function Me(D){return(0,_.CqO)(D)?D:(0,_.QGY)(D)?(0,ce.D)(Promise.resolve(D)):(0,ke.of)(D)}const Ae={exact:function bt(D,E,v){if(!Dn(D.segments,E.segments)||!gn(D.segments,E.segments,v)||D.numberOfChildren!==E.numberOfChildren)return!1;for(const S in E.children)if(!D.children[S]||!bt(D.children[S],E.children[S],v))return!1;return!0},subset:xt},He={exact:function(D,E){return Sn(D,E)},subset:function(D,E){return Object.keys(E).length<=Object.keys(D).length&&Object.keys(E).every(v=>qr(D[v],E[v]))},ignored:()=>!0};function nt(D,E,v){return Ae[v.paths](D.root,E.root,v.matrixParams)&&He[v.queryParams](D.queryParams,E.queryParams)&&!("exact"===v.fragment&&D.fragment!==E.fragment)}function xt(D,E,v){return on(D,E,E.segments,v)}function on(D,E,v,S){if(D.segments.length>v.length){const O=D.segments.slice(0,v.length);return!(!Dn(O,v)||E.hasChildren()||!gn(O,v,S))}if(D.segments.length===v.length){if(!Dn(D.segments,v)||!gn(D.segments,v,S))return!1;for(const O in E.children)if(!D.children[O]||!xt(D.children[O],E.children[O],S))return!1;return!0}{const O=v.slice(0,D.segments.length),j=v.slice(D.segments.length);return!!(Dn(D.segments,O)&&gn(D.segments,O,S)&&D.children[Ht])&&on(D.children[Ht],E,j,S)}}function gn(D,E,v){return E.every((S,O)=>He[v](D[O].parameters,S.parameters))}class En{constructor(E,v,S){this.root=E,this.queryParams=v,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Ir.serialize(this)}}class tn{constructor(E,v){this.segments=E,this.children=v,this.parent=null,We(v,(S,O)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tt(this)}}class ar{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function Dn(D,E){return D.length===E.length&&D.every((v,S)=>v.path===E[S].path)}class tr{}class Er{parse(E){const v=new ni(E);return new En(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Kt(E.root,!0)}`,S=function(D){const E=Object.keys(D).map(v=>{const S=D[v];return Array.isArray(S)?S.map(O=>`${mr(v)}=${mr(O)}`).join("&"):`${mr(v)}=${mr(S)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);var D;return`${v}${S}${"string"==typeof E.fragment?`#${D=E.fragment,encodeURI(D)}`:""}`}}const Ir=new Er;function Tt(D){return D.segments.map(E=>Ge(E)).join("/")}function Kt(D,E){if(!D.hasChildren())return Tt(D);if(E){const v=D.children[Ht]?Kt(D.children[Ht],!1):"",S=[];return We(D.children,(O,j)=>{j!==Ht&&S.push(`${j}:${Kt(O,!1)}`)}),S.length>0?`${v}(${S.join("//")})`:v}{const v=function(D,E){let v=[];return We(D.children,(S,O)=>{O===Ht&&(v=v.concat(E(S,O)))}),We(D.children,(S,O)=>{O!==Ht&&(v=v.concat(E(S,O)))}),v}(D,(S,O)=>O===Ht?[Kt(D.children[Ht],!1)]:[`${O}:${Kt(S,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ht]?`${Tt(D)}/${v[0]}`:`${Tt(D)}/(${v.join("//")})`}}function xn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mr(D){return xn(D).replace(/%3B/gi,";")}function yn(D){return xn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nn(D){return decodeURIComponent(D)}function fe(D){return Nn(D.replace(/\+/g,"%20"))}function Ge(D){return`${yn(D.path)}${function(D){return Object.keys(D).map(E=>`;${yn(E)}=${yn(D[E])}`).join("")}(D.parameters)}`}const Pn=/^[^\/()?;=#]+/;function dn(D){const E=D.match(Pn);return E?E[0]:""}const ur=/^[^=?&#]+/,ir=/^[^&#]+/;class ni{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(S[Ht]=new tn(E,v)),S}parseSegment(){const E=dn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(E),new ar(Nn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=dn(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const O=dn(this.remaining);O&&(S=O,this.capture(S))}E[Nn(v)]=Nn(S)}parseQueryParam(E){const v=function(D){const E=D.match(ur);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let S="";if(this.consumeOptional("=")){const ee=function(D){const E=D.match(ir);return E?E[0]:""}(this.remaining);ee&&(S=ee,this.capture(S))}const O=fe(v),j=fe(S);if(E.hasOwnProperty(O)){let ee=E[O];Array.isArray(ee)||(ee=[ee],E[O]=ee),ee.push(j)}else E[O]=j}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=dn(this.remaining),O=this.remaining[S.length];if("/"!==O&&")"!==O&&";"!==O)throw new Error(`Cannot parse url '${this.url}'`);let j;S.indexOf(":")>-1?(j=S.substr(0,S.indexOf(":")),this.capture(j),this.capture(":")):E&&(j=Ht);const ee=this.parseChildren();v[j]=1===Object.keys(ee).length?ee[Ht]:new tn([],ee),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new Error(`Expected "${E}".`)}}class Vr{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=kn(E,this._root);return v?v.children.map(S=>S.value):[]}firstChild(E){const v=kn(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=ts(E,this._root);return v.length<2?[]:v[v.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return ts(E,this._root).map(v=>v.value)}}function kn(D,E){if(D===E.value)return E;for(const v of E.children){const S=kn(D,v);if(S)return S}return null}function ts(D,E){if(D===E.value)return[E];for(const v of E.children){const S=ts(D,v);if(S.length)return S.unshift(E),S}return[]}class Dr{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Hr(D){const E={};return D&&D.children.forEach(v=>E[v.value.outlet]=v),E}class cr extends Vr{constructor(E,v){super(E),this.snapshot=v,jn(this,E)}toString(){return this.snapshot.toString()}}function De(D,E){const v=function(D,E){const ee=new Ft([],{},{},"",{},Ht,E,null,D.root,-1,{});return new jt("",new Dr(ee,[]))}(D,E),S=new pe([new ar("",{})]),O=new pe({}),j=new pe({}),ee=new pe({}),ye=new pe(""),Ze=new Oe(S,O,ee,ye,j,Ht,E,v.root);return Ze.snapshot=v.root,new cr(new Dr(Ze,[]),v)}class Oe{constructor(E,v,S,O,j,ee,ye,Ze){this.url=E,this.params=v,this.queryParams=S,this.fragment=O,this.data=j,this.outlet=ee,this.component=ye,this._futureSnapshot=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(E=>St(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(E=>St(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qe(D,E="emptyOnly"){const v=D.pathFromRoot;let S=0;if("always"!==E)for(S=v.length-1;S>=1;){const O=v[S],j=v[S-1];if(O.routeConfig&&""===O.routeConfig.path)S--;else{if(j.component)break;S--}}return function(D){return D.reduce((E,v)=>({params:vn(vn({},E.params),v.params),data:vn(vn({},E.data),v.data),resolve:vn(vn({},E.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(S))}class Ft{constructor(E,v,S,O,j,ee,ye,Ze,Et,qn,$t){this.url=E,this.params=v,this.queryParams=S,this.fragment=O,this.data=j,this.outlet=ee,this.component=ye,this.routeConfig=Ze,this._urlSegment=Et,this._lastPathIndex=qn,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jt extends Vr{constructor(E,v){super(v),this.url=E,jn(this,v)}toString(){return mn(this._root)}}function jn(D,E){E.value._routerState=D,E.children.forEach(v=>jn(D,v))}function mn(D){const E=D.children.length>0?` { ${D.children.map(mn).join(", ")} } `:"";return`${D.value}${E}`}function Rr(D){if(D.snapshot){const E=D.snapshot,v=D._futureSnapshot;D.snapshot=v,Sn(E.queryParams,v.queryParams)||D.queryParams.next(v.queryParams),E.fragment!==v.fragment&&D.fragment.next(v.fragment),Sn(E.params,v.params)||D.params.next(v.params),function(D,E){if(D.length!==E.length)return!1;for(let v=0;v<D.length;++v)if(!Sn(D[v],E[v]))return!1;return!0}(E.url,v.url)||D.url.next(v.url),Sn(E.data,v.data)||D.data.next(v.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function yr(D,E){const v=Sn(D.params,E.params)&&function(D,E){return Dn(D,E)&&D.every((v,S)=>Sn(v.parameters,E[S].parameters))}(D.url,E.url);return v&&!(!D.parent!=!E.parent)&&(!D.parent||yr(D.parent,E.parent))}function xr(D,E,v){if(v&&D.shouldReuseRoute(E.value,v.value.snapshot)){const S=v.value;S._futureSnapshot=E.value;const O=function(D,E,v){return E.children.map(S=>{for(const O of v.children)if(D.shouldReuseRoute(S.value,O.value.snapshot))return xr(D,S,O);return xr(D,S)})}(D,E,v);return new Dr(S,O)}{if(D.shouldAttach(E.value)){const j=D.retrieve(E.value);if(null!==j){const ee=j.route;return ee.value._futureSnapshot=E.value,ee.children=E.children.map(ye=>xr(D,ye)),ee}}const S=function(D){return new Oe(new pe(D.url),new pe(D.params),new pe(D.queryParams),new pe(D.fragment),new pe(D.data),D.outlet,D.component,D)}(E.value),O=E.children.map(j=>xr(D,j));return new Dr(S,O)}}function Ri(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function xi(D){return"object"==typeof D&&null!=D&&D.outlets}function Vi(D,E,v,S,O){let j={};return S&&We(S,(ee,ye)=>{j[ye]=Array.isArray(ee)?ee.map(Ze=>`${Ze}`):`${ee}`}),new En(v.root===D?E:Ts(v.root,D,E),j,O)}function Ts(D,E,v){const S={};return We(D.children,(O,j)=>{S[j]=O===E?v:Ts(O,E,v)}),new tn(D.segments,S)}class Wi{constructor(E,v,S){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=S,E&&S.length>0&&Ri(S[0]))throw new Error("Root segment cannot have matrix parameters");const O=S.find(xi);if(O&&O!==oe(S))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gs{constructor(E,v,S){this.segmentGroup=E,this.processChildren=v,this.index=S}}function ms(D,E,v){if(D||(D=new tn([],{})),0===D.segments.length&&D.hasChildren())return ns(D,E,v);const S=function(D,E,v){let S=0,O=E;const j={match:!1,pathIndex:0,commandIndex:0};for(;O<D.segments.length;){if(S>=v.length)return j;const ee=D.segments[O],ye=v[S];if(xi(ye))break;const Ze=`${ye}`,Et=S<v.length-1?v[S+1]:null;if(O>0&&void 0===Ze)break;if(Ze&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!Ei(Ze,Et,ee))return j;S+=2}else{if(!Ei(Ze,{},ee))return j;S++}O++}return{match:!0,pathIndex:O,commandIndex:S}}(D,E,v),O=v.slice(S.commandIndex);if(S.match&&S.pathIndex<D.segments.length){const j=new tn(D.segments.slice(0,S.pathIndex),{});return j.children[Ht]=new tn(D.segments.slice(S.pathIndex),D.children),ns(j,0,O)}return S.match&&0===O.length?new tn(D.segments,{}):S.match&&!D.hasChildren()?Ss(D,E,v):S.match?ns(D,0,O):Ss(D,E,v)}function ns(D,E,v){if(0===v.length)return new tn(D.segments,{});{const S=function(D){return xi(D[0])?D[0].outlets:{[Ht]:D}}(v),O={};return We(S,(j,ee)=>{"string"==typeof j&&(j=[j]),null!==j&&(O[ee]=ms(D.children[ee],E,j))}),We(D.children,(j,ee)=>{void 0===S[ee]&&(O[ee]=j)}),new tn(D.segments,O)}}function Ss(D,E,v){const S=D.segments.slice(0,E);let O=0;for(;O<v.length;){const j=v[O];if(xi(j)){const Ze=hi(j.outlets);return new tn(S,Ze)}if(0===O&&Ri(v[0])){S.push(new ar(D.segments[E].path,ui(v[0]))),O++;continue}const ee=xi(j)?j.outlets[Ht]:`${j}`,ye=O<v.length-1?v[O+1]:null;ee&&ye&&Ri(ye)?(S.push(new ar(ee,ui(ye))),O+=2):(S.push(new ar(ee,{})),O++)}return new tn(S,{})}function hi(D){const E={};return We(D,(v,S)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[S]=Ss(new tn([],{}),0,v))}),E}function ui(D){const E={};return We(D,(v,S)=>E[S]=`${v}`),E}function Ei(D,E,v){return D==v.path&&Sn(E,v.parameters)}class Ii{constructor(E,v,S,O){this.routeReuseStrategy=E,this.futureState=v,this.currState=S,this.forwardEvent=O}activate(E){const v=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,S,E),Rr(this.futureState.root),this.activateChildRoutes(v,S,E)}deactivateChildRoutes(E,v,S){const O=Hr(v);E.children.forEach(j=>{const ee=j.value.outlet;this.deactivateRoutes(j,O[ee],S),delete O[ee]}),We(O,(j,ee)=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(E,v,S){const O=E.value,j=v?v.value:null;if(O===j)if(O.component){const ee=S.getContext(O.outlet);ee&&this.deactivateChildRoutes(E,v,ee.children)}else this.deactivateChildRoutes(E,v,S);else j&&this.deactivateRouteAndItsChildren(v,S)}deactivateRouteAndItsChildren(E,v){this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const S=v.getContext(E.value.outlet),O=S&&E.value.component?S.children:v,j=Hr(E);for(const ee of Object.keys(j))this.deactivateRouteAndItsChildren(j[ee],O);if(S&&S.outlet){const ee=S.outlet.detach(),ye=S.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:ee,route:E,contexts:ye})}}deactivateRouteAndOutlet(E,v){const S=v.getContext(E.value.outlet),O=S&&E.value.component?S.children:v,j=Hr(E);for(const ee of Object.keys(j))this.deactivateRouteAndItsChildren(j[ee],O);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(E,v,S){const O=Hr(v);E.children.forEach(j=>{this.activateRoutes(j,O[j.value.outlet],S),this.forwardEvent(new Qt(j.value.snapshot))}),E.children.length&&this.forwardEvent(new Zt(E.value.snapshot))}activateRoutes(E,v,S){const O=E.value,j=v?v.value:null;if(Rr(O),O===j)if(O.component){const ee=S.getOrCreateContext(O.outlet);this.activateChildRoutes(E,v,ee.children)}else this.activateChildRoutes(E,v,S);else if(O.component){const ee=S.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ye=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),ee.children.onOutletReAttached(ye.contexts),ee.attachRef=ye.componentRef,ee.route=ye.route.value,ee.outlet&&ee.outlet.attach(ye.componentRef,ye.route.value),Rr(ye.route.value),this.activateChildRoutes(E,null,ee.children)}else{const ye=function(D){for(let E=D.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(O.snapshot),Ze=ye?ye.module.componentFactoryResolver:null;ee.attachRef=null,ee.route=O,ee.resolver=Ze,ee.outlet&&ee.outlet.activateWith(O,Ze),this.activateChildRoutes(E,null,ee.children)}}else this.activateChildRoutes(E,null,S)}}class zr{constructor(E,v){this.routes=E,this.module=v}}function Nr(D){return"function"==typeof D}function fi(D){return D instanceof En}const Tr=Symbol("INITIAL_VALUE");function fr(){return(0,Mt.w)(D=>function(...D){const E=(0,q.yG)(D),v=(0,q.jO)(D),{args:S,keys:O}=(0,Ie.D)(D);if(0===S.length)return(0,ce.D)([],E);const j=new ne.y(function(D,E,v=J.y){return S=>{ut(E,()=>{const{length:O}=D,j=new Array(O);let ee=O,ye=O;for(let Ze=0;Ze<O;Ze++)ut(E,()=>{const Et=(0,ce.D)(D[Ze],E);let qn=!1;Et.subscribe(new ve.Q(S,$t=>{j[Ze]=$t,qn||(qn=!0,ye--),ye||S.next(v(j.slice()))},()=>{--ee||S.complete()}))},S)},S)}}(S,E,O?ee=>(0,te.n)(O,ee):J.y));return v?j.pipe((0,Te.Z)(v)):j}(D.map(E=>E.pipe((0,Ut.q)(1),(0,an.O)(Tr)))).pipe((0,wn.R)((E,v)=>{let S=!1;return v.reduce((O,j,ee)=>O!==Tr?O:(j===Tr&&(S=!0),S||!1!==j&&ee!==v.length-1&&!fi(j)?O:j),E)},Tr),(0,xe.h)(E=>E!==Tr),(0,et.U)(E=>fi(E)?E:!0===E),(0,Ut.q)(1)))}class is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ss,this.attachRef=null}}class ss{constructor(){this.contexts=new Map}onChildOutletCreated(E,v){const S=this.getOrCreateContext(E);S.outlet=v,this.contexts.set(E,S)}onChildOutletDestroyed(E){const v=this.getContext(E);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let v=this.getContext(E);return v||(v=new is,this.contexts.set(E,v)),v}getContext(E){return this.contexts.get(E)||null}}let os=(()=>{class D{constructor(v,S,O,j,ee){this.parentContexts=v,this.location=S,this.resolver=O,this.changeDetector=ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=j||Ht,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,S){this.activated=v,this._activatedRoute=S,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,S){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const ee=(S=S||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),ye=this.parentContexts.getOrCreateContext(this.name).children,Ze=new eo(v,ye,this.location.injector);this.activated=this.location.createComponent(ee,this.location.length,Ze),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(v){return new(v||D)(_.Y36(ss),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},D.\u0275dir=_.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class eo{constructor(E,v,S){this.route=E,this.childContexts=v,this.parent=S}get(E,v){return E===Oe?this.route:E===ss?this.childContexts:this.parent.get(E,v)}}let ys=(()=>{class D{}return D.\u0275fac=function(v){return new(v||D)},D.\u0275cmp=_.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,S){1&v&&_._UZ(0,"router-outlet")},directives:[os],encapsulation:2}),D})();function to(D,E=""){for(let v=0;v<D.length;v++){const S=D[v];Kn(S,ji(E,S))}}function Kn(D,E){D.children&&to(D.children,E)}function ji(D,E){return E?D||E.path?D&&!E.path?`${D}/`:!D&&E.path?E.path:`${D}/${E.path}`:"":D}function wi(D){const E=D.children&&D.children.map(wi),v=E?$s(vn({},D),{children:E}):vn({},D);return!v.component&&(E||v.loadChildren)&&v.outlet&&v.outlet!==Ht&&(v.component=ys),v}function R(D){return D.outlet||Ht}function U(D,E){const v=D.filter(S=>R(S)===E);return v.push(...D.filter(S=>R(S)!==E)),v}const N={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $(D,E,v){var ye;if(""===E.path)return"full"===E.pathMatch&&(D.hasChildren()||v.length>0)?vn({},N):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const O=(E.matcher||vr)(v,D,E);if(!O)return vn({},N);const j={};We(O.posParams,(Ze,Et)=>{j[Et]=Ze.path});const ee=O.consumed.length>0?vn(vn({},j),O.consumed[O.consumed.length-1].parameters):j;return{matched:!0,consumedSegments:O.consumed,lastChild:O.consumed.length,parameters:ee,positionalParamSegments:null!=(ye=O.posParams)?ye:{}}}function de(D,E,v,S,O="corrected"){if(v.length>0&&function(D,E,v){return v.some(S=>M(D,E,S)&&R(S)!==Ht)}(D,v,S)){const ee=new tn(E,function(D,E,v,S){const O={};O[Ht]=S,S._sourceSegment=D,S._segmentIndexShift=E.length;for(const j of v)if(""===j.path&&R(j)!==Ht){const ee=new tn([],{});ee._sourceSegment=D,ee._segmentIndexShift=E.length,O[R(j)]=ee}return O}(D,E,S,new tn(v,D.children)));return ee._sourceSegment=D,ee._segmentIndexShift=E.length,{segmentGroup:ee,slicedSegments:[]}}if(0===v.length&&function(D,E,v){return v.some(S=>M(D,E,S))}(D,v,S)){const ee=new tn(D.segments,function(D,E,v,S,O,j){const ee={};for(const ye of S)if(M(D,v,ye)&&!O[R(ye)]){const Ze=new tn([],{});Ze._sourceSegment=D,Ze._segmentIndexShift="legacy"===j?D.segments.length:E.length,ee[R(ye)]=Ze}return vn(vn({},O),ee)}(D,E,v,S,D.children,O));return ee._sourceSegment=D,ee._segmentIndexShift=E.length,{segmentGroup:ee,slicedSegments:v}}const j=new tn(D.segments,D.children);return j._sourceSegment=D,j._segmentIndexShift=E.length,{segmentGroup:j,slicedSegments:v}}function M(D,E,v){return(!(D.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function y(D,E,v,S){return!!(R(D)===S||S!==Ht&&M(E,v,D))&&("**"===D.path||$(E,D,v).matched)}function b(D,E,v){return 0===E.length&&!D.children[v]}class H{constructor(E){this.segmentGroup=E||null}}class ue{constructor(E){this.urlTree=E}}function ze(D){return new ne.y(E=>E.error(new H(D)))}function Je(D){return new ne.y(E=>E.error(new ue(D)))}function qt(D){return new ne.y(E=>E.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class lr{constructor(E,v,S,O,j){this.configLoader=v,this.urlSerializer=S,this.urlTree=O,this.config=j,this.allowRedirects=!0,this.ngModule=E.get(_.h0i)}apply(){const E=de(this.urlTree.root,[],[],this.config).segmentGroup,v=new tn(E.segments,E.children);return this.expandSegmentGroup(this.ngModule,this.config,v,Ht).pipe((0,et.U)(j=>this.createUrlTree(Ci(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Z(j=>{if(j instanceof ue)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof H?this.noMatchError(j):j}))}match(E){return this.expandSegmentGroup(this.ngModule,this.config,E.root,Ht).pipe((0,et.U)(O=>this.createUrlTree(Ci(O),E.queryParams,E.fragment))).pipe(Z(O=>{throw O instanceof H?this.noMatchError(O):O}))}noMatchError(E){return new Error(`Cannot match any routes. URL Segment: '${E.segmentGroup}'`)}createUrlTree(E,v,S){const O=E.segments.length>0?new tn([],{[Ht]:E}):E;return new En(O,v,S)}expandSegmentGroup(E,v,S,O){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(E,v,S).pipe((0,et.U)(j=>new tn([],j))):this.expandSegment(E,S,v,S.segments,O,!0)}expandChildren(E,v,S){const O=[];for(const j of Object.keys(S.children))"primary"===j?O.unshift(j):O.push(j);return(0,ce.D)(O).pipe(ge(j=>{const ee=S.children[j],ye=U(v,j);return this.expandSegmentGroup(E,ye,ee,j).pipe((0,et.U)(Ze=>({segment:Ze,outlet:j})))}),(0,wn.R)((j,ee)=>(j[ee.outlet]=ee.segment,j),{}),function(D,E){const v=arguments.length>=2;return S=>S.pipe(D?(0,xe.h)((O,j)=>D(O,j,S)):J.y,re(1),v?(0,ht.d)(E):(0,vt.T)(()=>new dt.K))}())}expandSegment(E,v,S,O,j,ee){return(0,ce.D)(S).pipe(ge(ye=>this.expandSegmentAgainstRoute(E,v,S,ye,O,j,ee).pipe(Z(Et=>{if(Et instanceof H)return(0,ke.of)(null);throw Et}))),(0,kt.P)(ye=>!!ye),Z((ye,Ze)=>{if(ye instanceof dt.K||"EmptyError"===ye.name){if(b(v,O,j))return(0,ke.of)(new tn([],{}));throw new H(v)}throw ye}))}expandSegmentAgainstRoute(E,v,S,O,j,ee,ye){return y(O,v,j,ee)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,v,O,j,ee):ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,S,O,j,ee):ze(v):ze(v)}expandSegmentAgainstRouteUsingRedirect(E,v,S,O,j,ee){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,S,O,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,O,j,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,S,O){const j=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Je(j):this.lineralizeSegments(S,j).pipe((0,X.z)(ee=>{const ye=new tn(ee,{});return this.expandSegment(E,ye,v,ee,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,S,O,j,ee){const{matched:ye,consumedSegments:Ze,lastChild:Et,positionalParamSegments:qn}=$(v,O,j);if(!ye)return ze(v);const $t=this.applyRedirectCommands(Ze,O.redirectTo,qn);return O.redirectTo.startsWith("/")?Je($t):this.lineralizeSegments(O,$t).pipe((0,X.z)(Wn=>this.expandSegment(E,v,S,Wn.concat(j.slice(Et)),ee,!1)))}matchSegmentAgainstRoute(E,v,S,O,j){if("**"===S.path)return S.loadChildren?(S._loadedConfig?(0,ke.of)(S._loadedConfig):this.configLoader.load(E.injector,S)).pipe((0,et.U)(Wn=>(S._loadedConfig=Wn,new tn(O,{})))):(0,ke.of)(new tn(O,{}));const{matched:ee,consumedSegments:ye,lastChild:Ze}=$(v,S,O);if(!ee)return ze(v);const Et=O.slice(Ze);return this.getChildConfig(E,S,O).pipe((0,X.z)($t=>{const Wn=$t.module,Zn=$t.routes,{segmentGroup:_r,slicedSegments:ao}=de(v,ye,Et,Zn),Yr=new tn(_r.segments,_r.children);if(0===ao.length&&Yr.hasChildren())return this.expandChildren(Wn,Zn,Yr).pipe((0,et.U)(Yi=>new tn(ye,Yi)));if(0===Zn.length&&0===ao.length)return(0,ke.of)(new tn(ye,{}));const dr=R(S)===j;return this.expandSegment(Wn,Yr,Zn,ao,dr?Ht:j,!0).pipe((0,et.U)(ls=>new tn(ye.concat(ls.segments),ls.children)))}))}getChildConfig(E,v,S){return v.children?(0,ke.of)(new zr(v.children,E)):v.loadChildren?void 0!==v._loadedConfig?(0,ke.of)(v._loadedConfig):this.runCanLoadGuards(E.injector,v,S).pipe((0,X.z)(O=>{return O?this.configLoader.load(E.injector,v).pipe((0,et.U)(j=>(v._loadedConfig=j,j))):(D=v,new ne.y(E=>E.error(Jn(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,ke.of)(new zr([],E))}runCanLoadGuards(E,v,S){const O=v.canLoad;if(!O||0===O.length)return(0,ke.of)(!0);const j=O.map(ee=>{const ye=E.get(ee);let Ze;if((D=ye)&&Nr(D.canLoad))Ze=ye.canLoad(v,S);else{if(!Nr(ye))throw new Error("Invalid CanLoad guard");Ze=ye(v,S)}var D;return Me(Ze)});return(0,ke.of)(j).pipe(fr(),(0,Gt.b)(ee=>{if(!fi(ee))return;const ye=Jn(`Redirecting to "${this.urlSerializer.serialize(ee)}"`);throw ye.url=ee,ye}),(0,et.U)(ee=>!0===ee))}lineralizeSegments(E,v){let S=[],O=v.root;for(;;){if(S=S.concat(O.segments),0===O.numberOfChildren)return(0,ke.of)(S);if(O.numberOfChildren>1||!O.children[Ht])return qt(E.redirectTo);O=O.children[Ht]}}applyRedirectCommands(E,v,S){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),E,S)}applyRedirectCreatreUrlTree(E,v,S,O){const j=this.createSegmentGroup(E,v.root,S,O);return new En(j,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const S={};return We(E,(O,j)=>{if("string"==typeof O&&O.startsWith(":")){const ye=O.substring(1);S[j]=v[ye]}else S[j]=O}),S}createSegmentGroup(E,v,S,O){const j=this.createSegments(E,v.segments,S,O);let ee={};return We(v.children,(ye,Ze)=>{ee[Ze]=this.createSegmentGroup(E,ye,S,O)}),new tn(j,ee)}createSegments(E,v,S,O){return v.map(j=>j.path.startsWith(":")?this.findPosParam(E,j,O):this.findOrReturn(j,S))}findPosParam(E,v,S){const O=S[v.path.substring(1)];if(!O)throw new Error(`Cannot redirect to '${E}'. Cannot find '${v.path}'.`);return O}findOrReturn(E,v){let S=0;for(const O of v){if(O.path===E.path)return v.splice(S),O;S++}return E}}function Ci(D){const E={};for(const S of Object.keys(D.children)){const j=Ci(D.children[S]);(j.segments.length>0||j.hasChildren())&&(E[S]=j)}return function(D){if(1===D.numberOfChildren&&D.children[Ht]){const E=D.children[Ht];return new tn(D.segments.concat(E.segments),E.children)}return D}(new tn(D.segments,E))}class rt{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class _n{constructor(E,v){this.component=E,this.route=v}}function Co(D,E,v){const S=D._root;return Di(S,E?E._root:null,v,[S.value])}function qi(D,E,v){const S=function(D){if(!D)return null;for(let E=D.parent;E;E=E.parent){const v=E.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(E);return(S?S.module.injector:v).get(D)}function Di(D,E,v,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=Hr(E);return D.children.forEach(ee=>{(function(D,E,v,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=D.value,ee=E?E.value:null,ye=v?v.getContext(D.value.outlet):null;if(ee&&j.routeConfig===ee.routeConfig){const Ze=function(D,E,v){if("function"==typeof v)return v(D,E);switch(v){case"pathParamsChange":return!Dn(D.url,E.url);case"pathParamsOrQueryParamsChange":return!Dn(D.url,E.url)||!Sn(D.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yr(D,E)||!Sn(D.queryParams,E.queryParams);default:return!yr(D,E)}}(ee,j,j.routeConfig.runGuardsAndResolvers);Ze?O.canActivateChecks.push(new rt(S)):(j.data=ee.data,j._resolvedData=ee._resolvedData),Di(D,E,j.component?ye?ye.children:null:v,S,O),Ze&&ye&&ye.outlet&&ye.outlet.isActivated&&O.canDeactivateChecks.push(new _n(ye.outlet.component,ee))}else ee&&fa(E,ye,O),O.canActivateChecks.push(new rt(S)),Di(D,null,j.component?ye?ye.children:null:v,S,O)})(ee,j[ee.value.outlet],v,S.concat([ee.value]),O),delete j[ee.value.outlet]}),We(j,(ee,ye)=>fa(ee,v.getContext(ye),O)),O}function fa(D,E,v){const S=Hr(D),O=D.value;We(S,(j,ee)=>{fa(j,O.component?E?E.children.getContext(ee):null:E,v)}),v.canDeactivateChecks.push(new _n(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}class ma{}function Ms(D){return new ne.y(E=>E.error(D))}class bo{constructor(E,v,S,O,j,ee){this.rootComponentType=E,this.config=v,this.urlTree=S,this.url=O,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=ee}recognize(){const E=de(this.urlTree.root,[],[],this.config.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,E,Ht);if(null===v)return null;const S=new Ft([],Object.freeze({}),Object.freeze(vn({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Dr(S,v),j=new jt(this.url,O);return this.inheritParamsAndData(j._root),j}inheritParamsAndData(E){const v=E.value,S=Qe(v,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,v,S){return 0===v.segments.length&&v.hasChildren()?this.processChildren(E,v):this.processSegment(E,v,v.segments,S)}processChildren(E,v){const S=[];for(const j of Object.keys(v.children)){const ee=v.children[j],ye=U(E,j),Ze=this.processSegmentGroup(ye,ee,j);if(null===Ze)return null;S.push(...Ze)}const O=Go(S);return O.sort((E,v)=>E.value.outlet===Ht?-1:v.value.outlet===Ht?1:E.value.outlet.localeCompare(v.value.outlet)),O}processSegment(E,v,S,O){for(const j of E){const ee=this.processSegmentAgainstRoute(j,v,S,O);if(null!==ee)return ee}return b(v,S,O)?[]:null}processSegmentAgainstRoute(E,v,S,O){if(E.redirectTo||!y(E,v,S,O))return null;let j,ee=[],ye=[];if("**"===E.path){const Zn=S.length>0?oe(S).parameters:{};j=new Ft(S,Zn,Object.freeze(vn({},this.urlTree.queryParams)),this.urlTree.fragment,Ko(E),R(E),E.component,E,To(v),Ao(v)+S.length,qo(E))}else{const Zn=$(v,E,S);if(!Zn.matched)return null;ee=Zn.consumedSegments,ye=S.slice(Zn.lastChild),j=new Ft(ee,Zn.parameters,Object.freeze(vn({},this.urlTree.queryParams)),this.urlTree.fragment,Ko(E),R(E),E.component,E,To(v),Ao(v)+ee.length,qo(E))}const Ze=(D=E).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:Et,slicedSegments:qn}=de(v,ee,ye,Ze.filter(Zn=>void 0===Zn.redirectTo),this.relativeLinkResolution);var D;if(0===qn.length&&Et.hasChildren()){const Zn=this.processChildren(Ze,Et);return null===Zn?null:[new Dr(j,Zn)]}if(0===Ze.length&&0===qn.length)return[new Dr(j,[])];const $t=R(E)===O,Wn=this.processSegment(Ze,Et,qn,$t?Ht:O);return null===Wn?null:[new Dr(j,Wn)]}}function zo(D){const E=D.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Go(D){const E=[],v=new Set;for(const S of D){if(!zo(S)){E.push(S);continue}const O=E.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==O?(O.children.push(...S.children),v.add(O)):E.push(S)}for(const S of v){const O=Go(S.children);E.push(new Dr(S.value,O))}return E.filter(S=>!v.has(S))}function To(D){let E=D;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Ao(D){let E=D,v=E._segmentIndexShift?E._segmentIndexShift:0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift?E._segmentIndexShift:0;return v-1}function Ko(D){return D.data||{}}function qo(D){return D.resolve||{}}function Or(D){return(0,Mt.w)(E=>{const v=D(E);return v?(0,ce.D)(v).pipe((0,et.U)(()=>E)):(0,ke.of)(E)})}class gu extends class{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const Mo=new _.OlP("ROUTES");class Zo{constructor(E,v,S,O){this.injector=E,this.compiler=v,this.onLoadStartListener=S,this.onLoadEndListener=O}load(E,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const O=this.loadModuleFactory(v.loadChildren).pipe((0,et.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(v);const ee=j.create(E);return new zr(me(ee.injector.get(Mo,void 0,_.XFs.Self|_.XFs.Optional)).map(wi),ee)}),Z(j=>{throw v._loader$=void 0,j}));return v._loader$=new at(O,()=>new ae.x).pipe(Re()),v._loader$}loadModuleFactory(E){return Me(E()).pipe((0,X.z)(v=>v instanceof _.YKP?(0,ke.of)(v):(0,ce.D)(this.compiler.compileModuleAsync(v))))}}class Yo{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function mu(D){throw D}function vs(D,E,v){return E.parse("/")}function Es(D,E){return(0,ke.of)(null)}const Ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gi=(()=>{class D{constructor(v,S,O,j,ee,ye,Ze){this.rootComponentType=v,this.urlSerializer=S,this.rootContexts=O,this.location=j,this.config=Ze,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ae.x,this.errorHandler=mu,this.malformedUriErrorHandler=vs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Es,afterPreactivation:Es},this.urlHandlingStrategy=new Yo,this.routeReuseStrategy=new gu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ee.get(_.h0i),this.console=ee.get(_.c2e);const $t=ee.get(_.R0b);this.isNgZoneEnabled=$t instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(Ze),this.currentUrlTree=new En(new tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zo(ee,ye,Wn=>this.triggerEvent(new zt(Wn)),Wn=>this.triggerEvent(new An(Wn))),this.routerState=De(this.currentUrlTree,this.rootComponentType),this.transitions=new pe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null==(v=this.location.getState())?void 0:v.\u0275routerPageId}setupNavigations(v){const S=this.events;return v.pipe((0,xe.h)(O=>0!==O.id),(0,et.U)(O=>$s(vn({},O),{extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Mt.w)(O=>{let j=!1,ee=!1;return(0,ke.of)(O).pipe((0,Gt.b)(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.currentRawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?$s(vn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Mt.w)(ye=>{const Ze=this.browserUrlTree.toString(),Et=!this.navigated||ye.extractedUrl.toString()!==Ze||Ze!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Et)&&this.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return cs(ye.source)&&(this.browserUrlTree=ye.extractedUrl),(0,ke.of)(ye).pipe((0,Mt.w)($t=>{const Wn=this.transitions.getValue();return S.next(new Un($t.id,this.serializeUrl($t.extractedUrl),$t.source,$t.restoredState)),Wn!==this.transitions.getValue()?Nt.E:Promise.resolve($t)}),function(D,E,v,S){return(0,Mt.w)(O=>function(D,E,v,S,O){return new lr(D,E,v,S,O).apply()}(D,E,v,O.extractedUrl,S).pipe((0,et.U)(j=>$s(vn({},O),{urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gt.b)($t=>{this.currentNavigation=$s(vn({},this.currentNavigation),{finalUrl:$t.urlAfterRedirects})}),function(D,E,v,S,O){return(0,X.z)(j=>function(D,E,v,S,O="emptyOnly",j="legacy"){try{const ee=new bo(D,E,v,S,O,j).recognize();return null===ee?Ms(new ma):(0,ke.of)(ee)}catch(ee){return Ms(ee)}}(D,E,j.urlAfterRedirects,v(j.urlAfterRedirects),S,O).pipe((0,et.U)(ee=>$s(vn({},j),{targetSnapshot:ee}))))}(this.rootComponentType,this.config,$t=>this.serializeUrl($t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gt.b)($t=>{if("eager"===this.urlUpdateStrategy){if(!$t.extras.skipLocationChange){const Zn=this.urlHandlingStrategy.merge($t.urlAfterRedirects,$t.rawUrl);this.setBrowserUrl(Zn,$t)}this.browserUrlTree=$t.urlAfterRedirects}const Wn=new Hn($t.id,this.serializeUrl($t.extractedUrl),this.serializeUrl($t.urlAfterRedirects),$t.targetSnapshot);S.next(Wn)}));if(Et&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Wn,extractedUrl:Zn,source:_r,restoredState:ao,extras:Yr}=ye,dr=new Un(Wn,this.serializeUrl(Zn),_r,ao);S.next(dr);const $i=De(Zn,this.rootComponentType).snapshot;return(0,ke.of)($s(vn({},ye),{targetSnapshot:$i,urlAfterRedirects:Zn,extras:$s(vn({},Yr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ye.rawUrl,ye.resolve(null),Nt.E}),Or(ye=>{const{targetSnapshot:Ze,id:Et,extractedUrl:qn,rawUrl:$t,extras:{skipLocationChange:Wn,replaceUrl:Zn}}=ye;return this.hooks.beforePreactivation(Ze,{navigationId:Et,appliedUrlTree:qn,rawUrlTree:$t,skipLocationChange:!!Wn,replaceUrl:!!Zn})}),(0,Gt.b)(ye=>{const Ze=new Rn(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot);this.triggerEvent(Ze)}),(0,et.U)(ye=>$s(vn({},ye),{guards:Co(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)})),function(D,E){return(0,X.z)(v=>{const{targetSnapshot:S,currentSnapshot:O,guards:{canActivateChecks:j,canDeactivateChecks:ee}}=v;return 0===ee.length&&0===j.length?(0,ke.of)($s(vn({},v),{guardsResult:!0})):function(D,E,v,S){return(0,ce.D)(D).pipe((0,X.z)(O=>function(D,E,v,S,O){const j=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,ke.of)(!0);const ee=j.map(ye=>{const Ze=qi(ye,E,O);let Et;if(function(D){return D&&Nr(D.canDeactivate)}(Ze))Et=Me(Ze.canDeactivate(D,E,v,S));else{if(!Nr(Ze))throw new Error("Invalid CanDeactivate guard");Et=Me(Ze(D,E,v,S))}return Et.pipe((0,kt.P)())});return(0,ke.of)(ee).pipe(fr())}(O.component,O.route,v,E,S)),(0,kt.P)(O=>!0!==O,!0))}(ee,S,O,D).pipe((0,X.z)(ye=>ye&&function(D){return"boolean"==typeof D}(ye)?function(D,E,v,S){return(0,ce.D)(E).pipe(ge(O=>(0,Ce.z)(function(D,E){return null!==D&&E&&E(new er(D)),(0,ke.of)(!0)}(O.route.parent,S),function(D,E){return null!==D&&E&&E(new Jt(D)),(0,ke.of)(!0)}(O.route,S),function(D,E,v){const S=E[E.length-1],j=E.slice(0,E.length-1).reverse().map(ee=>function(D){const E=D.routeConfig?D.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:D,guards:E}:null}(ee)).filter(ee=>null!==ee).map(ee=>Ee(()=>{const ye=ee.guards.map(Ze=>{const Et=qi(Ze,ee.node,v);let qn;if(function(D){return D&&Nr(D.canActivateChild)}(Et))qn=Me(Et.canActivateChild(S,D));else{if(!Nr(Et))throw new Error("Invalid CanActivateChild guard");qn=Me(Et(S,D))}return qn.pipe((0,kt.P)())});return(0,ke.of)(ye).pipe(fr())}));return(0,ke.of)(j).pipe(fr())}(D,O.path,v),function(D,E,v){const S=E.routeConfig?E.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ke.of)(!0);const O=S.map(j=>Ee(()=>{const ee=qi(j,E,v);let ye;if(function(D){return D&&Nr(D.canActivate)}(ee))ye=Me(ee.canActivate(E,D));else{if(!Nr(ee))throw new Error("Invalid CanActivate guard");ye=Me(ee(E,D))}return ye.pipe((0,kt.P)())}));return(0,ke.of)(O).pipe(fr())}(D,O.route,v))),(0,kt.P)(O=>!0!==O,!0))}(S,j,D,E):(0,ke.of)(ye)),(0,et.U)(ye=>$s(vn({},v),{guardsResult:ye})))})}(this.ngModule.injector,ye=>this.triggerEvent(ye)),(0,Gt.b)(ye=>{if(fi(ye.guardsResult)){const Et=Jn(`Redirecting to "${this.serializeUrl(ye.guardsResult)}"`);throw Et.url=ye.guardsResult,Et}const Ze=new rr(ye.id,this.serializeUrl(ye.extractedUrl),this.serializeUrl(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.triggerEvent(Ze)}),(0,xe.h)(ye=>!!ye.guardsResult||(this.restoreHistory(ye),this.cancelNavigationTransition(ye,""),!1)),Or(ye=>{if(ye.guards.canActivateChecks.length)return(0,ke.of)(ye).pipe((0,Gt.b)(Ze=>{const Et=new Qn(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(Et)}),(0,Mt.w)(Ze=>{let Et=!1;return(0,ke.of)(Ze).pipe(function(D,E){return(0,X.z)(v=>{const{targetSnapshot:S,guards:{canActivateChecks:O}}=v;if(!O.length)return(0,ke.of)(v);let j=0;return(0,ce.D)(O).pipe(ge(ee=>function(D,E,v,S){return function(D,E,v,S){const O=Object.keys(D);if(0===O.length)return(0,ke.of)({});const j={};return(0,ce.D)(O).pipe((0,X.z)(ee=>function(D,E,v,S){const O=qi(D,E,S);return Me(O.resolve?O.resolve(E,v):O(E,v))}(D[ee],E,v,S).pipe((0,Gt.b)(ye=>{j[ee]=ye}))),re(1),(0,X.z)(()=>Object.keys(j).length===O.length?(0,ke.of)(j):Nt.E))}(D._resolve,D,E,S).pipe((0,et.U)(j=>(D._resolvedData=j,D.data=vn(vn({},D.data),Qe(D,v).resolve),null)))}(ee.route,S,D,E)),(0,Gt.b)(()=>j++),re(1),(0,X.z)(ee=>j===O.length?(0,ke.of)(v):Nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gt.b)({next:()=>Et=!0,complete:()=>{Et||(this.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"At least one route resolver didn't emit any value."))}}))}),(0,Gt.b)(Ze=>{const Et=new Ct(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(Et)}))}),Or(ye=>{const{targetSnapshot:Ze,id:Et,extractedUrl:qn,rawUrl:$t,extras:{skipLocationChange:Wn,replaceUrl:Zn}}=ye;return this.hooks.afterPreactivation(Ze,{navigationId:Et,appliedUrlTree:qn,rawUrlTree:$t,skipLocationChange:!!Wn,replaceUrl:!!Zn})}),(0,et.U)(ye=>{const Ze=function(D,E,v){const S=xr(D,E._root,v?v._root:void 0);return new cr(S,E)}(this.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return $s(vn({},ye),{targetRouterState:Ze})}),(0,Gt.b)(ye=>{this.currentUrlTree=ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),this.routerState=ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ye),this.browserUrlTree=ye.urlAfterRedirects)}),((D,E,v)=>(0,et.U)(S=>(new Ii(E,S.targetRouterState,S.currentRouterState,v).activate(D),S)))(this.rootContexts,this.routeReuseStrategy,ye=>this.triggerEvent(ye)),(0,Gt.b)({next(){j=!0},complete(){j=!0}}),function(D){return(0,Ue.e)((E,v)=>{try{E.subscribe(v)}finally{v.add(D)}})}(()=>{var ye;j||ee||this.cancelNavigationTransition(O,`Navigation ID ${O.id} is not equal to the current navigation id ${this.navigationId}`),(null==(ye=this.currentNavigation)?void 0:ye.id)===O.id&&(this.currentNavigation=null)}),Z(ye=>{if(ee=!0,function(D){return D&&D[Ot]}(ye)){const Ze=fi(ye.url);Ze||(this.navigated=!0,this.restoreHistory(O,!0));const Et=new zn(O.id,this.serializeUrl(O.extractedUrl),ye.message);S.next(Et),Ze?setTimeout(()=>{const qn=this.urlHandlingStrategy.merge(ye.url,this.rawUrlTree),$t={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cs(O.source)};this.scheduleNavigation(qn,"imperative",null,$t,{resolve:O.resolve,reject:O.reject,promise:O.promise})},0):O.resolve(!1)}else{this.restoreHistory(O,!0);const Ze=new Xn(O.id,this.serializeUrl(O.extractedUrl),ye);S.next(Ze);try{O.resolve(this.errorHandler(ye))}catch(Et){O.reject(Et)}}return Nt.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(vn(vn({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const S="popstate"===v.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var ye;const O={replaceUrl:!0},j=(null==(ye=v.state)?void 0:ye.navigationId)?v.state:null;if(j){const Ze=vn({},j);delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(O.state=Ze)}const ee=this.parseUrl(v.url);this.scheduleNavigation(ee,S,j,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){to(v),this.config=v.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,S={}){const{relativeTo:O,queryParams:j,fragment:ee,queryParamsHandling:ye,preserveFragment:Ze}=S,Et=O||this.routerState.root,qn=Ze?this.currentUrlTree.fragment:ee;let $t=null;switch(ye){case"merge":$t=vn(vn({},this.currentUrlTree.queryParams),j);break;case"preserve":$t=this.currentUrlTree.queryParams;break;default:$t=j||null}return null!==$t&&($t=this.removeEmptyProps($t)),function(D,E,v,S,O){if(0===v.length)return Vi(E.root,E.root,E,S,O);const j=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Wi(!0,0,D);let E=0,v=!1;const S=D.reduce((O,j,ee)=>{if("object"==typeof j&&null!=j){if(j.outlets){const ye={};return We(j.outlets,(Ze,Et)=>{ye[Et]="string"==typeof Ze?Ze.split("/"):Ze}),[...O,{outlets:ye}]}if(j.segmentPath)return[...O,j.segmentPath]}return"string"!=typeof j?[...O,j]:0===ee?(j.split("/").forEach((ye,Ze)=>{0==Ze&&"."===ye||(0==Ze&&""===ye?v=!0:".."===ye?E++:""!=ye&&O.push(ye))}),O):[...O,j]},[]);return new Wi(v,E,S)}(v);if(j.toRoot())return Vi(E.root,new tn([],{}),E,S,O);const ee=function(D,E,v){if(D.isAbsolute)return new gs(E.root,!0,0);if(-1===v.snapshot._lastPathIndex){const j=v.snapshot._urlSegment;return new gs(j,j===E.root,0)}const S=Ri(D.commands[0])?0:1;return function(D,E,v){let S=D,O=E,j=v;for(;j>O;){if(j-=O,S=S.parent,!S)throw new Error("Invalid number of '../'");O=S.segments.length}return new gs(S,!1,O-j)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+S,D.numberOfDoubleDots)}(j,E,D),ye=ee.processChildren?ns(ee.segmentGroup,ee.index,j.commands):ms(ee.segmentGroup,ee.index,j.commands);return Vi(ee.segmentGroup,ye,E,S,O)}(Et,this.currentUrlTree,v,$t,null!=qn?qn:null)}navigateByUrl(v,S={skipLocationChange:!1}){const O=fi(v)?v:this.parseUrl(v),j=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,S)}navigate(v,S={skipLocationChange:!1}){return function(D){for(let E=0;E<D.length;E++){const v=D[E];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${E}`)}}(v),this.navigateByUrl(this.createUrlTree(v,S),S)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let S;try{S=this.urlSerializer.parse(v)}catch(O){S=this.malformedUriErrorHandler(O,this.urlSerializer,v)}return S}isActive(v,S){let O;if(O=!0===S?vn({},Ro):!1===S?vn({},Qo):S,fi(v))return nt(this.currentUrlTree,v,O);const j=this.parseUrl(v);return nt(this.currentUrlTree,j,O)}removeEmptyProps(v){return Object.keys(v).reduce((S,O)=>{const j=v[O];return null!=j&&(S[O]=j),S},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Bn(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,S,O,j,ee){var dr,$i,ls;if(this.disposed)return Promise.resolve(!1);const ye=this.transitions.value,Ze=cs(S)&&ye&&!cs(ye.source),Et=ye.rawUrl.toString()===v.toString(),qn=ye.id===(null==(dr=this.currentNavigation)?void 0:dr.id);if(Ze&&Et&&qn)return Promise.resolve(!0);let Wn,Zn,_r;ee?(Wn=ee.resolve,Zn=ee.reject,_r=ee.promise):_r=new Promise((Yi,Po)=>{Wn=Yi,Zn=Po});const ao=++this.navigationId;let Yr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),Yr=O&&O.\u0275routerPageId?O.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?null!=($i=this.browserPageId)?$i:0:(null!=(ls=this.browserPageId)?ls:0)+1):Yr=0,this.setTransition({id:ao,targetPageId:Yr,source:S,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:j,resolve:Wn,reject:Zn,promise:_r,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_r.catch(Yi=>Promise.reject(Yi))}setBrowserUrl(v,S){const O=this.urlSerializer.serialize(v),j=vn(vn({},S.extras.state),this.generateNgRouterState(S.id,S.targetPageId));this.location.isCurrentPathEqualTo(O)||S.extras.replaceUrl?this.location.replaceState(O,"",j):this.location.go(O,"",j)}restoreHistory(v,S=!1){var O,j;if("computed"===this.canceledNavigationResolution){const ee=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(O=this.currentNavigation)?void 0:O.finalUrl)||0===ee?this.currentUrlTree===(null==(j=this.currentNavigation)?void 0:j.finalUrl)&&0===ee&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ee)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,S){const O=new zn(v.id,this.serializeUrl(v.extractedUrl),S);this.triggerEvent(O),v.resolve(!1)}generateNgRouterState(v,S){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:S}:{navigationId:v}}}return D.\u0275fac=function(v){_.$Z()},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();function cs(D){return"imperative"!==D}let Is=(()=>{class D{constructor(v,S,O,j,ee){this.router=v,this.route=S,this.tabIndexAttribute=O,this.renderer=j,this.el=ee,this.commands=null,this.onChanges=new ae.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const S=this.renderer,O=this.el.nativeElement;null!==v?S.setAttribute(O,"tabindex",v):S.removeAttribute(O,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const v={skipLocationChange:xo(this.skipLocationChange),replaceUrl:xo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xo(this.preserveFragment)})}}return D.\u0275fac=function(v){return new(v||D)(_.Y36(gi),_.Y36(Oe),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},D.\u0275dir=_.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,S){1&v&&_.NdJ("click",function(){return S.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),D})(),ws=(()=>{class D{constructor(v,S,O){this.router=v,this.route=S,this.locationStrategy=O,this.commands=null,this.href=null,this.onChanges=new ae.x,this.subscription=v.events.subscribe(j=>{j instanceof Bn&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,S,O,j,ee){if(0!==v||S||O||j||ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ye={skipLocationChange:xo(this.skipLocationChange),replaceUrl:xo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ye),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xo(this.preserveFragment)})}}return D.\u0275fac=function(v){return new(v||D)(_.Y36(gi),_.Y36(Oe),_.Y36(m.S$))},D.\u0275dir=_.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,S){1&v&&_.NdJ("click",function(j){return S.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&v&&_.uIk("target",S.target)("href",S.href,_.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),D})();function xo(D){return""===D||!!D}class po{}class La{preload(E,v){return(0,ke.of)(null)}}let _c=(()=>{class D{constructor(v,S,O,j){this.router=v,this.injector=O,this.preloadingStrategy=j,this.loader=new Zo(O,S,Ze=>v.triggerEvent(new zt(Ze)),Ze=>v.triggerEvent(new An(Ze)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xe.h)(v=>v instanceof Bn),ge(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(_.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,S){const O=[];for(const j of S)if(j.loadChildren&&!j.canLoad&&j._loadedConfig){const ee=j._loadedConfig;O.push(this.processRoutes(ee.module,ee.routes))}else j.loadChildren&&!j.canLoad?O.push(this.preloadConfig(v,j)):j.children&&O.push(this.processRoutes(v,j.children));return(0,ce.D)(O).pipe((0,un.J)(),(0,et.U)(j=>{}))}preloadConfig(v,S){return this.preloadingStrategy.preload(S,()=>(S._loadedConfig?(0,ke.of)(S._loadedConfig):this.loader.load(v.injector,S)).pipe((0,X.z)(j=>(S._loadedConfig=j,this.processRoutes(j.module,j.routes)))))}}return D.\u0275fac=function(v){return new(v||D)(_.LFG(gi),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(po))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})(),At=(()=>{class D{constructor(v,S,O={}){this.router=v,this.viewportScroller=S,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Un?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Bn&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof sn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,S){this.router.triggerEvent(new sn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(v){_.$Z()},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();const mi=new _.OlP("ROUTER_CONFIGURATION"),so=new _.OlP("ROUTER_FORROOT_GUARD"),en=[m.Ye,{provide:tr,useClass:Er},{provide:gi,useFactory:function(D,E,v,S,O,j,ee={},ye,Ze){const Et=new gi(null,D,E,v,S,O,me(j));return ye&&(Et.urlHandlingStrategy=ye),Ze&&(Et.routeReuseStrategy=Ze),function(D,E){D.errorHandler&&(E.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(E.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(E.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(E.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(E.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(E.canceledNavigationResolution=D.canceledNavigationResolution)}(ee,Et),ee.enableTracing&&Et.events.subscribe(qn=>{var $t,Wn;null==($t=console.group)||$t.call(console,`Router Event: ${qn.constructor.name}`),console.log(qn.toString()),console.log(qn),null==(Wn=console.groupEnd)||Wn.call(console)}),Et},deps:[tr,ss,m.Ye,_.zs3,_.Sil,Mo,mi,[class{},new _.FiY],[class{},new _.FiY]]},ss,{provide:Oe,useFactory:function(D){return D.routerState.root},deps:[gi]},_c,La,class{preload(E,v){return v().pipe(Z(()=>(0,ke.of)(null)))}},{provide:mi,useValue:{enableTracing:!1}}];function hn(){return new _.PXZ("Router",gi)}let oo=(()=>{class D{constructor(v,S){}static forRoot(v,S){return{ngModule:D,providers:[en,Br(v),{provide:so,useFactory:_t,deps:[[gi,new _.FiY,new _.tp0]]},{provide:mi,useValue:S||{}},{provide:m.S$,useFactory:Ke,deps:[m.lw,[new _.tBr(m.mr),new _.FiY],mi]},{provide:At,useFactory:wt,deps:[gi,m.EM,mi]},{provide:po,useExisting:S&&S.preloadingStrategy?S.preloadingStrategy:La},{provide:_.PXZ,multi:!0,useFactory:hn},[Ua,{provide:_.ip1,multi:!0,useFactory:vc,deps:[Ua]},{provide:Ti,useFactory:go,deps:[Ua]},{provide:_.tb,multi:!0,useExisting:Ti}]]}}static forChild(v){return{ngModule:D,providers:[Br(v)]}}}return D.\u0275fac=function(v){return new(v||D)(_.LFG(so,8),_.LFG(gi,8))},D.\u0275mod=_.oAB({type:D}),D.\u0275inj=_.cJS({}),D})();function wt(D,E,v){return v.scrollOffset&&E.setOffset(v.scrollOffset),new At(D,E,v)}function Ke(D,E,v={}){return v.useHash?new m.Do(D,E):new m.b0(D,E)}function _t(D){return"guarded"}function Br(D){return[{provide:_.deG,multi:!0,useValue:D},{provide:Mo,multi:!0,useValue:D}]}let Ua=(()=>{class D{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ae.x}appInitializer(){return this.injector.get(m.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let S=null;const O=new Promise(ye=>S=ye),j=this.injector.get(gi),ee=this.injector.get(mi);return"disabled"===ee.initialNavigation?(j.setUpLocationChangeListener(),S(!0)):"enabled"===ee.initialNavigation||"enabledBlocking"===ee.initialNavigation?(j.hooks.afterPreactivation=()=>this.initNavigation?(0,ke.of)(null):(this.initNavigation=!0,S(!0),this.resultOfPreactivationDone),j.initialNavigation()):S(!0),O})}bootstrapListener(v){const S=this.injector.get(mi),O=this.injector.get(_c),j=this.injector.get(At),ee=this.injector.get(gi),ye=this.injector.get(_.z2F);v===ye.components[0]&&(("enabledNonBlocking"===S.initialNavigation||void 0===S.initialNavigation)&&ee.initialNavigation(),O.setUpPreloading(),j.init(),ee.resetRootComponentType(ye.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(v){return new(v||D)(_.LFG(_.zs3))},D.\u0275prov=_.Yz7({token:D,factory:D.\u0275fac}),D})();function vc(D){return D.appInitializer.bind(D)}function go(D){return D.bootstrapListener.bind(D)}const Ti=new _.OlP("Router Initializer")},6293:(Dt,Ne,k)=>{"use strict";k.d(Ne,{Z:()=>ot});var m=k(4213),_=k(1177),ae=k(1572),pe=k(3855);class ne{constructor(Le,Ee){this._delegate=Le,this.firebase=Ee,(0,ae._addComponent)(Le,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(Le,Ee=ae._DEFAULT_ENTRY_NAME){var Pe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(Le);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Pe=Ue.getComponent())||void 0===Pe?void 0:Pe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Ee})}_removeServiceInstance(Le,Ee=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ee)}_addComponent(Le){(0,ae._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,ae._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Te(){const ut=function(ut){const Le={},Ee={__esModule:!0,initializeApp:function(Ce,Nt={}){const Z=ae.initializeApp(Ce,Nt);if((0,m.r3)(Le,Z.name))return Le[Z.name];const X=new ut(Z,Ee);return Le[Z.name]=X,X},app:Ue,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function(Ce){const Nt=Ce.name,Z=Nt.replace("-compat","");if(ae._registerComponent(Ce)&&"PUBLIC"===Ce.type){const X=(ie=Ue())=>{if("function"!=typeof ie[Z])throw ce.create("invalid-app-argument",{appName:Nt});return ie[Z]()};void 0!==Ce.serviceProps&&(0,m.ZB)(X,Ce.serviceProps),Ee[Z]=X,ut.prototype[Z]=function(...ie){return this._getService.bind(this,Nt).apply(this,Ce.multipleInstances?ie:[])}}return"PUBLIC"===Ce.type?Ee[Z]:null},removeApp:function(Ce){delete Le[Ce]},useAsService:function(Ce,Nt){return"serverAuth"===Nt?null:Nt},modularAPIs:ae}};function Ue(Ce){if(!(0,m.r3)(Le,Ce=Ce||ae._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Ce});return Le[Ce]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function(){return Object.keys(Le).map(Ce=>Le[Ce])}}),Ue.App=ut,Ee}(ne);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function(Ee){(0,m.ZB)(ut,Ee)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ut}(),te=new pe.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=q;(0,ae.registerVersion)("@firebase/app-compat","0.1.10",undefined)},1572:(Dt,Ne,k)=>{"use strict";k.r(Ne),k.d(Ne,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>zn,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>an,_apps:()=>et,_clearComponents:()=>un,_components:()=>Mt,_getProvider:()=>kt,_registerComponent:()=>wn,_removeServiceInstance:()=>Gt,deleteApp:()=>rr,getApp:()=>Hn,getApps:()=>Rn,initializeApp:()=>Xn,onLog:()=>zt,registerVersion:()=>Ct,setLogLevel:()=>An});var m=k(8239),_=k(1177),ae=k(3855),pe=k(4213);class ne{constructor(Jt){this.container=Jt}getPlatformInfoString(){return this.container.getProviders().map(Qt=>{if(function(Zt){const Jt=Zt.getComponent();return"VERSION"===(null==Jt?void 0:Jt.type)}(Qt)){const sn=Qt.getImmediate();return`${sn.library}/${sn.version}`}return null}).filter(Qt=>Qt).join(" ")}}const ce="@firebase/app",J="0.7.9",Te=new ae.Yd("@firebase/app"),Bt="[DEFAULT]",tt={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Mt=new Map;function Ut(Zt,Jt){try{Zt.container.addComponent(Jt)}catch(Qt){Te.debug(`Component ${Jt.name} failed to register with FirebaseApp ${Zt.name}`,Qt)}}function an(Zt,Jt){Zt.container.addOrOverwriteComponent(Jt)}function wn(Zt){const Jt=Zt.name;if(Mt.has(Jt))return Te.debug(`There were multiple attempts to register component ${Jt}.`),!1;Mt.set(Jt,Zt);for(const Qt of et.values())Ut(Qt,Zt);return!0}function kt(Zt,Jt){return Zt.container.getProvider(Jt)}function Gt(Zt,Jt,Qt=Bt){kt(Zt,Jt).clearInstance(Qt)}function un(){Mt.clear()}const Un=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Bn{constructor(Jt,Qt,sn){this._isDeleted=!1,this._options=Object.assign({},Jt),this._config=Object.assign({},Qt),this._name=Qt.name,this._automaticDataCollectionEnabled=Qt.automaticDataCollectionEnabled,this._container=sn,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Jt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Jt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Jt){this._isDeleted=Jt}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const zn="9.5.0";function Xn(Zt,Jt={}){"object"!=typeof Jt&&(Jt={name:Jt});const Qt=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},Jt),sn=Qt.name;if("string"!=typeof sn||!sn)throw Un.create("bad-app-name",{appName:String(sn)});const Ht=et.get(sn);if(Ht){if((0,pe.vZ)(Zt,Ht.options)&&(0,pe.vZ)(Qt,Ht.config))return Ht;throw Un.create("duplicate-app",{appName:sn})}const cn=new _.H0(sn);for(const Ot of Mt.values())cn.addComponent(Ot);const St=new Bn(Zt,Qt,cn);return et.set(sn,St),St}function Hn(Zt=Bt){const Jt=et.get(Zt);if(!Jt)throw Un.create("no-app",{appName:Zt});return Jt}function Rn(){return Array.from(et.values())}function rr(Zt){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,m.Z)(function*(Zt){const Jt=Zt.name;et.has(Jt)&&(et.delete(Jt),yield Promise.all(Zt.container.getProviders().map(Qt=>Qt.delete())),Zt.isDeleted=!0)})).apply(this,arguments)}function Ct(Zt,Jt,Qt){var sn;let Ht=null!==(sn=tt[Zt])&&void 0!==sn?sn:Zt;Qt&&(Ht+=`-${Qt}`);const cn=Ht.match(/\s|\//),St=Jt.match(/\s|\//);if(cn||St){const Ot=[`Unable to register library "${Ht}" with version "${Jt}":`];return cn&&Ot.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),cn&&St&&Ot.push("and"),St&&Ot.push(`version name "${Jt}" contains illegal characters (whitespace or "/")`),void Te.warn(Ot.join(" "))}wn(new _.wA(`${Ht}-version`,()=>({library:Ht,version:Jt}),"VERSION"))}function zt(Zt,Jt){if(null!==Zt&&"function"!=typeof Zt)throw Un.create("invalid-log-argument");(0,ae.Am)(Zt,Jt)}function An(Zt){(0,ae.Ub)(Zt)}wn(new _.wA("platform-logger",Jt=>new ne(Jt),"PRIVATE")),Ct(ce,J,""),Ct(ce,J,"esm2017"),Ct("fire-js","")},1177:(Dt,Ne,k)=>{"use strict";k.d(Ne,{wA:()=>ae,H0:()=>J});var m=k(8239),_=k(4213);class ae{constructor(q,te,ve){this.name=q,this.instanceFactory=te,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const pe="[DEFAULT]";class ne{constructor(q,te){this.name=q,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const te=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(te)){const ve=new _.BH;if(this.instancesDeferred.set(te,ve),this.isInitialized(te)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:te});$e&&ve.resolve($e)}catch($e){}}return this.instancesDeferred.get(te).promise}getImmediate(q){var te;const ve=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),$e=null!==(te=null==q?void 0:q.optional)&&void 0!==te&&te;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Ve){if($e)return null;throw Ve}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if("EAGER"===q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:pe})}catch(te){}for(const[te,ve]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(te);try{const Ve=this.getOrInitializeService({instanceIdentifier:$e});ve.resolve(Ve)}catch(Ve){}}}}clearInstance(q=pe){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,m.Z)(function*(){const te=Array.from(q.instances.values());yield Promise.all([...te.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...te.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=pe){return this.instances.has(q)}getOptions(q=pe){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:te={}}=q,ve=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ve,options:te});for(const[Ve,ot]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Ve)&&ot.resolve($e);return $e}onInit(q,te){var ve;const $e=this.normalizeInstanceIdentifier(te),Ve=null!==(ve=this.onInitCallbacks.get($e))&&void 0!==ve?ve:new Set;Ve.add(q),this.onInitCallbacks.set($e,Ve);const ot=this.instances.get($e);return ot&&q(ot,$e),()=>{Ve.delete(q)}}invokeOnInitCallbacks(q,te){const ve=this.onInitCallbacks.get(te);if(ve)for(const $e of ve)try{$e(q,te)}catch(Ve){}}getOrInitializeService({instanceIdentifier:q,options:te={}}){let ve=this.instances.get(q);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=q,Te===pe?void 0:Te),options:te}),this.instances.set(q,ve),this.instancesOptions.set(q,te),this.invokeOnInitCallbacks(ve,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ve)}catch($e){}var Te;return ve||null}normalizeInstanceIdentifier(q=pe){return this.component?this.component.multipleInstances?q:pe:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const te=this.getProvider(q.name);if(te.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);te.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const te=new ne(q,this);return this.providers.set(q,te),te}getProviders(){return Array.from(this.providers.values())}}},8094:(Dt,Ne,k)=>{"use strict";var m=k(8239),_=k(1572),ae=k(1177),pe=k(4213),ne=k(4995);const Ie="@firebase/installations",Te="w:0.5.4",q="FIS_v2",ut=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(fe){return fe instanceof pe.ZR&&fe.code.includes("request-failed")}function Ee({projectId:fe}){return`https://firebaseinstallations.googleapis.com/v1/projects/${fe}/installations`}function Pe(fe){return{token:fe.token,requestStatus:2,expiresIn:Nt(fe.expiresIn),creationTime:Date.now()}}function Ue(fe,Ge){return Re.apply(this,arguments)}function Re(){return(Re=(0,m.Z)(function*(fe,Ge){const it=(yield Ge.json()).error;return ut.create("request-failed",{requestName:fe,serverCode:it.code,serverMessage:it.message,serverStatus:it.status})})).apply(this,arguments)}function at({apiKey:fe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":fe})}function ke(fe,{refreshToken:Ge}){const ft=at(fe);return ft.append("Authorization",function(fe){return`${q} ${fe}`}(Ge)),ft}function dt(fe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,m.Z)(function*(fe){const Ge=yield fe();return Ge.status>=500&&Ge.status<600?fe():Ge})).apply(this,arguments)}function Nt(fe){return Number(fe.replace("s","000"))}function X(fe,Ge){return ie.apply(this,arguments)}function ie(){return(ie=(0,m.Z)(function*(fe,{fid:Ge}){const ft=Ee(fe),dn={method:"POST",headers:at(fe),body:JSON.stringify({fid:Ge,authVersion:q,appId:fe.appId,sdkVersion:Te})},ur=yield dt(()=>fetch(ft,dn));if(ur.ok){const Mn=yield ur.json();return{fid:Mn.fid||Ge,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:Pe(Mn.authToken)}}throw yield Ue("Create Installation",ur)})).apply(this,arguments)}function ge(fe){return new Promise(Ge=>{setTimeout(Ge,fe)})}const re=/^[cdef][\w-]{21}$/;function ht(){try{const fe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(fe),fe[0]=112+fe[0]%16;const ft=function(fe){return function(fe){return btoa(String.fromCharCode(...fe)).replace(/\+/g,"-").replace(/\//g,"_")}(fe).substr(0,22)}(fe);return re.test(ft)?ft:""}catch(fe){return""}}function tt(fe){return`${fe.appName}!${fe.appId}`}const et=new Map;function Mt(fe,Ge){const ft=tt(fe);wn(ft,Ge),function(fe,Ge){const ft=(!Gt&&"BroadcastChannel"in self&&(Gt=new BroadcastChannel("[Firebase] FID Change"),Gt.onmessage=fe=>{wn(fe.data.key,fe.data.fid)}),Gt);ft&&ft.postMessage({key:fe,fid:Ge}),0===et.size&&Gt&&(Gt.close(),Gt=null)}(ft,Ge)}function wn(fe,Ge){const ft=et.get(fe);if(ft)for(const it of ft)it(Ge)}let Gt=null;const zn="firebase-installations-store";let Xn=null;function Hn(){return Xn||(Xn=(0,ne.openDb)("firebase-installations-database",1,fe=>{0===fe.oldVersion&&fe.createObjectStore(zn)})),Xn}function Rn(fe,Ge){return rr.apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(fe,Ge){const ft=tt(fe),Pn=(yield Hn()).transaction(zn,"readwrite"),dn=Pn.objectStore(zn),ur=yield dn.get(ft);return yield dn.put(Ge,ft),yield Pn.complete,(!ur||ur.fid!==Ge.fid)&&Mt(fe,Ge.fid),Ge})).apply(this,arguments)}function Qn(fe){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,m.Z)(function*(fe){const Ge=tt(fe),it=(yield Hn()).transaction(zn,"readwrite");yield it.objectStore(zn).delete(Ge),yield it.complete})).apply(this,arguments)}function zt(fe,Ge){return An.apply(this,arguments)}function An(){return(An=(0,m.Z)(function*(fe,Ge){const ft=tt(fe),Pn=(yield Hn()).transaction(zn,"readwrite"),dn=Pn.objectStore(zn),ur=yield dn.get(ft),Mn=Ge(ur);return void 0===Mn?yield dn.delete(ft):yield dn.put(Mn,ft),yield Pn.complete,Mn&&(!ur||ur.fid!==Mn.fid)&&Mt(fe,Mn.fid),Mn})).apply(this,arguments)}function er(fe){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,m.Z)(function*(fe){let Ge;const ft=yield zt(fe,it=>{const Pn=Jt(it),dn=Qt(fe,Pn);return Ge=dn.registrationPromise,dn.installationEntry});return""===ft.fid?{installationEntry:yield Ge}:{installationEntry:ft,registrationPromise:Ge}})).apply(this,arguments)}function Jt(fe){return Jn(fe||{fid:ht(),registrationStatus:0})}function Qt(fe,Ge){if(0===Ge.registrationStatus){if(!navigator.onLine)return{installationEntry:Ge,registrationPromise:Promise.reject(ut.create("app-offline"))};const ft={fid:Ge.fid,registrationStatus:1,registrationTime:Date.now()},it=function(fe,Ge){return Ht.apply(this,arguments)}(fe,ft);return{installationEntry:ft,registrationPromise:it}}return 1===Ge.registrationStatus?{installationEntry:Ge,registrationPromise:cn(fe)}:{installationEntry:Ge}}function Ht(){return(Ht=(0,m.Z)(function*(fe,Ge){try{return Rn(fe,yield X(fe,Ge))}catch(ft){throw Le(ft)&&409===ft.customData.serverCode?yield Qn(fe):yield Rn(fe,{fid:Ge.fid,registrationStatus:0}),ft}})).apply(this,arguments)}function cn(fe){return St.apply(this,arguments)}function St(){return(St=(0,m.Z)(function*(fe){let Ge=yield Ot(fe);for(;1===Ge.registrationStatus;)yield ge(100),Ge=yield Ot(fe);if(0===Ge.registrationStatus){const{installationEntry:ft,registrationPromise:it}=yield er(fe);return it||ft}return Ge})).apply(this,arguments)}function Ot(fe){return zt(fe,Ge=>{if(!Ge)throw ut.create("installation-not-found");return Jn(Ge)})}function Jn(fe){return function(fe){return 1===fe.registrationStatus&&fe.registrationTime+1e4<Date.now()}(fe)?{fid:fe.fid,registrationStatus:0}:fe}function vr(fe,Ge){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*({appConfig:fe,platformLoggerProvider:Ge},ft){const it=Sn(fe,ft),Pn=ke(fe,ft),dn=Ge.getImmediate({optional:!0});dn&&Pn.append("x-firebase-client",dn.getPlatformInfoString());const Mn={method:"POST",headers:Pn,body:JSON.stringify({installation:{sdkVersion:Te}})},ir=yield dt(()=>fetch(it,Mn));if(ir.ok)return Pe(yield ir.json());throw yield Ue("Generate Auth Token",ir)})).apply(this,arguments)}function Sn(fe,{fid:Ge}){return`${Ee(fe)}/${Ge}/authTokens:generate`}function qr(fe){return me.apply(this,arguments)}function me(){return(me=(0,m.Z)(function*(fe,Ge=!1){let ft;const it=yield zt(fe.appConfig,dn=>{if(!Ae(dn))throw ut.create("not-registered");const ur=dn.authToken;if(!Ge&&He(ur))return dn;if(1===ur.requestStatus)return ft=oe(fe,Ge),dn;{if(!navigator.onLine)throw ut.create("app-offline");const Mn=It(dn);return ft=Me(fe,Mn),Mn}});return ft?yield ft:it.authToken})).apply(this,arguments)}function oe(fe,Ge){return _e.apply(this,arguments)}function _e(){return(_e=(0,m.Z)(function*(fe,Ge){let ft=yield We(fe.appConfig);for(;1===ft.authToken.requestStatus;)yield ge(100),ft=yield We(fe.appConfig);const it=ft.authToken;return 0===it.requestStatus?qr(fe,Ge):it})).apply(this,arguments)}function We(fe){return zt(fe,Ge=>{if(!Ae(Ge))throw ut.create("not-registered");return function(fe){return 1===fe.requestStatus&&fe.requestTime+1e4<Date.now()}(Ge.authToken)?Object.assign(Object.assign({},Ge),{authToken:{requestStatus:0}}):Ge})}function Me(fe,Ge){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,m.Z)(function*(fe,Ge){try{const ft=yield vr(fe,Ge),it=Object.assign(Object.assign({},Ge),{authToken:ft});return yield Rn(fe.appConfig,it),ft}catch(ft){if(!Le(ft)||401!==ft.customData.serverCode&&404!==ft.customData.serverCode){const it=Object.assign(Object.assign({},Ge),{authToken:{requestStatus:0}});yield Rn(fe.appConfig,it)}else yield Qn(fe.appConfig);throw ft}})).apply(this,arguments)}function Ae(fe){return void 0!==fe&&2===fe.registrationStatus}function He(fe){return 2===fe.requestStatus&&!function(fe){const Ge=Date.now();return Ge<fe.creationTime||fe.creationTime+fe.expiresIn<Ge+36e5}(fe)}function It(fe){const Ge={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},fe),{authToken:Ge})}function xt(){return(xt=(0,m.Z)(function*(fe){const Ge=fe,{installationEntry:ft,registrationPromise:it}=yield er(Ge.appConfig);return it?it.catch(console.error):qr(Ge).catch(console.error),ft.fid})).apply(this,arguments)}function gn(){return(gn=(0,m.Z)(function*(fe,Ge=!1){const ft=fe;return yield En(ft.appConfig),(yield qr(ft,Ge)).token})).apply(this,arguments)}function En(fe){return tn.apply(this,arguments)}function tn(){return(tn=(0,m.Z)(function*(fe){const{registrationPromise:Ge}=yield er(fe);Ge&&(yield Ge)})).apply(this,arguments)}function Kt(fe){return ut.create("missing-app-config-values",{valueName:fe})}const xn="installations";(0,_._registerComponent)(new ae.wA(xn,fe=>{const Ge=fe.getProvider("app").getImmediate(),ft=function(fe){if(!fe||!fe.options)throw Kt("App Configuration");if(!fe.name)throw Kt("App Name");const Ge=["projectId","apiKey","appId"];for(const ft of Ge)if(!fe.options[ft])throw Kt(ft);return{appName:fe.name,projectId:fe.options.projectId,apiKey:fe.options.apiKey,appId:fe.options.appId}}(Ge);return{app:Ge,appConfig:ft,platformLoggerProvider:(0,_._getProvider)(Ge,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,_._registerComponent)(new ae.wA("installations-internal",fe=>{const Ge=fe.getProvider("app").getImmediate(),ft=(0,_._getProvider)(Ge,xn).getImmediate();return{getId:()=>function(fe){return xt.apply(this,arguments)}(ft),getToken:Pn=>function(fe){return gn.apply(this,arguments)}(ft,Pn)}},"PRIVATE")),(0,_.registerVersion)(Ie,"0.5.4"),(0,_.registerVersion)(Ie,"0.5.4","esm2017")},3855:(Dt,Ne,k)=>{"use strict";k.d(Ne,{in:()=>_,Yd:()=>ce,Ub:()=>J,Am:()=>Te});const m=[];var _=(()=>{return(q=_||(_={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",_;var q})();const ae={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},pe=_.INFO,ne={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},Ie=(q,te,...ve)=>{if(te<q.logLevel)return;const $e=(new Date).toISOString(),Ve=ne[te];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[Ve](`[${$e}]  ${q.name}:`,...ve)};class ce{constructor(te){this.name=te,this._logLevel=pe,this._logHandler=Ie,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in _))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?ae[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...te),this._logHandler(this,_.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...te),this._logHandler(this,_.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,_.INFO,...te),this._logHandler(this,_.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,_.WARN,...te),this._logHandler(this,_.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...te),this._logHandler(this,_.ERROR,...te)}}function J(q){m.forEach(te=>{te.setLogLevel(q)})}function Te(q,te){for(const ve of m){let $e=null;te&&te.level&&($e=ae[te.level]),ve.userLogHandler=null===q?null:(Ve,ot,...ut)=>{const Le=ut.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch(Pe){return null}}).filter(Ee=>Ee).join(" ");ot>=(null!=$e?$e:Ve.logLevel)&&q({level:_[ot].toLowerCase(),message:Le,args:ut,type:Ve.name})}}}},8239:(Dt,Ne,k)=>{"use strict";function m(ae,pe,ne,Ie,ce,J,Te){try{var q=ae[J](Te),te=q.value}catch(ve){return void ne(ve)}q.done?pe(te):Promise.resolve(te).then(Ie,ce)}function _(ae){return function(){var pe=this,ne=arguments;return new Promise(function(Ie,ce){var J=ae.apply(pe,ne);function Te(te){m(J,Ie,ce,Te,q,"next",te)}function q(te){m(J,Ie,ce,Te,q,"throw",te)}Te(void 0)})}}k.d(Ne,{Z:()=>_})}},Dt=>{Dt(Dt.s=4519)}]);